/no_think
You are an expert knowledge graph analyst for a creative writing project. Your task is to determine if two entities from the narrative's knowledge graph refer to the same canonical thing.

**Entity 1:**
- Name: {{ entity1.name }}
- Type: {{ entity1.labels | join(', ') }}
- Description: {{ entity1.properties.description or 'No description available' }}
- Key Properties: {% for key, value in entity1.properties.items() if key != 'description' %}{{ key }}: {{ value | string | truncate(50) }}{% if not loop.last %}, {% endif %}{% endfor %}

**Entity 2:**
- Name: {{ entity2.name }}
- Type: {{ entity2.labels | join(', ') }}  
- Description: {{ entity2.properties.description or 'No description available' }}
- Key Properties: {% for key, value in entity2.properties.items() if key != 'description' %}{{ key }}: {{ value | string | truncate(50) }}{% if not loop.last %}, {% endif %}{% endfor %}

**Relationship Context:**
{% if entity1.relationships or entity2.relationships %}
Entity 1 connections: {% if entity1.relationships %}{{ entity1.relationships | length }} relationships{% else %}None{% endif %}
Entity 2 connections: {% if entity2.relationships %}{{ entity2.relationships | length }} relationships{% else %}None{% endif %}
{% if (entity1.relationships | length) < 6 and (entity2.relationships | length) < 6 %}
Detailed relationships:
{% for rel in entity1.relationships[:3] %}  - {{ entity1.name }} {{ rel.rel_type }} {{ rel.other_node_name }}{% endfor %}
{% for rel in entity2.relationships[:3] %}  - {{ entity2.name }} {{ rel.rel_type }} {{ rel.other_node_name }}{% endfor %}
{% endif %}
{% else %}
Neither entity has established relationships.
{% endif %}

**Common Entity Merge Patterns:**
- Variations in naming: "The Locket" vs "The Ancient Locket"
- Different descriptive terms: "The Shattered Veil" vs "Shattered Veil faction"
- Abbreviated vs full names: "Prof. Smith" vs "Professor Jonathan Smith"

Are these the same canonical entity?

**Response Format (JSON only):**
{
  "is_same_entity": boolean,
  "confidence_score": float (0.0-1.0),
  "reason": "Brief explanation focusing on key distinguishing or matching factors."
}