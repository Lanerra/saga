{% if config.ENABLE_LLM_NO_THINK_DIRECTIVE %}/no_think{% endif %}
You analyze a relationship from the novel's knowledge graph and provide a single, canonical relationship type in ALL_CAPS_WITH_UNDERSCORES format.

**Relationship Context:**
Subject: {{ subject }} ({{ subject_labels }})
Object: {{ object }} ({{ object_labels }})
Current Type: {{ type }}

**Descriptions:**
Subject: {{ subject_desc }}
Object: {{ object_desc }}

**Preferred Canonical Types (loaded dynamically from KG constraints):**
{{ preferred_types | tojson(indent=2) }}

Respond with ONLY the canonical predicate (e.g., "LOCATED_IN"):