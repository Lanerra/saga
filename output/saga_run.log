11/08/2025, 17:37:16 - [core.http_client_service] - info - HTTPClientService initialized with timeout=600.0s, concurrency_limit=4 - (_record=<LogRecord: core.http_client_service, 20, /home/dlewis3/Desktop/AI/saga/core/http_client_service.py, 56, "{'event': 'HTTPClientService initialized with timeout=600.0s, concurrency_limit=4', 'level': 'info', 'logger': 'core.http_client_service', 'timestamp': '11/08/2025, 17:37:16'}"> _from_structlog=True)
11/08/2025, 17:37:16 - [core.text_processing_service] - info - TextProcessingService initialized with all sub-services - (_record=<LogRecord: core.text_processing_service, 20, /home/dlewis3/Desktop/AI/saga/core/text_processing_service.py, 462, "{'event': 'TextProcessingService initialized with all sub-services', 'level': 'info', 'logger': 'core.text_processing_service', 'timestamp': '11/08/2025, 17:37:16'}"> _from_structlog=True)
11/08/2025, 17:37:16 - [core.llm_interface_refactored] - info - RefactoredLLMService initialized with separated components - (_record=<LogRecord: core.llm_interface_refactored, 20, /home/dlewis3/Desktop/AI/saga/core/llm_interface_refactored.py, 561, "{'event': 'RefactoredLLMService initialized with separated components', 'level': 'info', 'logger': 'core.llm_interface_refactored', 'timestamp': '11/08/2025, 17:37:16'}"> _from_structlog=True)
11/08/2025, 17:37:16 - [core.db_manager] - info - Neo4jManagerSingleton initialized. Call connect() to establish connection. - (_record=<LogRecord: core.db_manager, 20, /home/dlewis3/Desktop/AI/saga/core/db_manager.py, 44, "{'event': 'Neo4jManagerSingleton initialized. Call connect() to establish connection.', 'level': 'info', 'logger': 'core.db_manager', 'timestamp': '11/08/2025, 17:37:16'}"> _from_structlog=True)
2025-11-08 17:37:16 - [root] - info - File logging enabled. Log file: output/saga_run.log
2025-11-08 17:37:16 - [root] - info - Rich logging handler enabled for console.
11/08/2025, 17:37:16 - [orchestration.nana_orchestrator] - info - SAGA Logging setup complete. Application Log Level: 20. - (_record=<LogRecord: orchestration.nana_orchestrator, 20, /home/dlewis3/Desktop/AI/saga/orchestration/nana_orchestrator.py, 1910, "{'event': 'SAGA Logging setup complete. Application Log Level: 20.', 'level': 'info', 'logger': 'orchestration.nana_orchestrator', 'timestamp': '11/08/2025, 17:37:16'}"> _from_structlog=True)
11/08/2025, 17:37:16 - [__main__] - info - Using LangGraph-based workflow - (_record=<LogRecord: __main__, 20, /home/dlewis3/Desktop/AI/saga/main.py, 65, "{'event': 'Using LangGraph-based workflow', 'level': 'info', 'logger': '__main__', 'timestamp': '11/08/2025, 17:37:16'}"> _from_structlog=True)
11/08/2025, 17:37:16 - [orchestration.langgraph_orchestrator] - info - Initializing LangGraph Orchestrator... - (_record=<LogRecord: orchestration.langgraph_orchestrator, 20, /home/dlewis3/Desktop/AI/saga/orchestration/langgraph_orchestrator.py, 36, "{'event': 'Initializing LangGraph Orchestrator...', 'level': 'info', 'logger': 'orchestration.langgraph_orchestrator', 'timestamp': '11/08/2025, 17:37:16'}"> _from_structlog=True)
11/08/2025, 17:37:16 - [orchestration.langgraph_orchestrator] - info - LangGraph Orchestrator initialized. - (_record=<LogRecord: orchestration.langgraph_orchestrator, 20, /home/dlewis3/Desktop/AI/saga/orchestration/langgraph_orchestrator.py, 40, "{'event': 'LangGraph Orchestrator initialized.', 'level': 'info', 'logger': 'orchestration.langgraph_orchestrator', 'timestamp': '11/08/2025, 17:37:16'}"> _from_structlog=True)
11/08/2025, 17:37:16 - [orchestration.langgraph_orchestrator] - info - ============================================================ - (_record=<LogRecord: orchestration.langgraph_orchestrator, 20, /home/dlewis3/Desktop/AI/saga/orchestration/langgraph_orchestrator.py, 53, "{'event': '============================================================', 'level': 'info', 'logger': 'orchestration.langgraph_orchestrator', 'timestamp': '11/08/2025, 17:37:16'}"> _from_structlog=True)
11/08/2025, 17:37:16 - [orchestration.langgraph_orchestrator] - info - SAGA: LangGraph-based Novel Generation Starting - (_record=<LogRecord: orchestration.langgraph_orchestrator, 20, /home/dlewis3/Desktop/AI/saga/orchestration/langgraph_orchestrator.py, 54, "{'event': 'SAGA: LangGraph-based Novel Generation Starting', 'level': 'info', 'logger': 'orchestration.langgraph_orchestrator', 'timestamp': '11/08/2025, 17:37:16'}"> _from_structlog=True)
11/08/2025, 17:37:16 - [orchestration.langgraph_orchestrator] - info - ============================================================ - (_record=<LogRecord: orchestration.langgraph_orchestrator, 20, /home/dlewis3/Desktop/AI/saga/orchestration/langgraph_orchestrator.py, 55, "{'event': '============================================================', 'level': 'info', 'logger': 'orchestration.langgraph_orchestrator', 'timestamp': '11/08/2025, 17:37:16'}"> _from_structlog=True)
11/08/2025, 17:37:16 - [orchestration.langgraph_orchestrator] - info - Connecting to Neo4j... - (_record=<LogRecord: orchestration.langgraph_orchestrator, 20, /home/dlewis3/Desktop/AI/saga/orchestration/langgraph_orchestrator.py, 88, "{'event': 'Connecting to Neo4j...', 'level': 'info', 'logger': 'orchestration.langgraph_orchestrator', 'timestamp': '11/08/2025, 17:37:16'}"> _from_structlog=True)
11/08/2025, 17:37:16 - [core.db_manager] - info - Successfully connected to Neo4j at bolt://localhost:7687 - (_record=<LogRecord: core.db_manager, 20, /home/dlewis3/Desktop/AI/saga/core/db_manager.py, 62, "{'event': 'Successfully connected to Neo4j at bolt://localhost:7687', 'level': 'info', 'logger': 'core.db_manager', 'timestamp': '11/08/2025, 17:37:16'}"> _from_structlog=True)
11/08/2025, 17:37:16 - [core.db_manager] - info - Creating/verifying Neo4j schema elements (phased execution)... - (_record=<LogRecord: core.db_manager, 20, /home/dlewis3/Desktop/AI/saga/core/db_manager.py, 288, "{'event': 'Creating/verifying Neo4j schema elements (phased execution)...', 'level': 'info', 'logger': 'core.db_manager', 'timestamp': '11/08/2025, 17:37:16'}"> _from_structlog=True)
11/08/2025, 17:37:16 - [core.db_manager] - info - Phase 1: Creating constraints and indexes... - (_record=<LogRecord: core.db_manager, 20, /home/dlewis3/Desktop/AI/saga/core/db_manager.py, 301, "{'event': 'Phase 1: Creating constraints and indexes...', 'level': 'info', 'logger': 'core.db_manager', 'timestamp': '11/08/2025, 17:37:16'}"> _from_structlog=True)
11/08/2025, 17:37:17 - [core.db_manager] - info - Phase 1 complete: Successfully created 17 schema elements. - (_record=<LogRecord: core.db_manager, 20, /home/dlewis3/Desktop/AI/saga/core/db_manager.py, 337, "{'event': 'Phase 1 complete: Successfully created 17 schema elements.', 'level': 'info', 'logger': 'core.db_manager', 'timestamp': '11/08/2025, 17:37:17'}"> _from_structlog=True)
11/08/2025, 17:37:17 - [core.db_manager] - info - Vector index created successfully. - (_record=<LogRecord: core.db_manager, 20, /home/dlewis3/Desktop/AI/saga/core/db_manager.py, 358, "{'event': 'Vector index created successfully.', 'level': 'info', 'logger': 'core.db_manager', 'timestamp': '11/08/2025, 17:37:17'}"> _from_structlog=True)
11/08/2025, 17:37:17 - [core.db_manager] - info - Phase 2: Creating type placeholders... - (_record=<LogRecord: core.db_manager, 20, /home/dlewis3/Desktop/AI/saga/core/db_manager.py, 367, "{'event': 'Phase 2: Creating type placeholders...', 'level': 'info', 'logger': 'core.db_manager', 'timestamp': '11/08/2025, 17:37:17'}"> _from_structlog=True)
11/08/2025, 17:37:19 - [core.db_manager] - info - Neo4j: Batch processed 216 KG triple statements. Constraint validation stats: 216/216 accepted, 0 corrected, 0 rejected. - (_record=<LogRecord: core.db_manager, 20, /home/dlewis3/Desktop/AI/saga/core/db_manager.py, 161, "{'event': 'Neo4j: Batch processed 216 KG triple statements. Constraint validation stats: 216/216 accepted, 0 corrected, 0 rejected.', 'level': 'info', 'logger': 'core.db_manager', 'timestamp': '11/08/2025, 17:37:19'}"> _from_structlog=True)
11/08/2025, 17:37:19 - [core.db_manager] - info - Phase 2 complete: Successfully created 216 type placeholders. - (_record=<LogRecord: core.db_manager, 20, /home/dlewis3/Desktop/AI/saga/core/db_manager.py, 415, "{'event': 'Phase 2 complete: Successfully created 216 type placeholders.', 'level': 'info', 'logger': 'core.db_manager', 'timestamp': '11/08/2025, 17:37:19'}"> _from_structlog=True)
11/08/2025, 17:37:19 - [core.db_manager] - info - Neo4j schema (indexes, constraints, labels, relationship types, vector index) verification process complete. - (_record=<LogRecord: core.db_manager, 20, /home/dlewis3/Desktop/AI/saga/core/db_manager.py, 295, "{'event': 'Neo4j schema (indexes, constraints, labels, relationship types, vector index) verification process complete.', 'level': 'info', 'logger': 'core.db_manager', 'timestamp': '11/08/2025, 17:37:19'}"> _from_structlog=True)
11/08/2025, 17:37:19 - [orchestration.langgraph_orchestrator] - info - ✓ Neo4j connected - (_record=<LogRecord: orchestration.langgraph_orchestrator, 20, /home/dlewis3/Desktop/AI/saga/orchestration/langgraph_orchestrator.py, 91, "{'event': '✓ Neo4j connected', 'level': 'info', 'logger': 'orchestration.langgraph_orchestrator', 'timestamp': '11/08/2025, 17:37:19'}"> _from_structlog=True)
11/08/2025, 17:37:19 - [data_access.chapter_queries] - info - Neo4j loaded chapter count: 0 - (_record=<LogRecord: data_access.chapter_queries, 20, /home/dlewis3/Desktop/AI/saga/data_access/chapter_queries.py, 18, "{'event': 'Neo4j loaded chapter count: 0', 'level': 'info', 'logger': 'data_access.chapter_queries', 'timestamp': '11/08/2025, 17:37:19'}"> _from_structlog=True)
11/08/2025, 17:37:19 - [orchestration.langgraph_orchestrator] - info - Current chapter: 1 (existing: 0) - (_record=<LogRecord: orchestration.langgraph_orchestrator, 20, /home/dlewis3/Desktop/AI/saga/orchestration/langgraph_orchestrator.py, 104, "{'event': 'Current chapter: 1 (existing: 0)', 'level': 'info', 'logger': 'orchestration.langgraph_orchestrator', 'timestamp': '11/08/2025, 17:37:19'}"> _from_structlog=True)
11/08/2025, 17:37:19 - [data_access.character_queries] - info - Fetched 0 characters using native models - (_record=<LogRecord: data_access.character_queries, 20, /home/dlewis3/Desktop/AI/saga/data_access/character_queries.py, 702, "{'event': 'Fetched 0 characters using native models', 'level': 'info', 'logger': 'data_access.character_queries', 'timestamp': '11/08/2025, 17:37:19'}"> _from_structlog=True)
11/08/2025, 17:37:19 - [orchestration.langgraph_orchestrator] - info - Initialization detection: 0 characters found - (initialization_complete=False _record=<LogRecord: orchestration.langgraph_orchestrator, 20, /home/dlewis3/Desktop/AI/saga/orchestration/langgraph_orchestrator.py, 113, "{'initialization_complete': False, 'event': 'Initialization detection: 0 characters found', 'level': 'info', 'logger': 'orchestration.langgraph_orchestrator', 'timestamp': '11/08/2025, 17:37:19'}"> _from_structlog=True)
11/08/2025, 17:37:19 - [orchestration.langgraph_orchestrator] - warning - Initialization artifacts incomplete for output: Missing saga.yaml; Missing outline/structure.yaml; Missing outline/beats.yaml; Missing any characters/*.yaml files; Missing world/items.yaml; Missing world/rules.yaml; Missing world/history.yaml - (_record=<LogRecord: orchestration.langgraph_orchestrator, 30, /home/dlewis3/Desktop/AI/saga/orchestration/langgraph_orchestrator.py, 158, "{'event': 'Initialization artifacts incomplete for output: Missing saga.yaml; Missing outline/structure.yaml; Missing outline/beats.yaml; Missing any characters/*.yaml files; Missing world/items.yaml; Missing world/rules.yaml; Missing world/history.yaml', 'level': 'warning', 'logger': 'orchestration.langgraph_orchestrator', 'timestamp': '11/08/2025, 17:37:19'}"> _from_structlog=True)
11/08/2025, 17:37:19 - [core.langgraph.workflow] - info - create_checkpointer: creating async SQLite checkpointer - (db_path=output/.saga/checkpoints.db _record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 366, "{'db_path': 'output/.saga/checkpoints.db', 'event': 'create_checkpointer: creating async SQLite checkpointer', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/08/2025, 17:37:19'}"> _from_structlog=True)
11/08/2025, 17:37:19 - [core.langgraph.workflow] - info - create_full_workflow_graph: building complete workflow - (_record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 531, "{'event': 'create_full_workflow_graph: building complete workflow', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/08/2025, 17:37:19'}"> _from_structlog=True)
11/08/2025, 17:37:19 - [core.langgraph.workflow] - info - create_full_workflow_graph: graph built successfully - (total_nodes=14 entry_point=route _record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 666, "{'total_nodes': 14, 'entry_point': 'route', 'event': 'create_full_workflow_graph: graph built successfully', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/08/2025, 17:37:19'}"> _from_structlog=True)
11/08/2025, 17:37:19 - [core.langgraph.workflow] - info - create_full_workflow_graph: compiling with checkpointing enabled - (_record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 674, "{'event': 'create_full_workflow_graph: compiling with checkpointing enabled', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/08/2025, 17:37:19'}"> _from_structlog=True)
11/08/2025, 17:37:19 - [orchestration.langgraph_orchestrator] - info - Starting chapter generation loop - (chapters_per_run=3 starting_chapter=1 total_chapters=20 _record=<LogRecord: orchestration.langgraph_orchestrator, 20, /home/dlewis3/Desktop/AI/saga/orchestration/langgraph_orchestrator.py, 181, "{'chapters_per_run': 3, 'starting_chapter': 1, 'total_chapters': 20, 'event': 'Starting chapter generation loop', 'level': 'info', 'logger': 'orchestration.langgraph_orchestrator', 'timestamp': '11/08/2025, 17:37:19'}"> _from_structlog=True)
11/08/2025, 17:37:19 - [orchestration.langgraph_orchestrator] - info - ============================================================
Generating Chapter 1 of 20
============================================================ - (_record=<LogRecord: orchestration.langgraph_orchestrator, 20, /home/dlewis3/Desktop/AI/saga/orchestration/langgraph_orchestrator.py, 194, "{'event': '============================================================\nGenerating Chapter 1 of 20\n============================================================', 'level': 'info', 'logger': 'orchestration.langgraph_orchestrator', 'timestamp': '11/08/2025, 17:37:19'}"> _from_structlog=True)
11/08/2025, 17:37:19 - [core.langgraph.workflow] - info - route_entry: determining workflow path - (_record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 548, "{'event': 'route_entry: determining workflow path', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/08/2025, 17:37:19'}"> _from_structlog=True)
11/08/2025, 17:37:19 - [core.langgraph.workflow] - info - should_initialize: routing decision - (initialization_complete=False _record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 484, "{'initialization_complete': False, 'event': 'should_initialize: routing decision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/08/2025, 17:37:19'}"> _from_structlog=True)
11/08/2025, 17:37:19 - [core.langgraph.workflow] - info - should_initialize: initialization needed, routing to init workflow - (_record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 490, "{'event': 'should_initialize: initialization needed, routing to init workflow', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/08/2025, 17:37:19'}"> _from_structlog=True)
11/08/2025, 17:37:19 - [core.langgraph.initialization.character_sheets_node] - info - generate_character_sheets: starting character sheet generation - (title=Untitled Narrative genre=Grimdark science fiction _record=<LogRecord: core.langgraph.initialization.character_sheets_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/initialization/character_sheets_node.py, 39, "{'title': 'Untitled Narrative', 'genre': 'Grimdark science fiction', 'event': 'generate_character_sheets: starting character sheet generation', 'level': 'info', 'logger': 'core.langgraph.initialization.character_sheets_node', 'timestamp': '11/08/2025, 17:37:19'}"> _from_structlog=True)
11/08/2025, 17:37:19 - [core.langgraph.initialization.character_sheets_node] - info - generate_character_sheets: generating character list - (_record=<LogRecord: core.langgraph.initialization.character_sheets_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/initialization/character_sheets_node.py, 57, "{'event': 'generate_character_sheets: generating character list', 'level': 'info', 'logger': 'core.langgraph.initialization.character_sheets_node', 'timestamp': '11/08/2025, 17:37:19'}"> _from_structlog=True)
11/08/2025, 17:37:20 - [core.langgraph.initialization.character_sheets_node] - info - _generate_character_list: generated list - (count=6 names=['Everett Larkin', 'Kira Voss', 'Tarn Grisham', 'Mira Sol', 'Dax Renn', 'The Architect'] _record=<LogRecord: core.langgraph.initialization.character_sheets_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/initialization/character_sheets_node.py, 169, "{'count': 6, 'names': ['Everett Larkin', 'Kira Voss', 'Tarn Grisham', 'Mira Sol', 'Dax Renn', 'The Architect'], 'event': '_generate_character_list: generated list', 'level': 'info', 'logger': 'core.langgraph.initialization.character_sheets_node', 'timestamp': '11/08/2025, 17:37:20'}"> _from_structlog=True)
11/08/2025, 17:37:20 - [core.langgraph.initialization.character_sheets_node] - info - generate_character_sheets: generating sheet - (character=Everett Larkin _record=<LogRecord: core.langgraph.initialization.character_sheets_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/initialization/character_sheets_node.py, 73, "{'character': 'Everett Larkin', 'event': 'generate_character_sheets: generating sheet', 'level': 'info', 'logger': 'core.langgraph.initialization.character_sheets_node', 'timestamp': '11/08/2025, 17:37:20'}"> _from_structlog=True)
11/08/2025, 17:37:27 - [core.langgraph.initialization.character_sheets_node] - info - generate_character_sheets: generating sheet - (character=Kira Voss _record=<LogRecord: core.langgraph.initialization.character_sheets_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/initialization/character_sheets_node.py, 73, "{'character': 'Kira Voss', 'event': 'generate_character_sheets: generating sheet', 'level': 'info', 'logger': 'core.langgraph.initialization.character_sheets_node', 'timestamp': '11/08/2025, 17:37:27'}"> _from_structlog=True)
11/08/2025, 17:37:33 - [core.langgraph.initialization.character_sheets_node] - info - generate_character_sheets: generating sheet - (character=Tarn Grisham _record=<LogRecord: core.langgraph.initialization.character_sheets_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/initialization/character_sheets_node.py, 73, "{'character': 'Tarn Grisham', 'event': 'generate_character_sheets: generating sheet', 'level': 'info', 'logger': 'core.langgraph.initialization.character_sheets_node', 'timestamp': '11/08/2025, 17:37:33'}"> _from_structlog=True)
11/08/2025, 17:37:40 - [core.langgraph.initialization.character_sheets_node] - info - generate_character_sheets: generating sheet - (character=Mira Sol _record=<LogRecord: core.langgraph.initialization.character_sheets_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/initialization/character_sheets_node.py, 73, "{'character': 'Mira Sol', 'event': 'generate_character_sheets: generating sheet', 'level': 'info', 'logger': 'core.langgraph.initialization.character_sheets_node', 'timestamp': '11/08/2025, 17:37:40'}"> _from_structlog=True)
11/08/2025, 17:37:47 - [core.langgraph.initialization.character_sheets_node] - info - generate_character_sheets: generating sheet - (character=Dax Renn _record=<LogRecord: core.langgraph.initialization.character_sheets_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/initialization/character_sheets_node.py, 73, "{'character': 'Dax Renn', 'event': 'generate_character_sheets: generating sheet', 'level': 'info', 'logger': 'core.langgraph.initialization.character_sheets_node', 'timestamp': '11/08/2025, 17:37:47'}"> _from_structlog=True)
11/08/2025, 17:37:54 - [core.langgraph.initialization.character_sheets_node] - info - generate_character_sheets: generating sheet - (character=The Architect _record=<LogRecord: core.langgraph.initialization.character_sheets_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/initialization/character_sheets_node.py, 73, "{'character': 'The Architect', 'event': 'generate_character_sheets: generating sheet', 'level': 'info', 'logger': 'core.langgraph.initialization.character_sheets_node', 'timestamp': '11/08/2025, 17:37:54'}"> _from_structlog=True)
11/08/2025, 17:38:01 - [core.langgraph.initialization.character_sheets_node] - info - generate_character_sheets: generation complete - (character_count=6 characters=['Everett Larkin', 'Kira Voss', 'Tarn Grisham', 'Mira Sol', 'Dax Renn', 'The Architect'] _record=<LogRecord: core.langgraph.initialization.character_sheets_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/initialization/character_sheets_node.py, 102, "{'character_count': 6, 'characters': ['Everett Larkin', 'Kira Voss', 'Tarn Grisham', 'Mira Sol', 'Dax Renn', 'The Architect'], 'event': 'generate_character_sheets: generation complete', 'level': 'info', 'logger': 'core.langgraph.initialization.character_sheets_node', 'timestamp': '11/08/2025, 17:38:01'}"> _from_structlog=True)
11/08/2025, 17:38:01 - [core.langgraph.workflow] - info - should_continue_init: initialization step succeeded, continuing - (step=character_sheets_complete _record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 461, "{'step': 'character_sheets_complete', 'event': 'should_continue_init: initialization step succeeded, continuing', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/08/2025, 17:38:01'}"> _from_structlog=True)
11/08/2025, 17:38:01 - [core.langgraph.initialization.global_outline_node] - info - generate_global_outline: starting outline generation - (title=Untitled Narrative total_chapters=20 _record=<LogRecord: core.langgraph.initialization.global_outline_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/initialization/global_outline_node.py, 39, "{'title': 'Untitled Narrative', 'total_chapters': 20, 'event': 'generate_global_outline: starting outline generation', 'level': 'info', 'logger': 'core.langgraph.initialization.global_outline_node', 'timestamp': '11/08/2025, 17:38:01'}"> _from_structlog=True)
11/08/2025, 17:38:13 - [core.langgraph.initialization.global_outline_node] - info - generate_global_outline: generation complete - (outline_length=6280 acts=5 _record=<LogRecord: core.langgraph.initialization.global_outline_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/initialization/global_outline_node.py, 95, "{'outline_length': 6280, 'acts': 5, 'event': 'generate_global_outline: generation complete', 'level': 'info', 'logger': 'core.langgraph.initialization.global_outline_node', 'timestamp': '11/08/2025, 17:38:13'}"> _from_structlog=True)
11/08/2025, 17:38:13 - [core.langgraph.initialization.act_outlines_node] - info - generate_act_outlines: starting act outline generation - (title=Untitled Narrative _record=<LogRecord: core.langgraph.initialization.act_outlines_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/initialization/act_outlines_node.py, 39, "{'title': 'Untitled Narrative', 'event': 'generate_act_outlines: starting act outline generation', 'level': 'info', 'logger': 'core.langgraph.initialization.act_outlines_node', 'timestamp': '11/08/2025, 17:38:13'}"> _from_structlog=True)
11/08/2025, 17:38:13 - [core.langgraph.initialization.act_outlines_node] - info - generate_act_outlines: generating outlines - (act_count=5 chapters_per_act=4 _record=<LogRecord: core.langgraph.initialization.act_outlines_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/initialization/act_outlines_node.py, 60, "{'act_count': 5, 'chapters_per_act': 4, 'event': 'generate_act_outlines: generating outlines', 'level': 'info', 'logger': 'core.langgraph.initialization.act_outlines_node', 'timestamp': '11/08/2025, 17:38:13'}"> _from_structlog=True)
11/08/2025, 17:38:13 - [core.langgraph.initialization.act_outlines_node] - info - generate_act_outlines: generating act - (act_number=1 _record=<LogRecord: core.langgraph.initialization.act_outlines_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/initialization/act_outlines_node.py, 69, "{'act_number': 1, 'event': 'generate_act_outlines: generating act', 'level': 'info', 'logger': 'core.langgraph.initialization.act_outlines_node', 'timestamp': '11/08/2025, 17:38:13'}"> _from_structlog=True)
11/08/2025, 17:38:20 - [core.langgraph.initialization.act_outlines_node] - info - generate_act_outlines: generating act - (act_number=2 _record=<LogRecord: core.langgraph.initialization.act_outlines_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/initialization/act_outlines_node.py, 69, "{'act_number': 2, 'event': 'generate_act_outlines: generating act', 'level': 'info', 'logger': 'core.langgraph.initialization.act_outlines_node', 'timestamp': '11/08/2025, 17:38:20'}"> _from_structlog=True)
11/08/2025, 17:38:28 - [core.langgraph.initialization.act_outlines_node] - info - generate_act_outlines: generating act - (act_number=3 _record=<LogRecord: core.langgraph.initialization.act_outlines_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/initialization/act_outlines_node.py, 69, "{'act_number': 3, 'event': 'generate_act_outlines: generating act', 'level': 'info', 'logger': 'core.langgraph.initialization.act_outlines_node', 'timestamp': '11/08/2025, 17:38:28'}"> _from_structlog=True)
11/08/2025, 17:38:37 - [core.langgraph.initialization.act_outlines_node] - info - generate_act_outlines: generating act - (act_number=4 _record=<LogRecord: core.langgraph.initialization.act_outlines_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/initialization/act_outlines_node.py, 69, "{'act_number': 4, 'event': 'generate_act_outlines: generating act', 'level': 'info', 'logger': 'core.langgraph.initialization.act_outlines_node', 'timestamp': '11/08/2025, 17:38:37'}"> _from_structlog=True)
11/08/2025, 17:38:46 - [core.langgraph.initialization.act_outlines_node] - info - generate_act_outlines: generating act - (act_number=5 _record=<LogRecord: core.langgraph.initialization.act_outlines_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/initialization/act_outlines_node.py, 69, "{'act_number': 5, 'event': 'generate_act_outlines: generating act', 'level': 'info', 'logger': 'core.langgraph.initialization.act_outlines_node', 'timestamp': '11/08/2025, 17:38:46'}"> _from_structlog=True)
11/08/2025, 17:38:55 - [core.langgraph.initialization.act_outlines_node] - info - generate_act_outlines: generation complete - (act_count=5 _record=<LogRecord: core.langgraph.initialization.act_outlines_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/initialization/act_outlines_node.py, 96, "{'act_count': 5, 'event': 'generate_act_outlines: generation complete', 'level': 'info', 'logger': 'core.langgraph.initialization.act_outlines_node', 'timestamp': '11/08/2025, 17:38:55'}"> _from_structlog=True)
11/08/2025, 17:38:55 - [core.langgraph.initialization.commit_init_node] - info - commit_initialization_to_graph: starting initialization data commit - (characters=6 has_global_outline=True _record=<LogRecord: core.langgraph.initialization.commit_init_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/initialization/commit_init_node.py, 44, "{'characters': 6, 'has_global_outline': True, 'event': 'commit_initialization_to_graph: starting initialization data commit', 'level': 'info', 'logger': 'core.langgraph.initialization.commit_init_node', 'timestamp': '11/08/2025, 17:38:55'}"> _from_structlog=True)
11/08/2025, 17:39:05 - [core.langgraph.initialization.commit_init_node] - info - _parse_world_items_extraction: extracted world items - (count=10 _record=<LogRecord: core.langgraph.initialization.commit_init_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/initialization/commit_init_node.py, 390, "{'count': 10, 'event': '_parse_world_items_extraction: extracted world items', 'level': 'info', 'logger': 'core.langgraph.initialization.commit_init_node', 'timestamp': '11/08/2025, 17:39:05'}"> _from_structlog=True)
11/08/2025, 17:39:06 - [core.db_manager] - info - Neo4j: Batch processed 16 KG triple statements. Constraint validation stats: 16/16 accepted, 0 corrected, 0 rejected. - (_record=<LogRecord: core.db_manager, 20, /home/dlewis3/Desktop/AI/saga/core/db_manager.py, 161, "{'event': 'Neo4j: Batch processed 16 KG triple statements. Constraint validation stats: 16/16 accepted, 0 corrected, 0 rejected.', 'level': 'info', 'logger': 'core.db_manager', 'timestamp': '11/08/2025, 17:39:06'}"> _from_structlog=True)
11/08/2025, 17:39:06 - [core.knowledge_graph_service] - info - Persisted 6 characters and 10 world items for chapter 0 using native models - (_record=<LogRecord: core.knowledge_graph_service, 20, /home/dlewis3/Desktop/AI/saga/core/knowledge_graph_service.py, 60, "{'event': 'Persisted 6 characters and 10 world items for chapter 0 using native models', 'level': 'info', 'logger': 'core.knowledge_graph_service', 'timestamp': '11/08/2025, 17:39:06'}"> _from_structlog=True)
11/08/2025, 17:39:06 - [core.langgraph.initialization.commit_init_node] - info - commit_initialization_to_graph: successfully committed initialization data - (characters=6 world_items=10 _record=<LogRecord: core.langgraph.initialization.commit_init_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/initialization/commit_init_node.py, 84, "{'characters': 6, 'world_items': 10, 'event': 'commit_initialization_to_graph: successfully committed initialization data', 'level': 'info', 'logger': 'core.langgraph.initialization.commit_init_node', 'timestamp': '11/08/2025, 17:39:06'}"> _from_structlog=True)
11/08/2025, 17:39:06 - [core.langgraph.initialization.persist_files_node] - info - persist_initialization_files: writing initialization data to disk - (project_dir=output _record=<LogRecord: core.langgraph.initialization.persist_files_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/initialization/persist_files_node.py, 101, "{'project_dir': 'output', 'event': 'persist_initialization_files: writing initialization data to disk', 'level': 'info', 'logger': 'core.langgraph.initialization.persist_files_node', 'timestamp': '11/08/2025, 17:39:06'}"> _from_structlog=True)
11/08/2025, 17:39:06 - [core.langgraph.initialization.persist_files_node] - info - persist_initialization_files: successfully wrote all files - (characters=6 acts=5 world_items=10 _record=<LogRecord: core.langgraph.initialization.persist_files_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/initialization/persist_files_node.py, 137, "{'characters': 6, 'acts': 5, 'world_items': 10, 'event': 'persist_initialization_files: successfully wrote all files', 'level': 'info', 'logger': 'core.langgraph.initialization.persist_files_node', 'timestamp': '11/08/2025, 17:39:06'}"> _from_structlog=True)
11/08/2025, 17:39:06 - [core.langgraph.workflow] - info - mark_initialization_complete: initialization phase finished - (title=Untitled Narrative characters=6 acts=5 _record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 581, "{'title': 'Untitled Narrative', 'characters': 6, 'acts': 5, 'event': 'mark_initialization_complete: initialization phase finished', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/08/2025, 17:39:06'}"> _from_structlog=True)
11/08/2025, 17:39:06 - [core.langgraph.initialization.chapter_outline_node] - info - generate_chapter_outline: starting chapter outline generation - (chapter=1 title=Untitled Narrative _record=<LogRecord: core.langgraph.initialization.chapter_outline_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/initialization/chapter_outline_node.py, 43, "{'chapter': 1, 'title': 'Untitled Narrative', 'event': 'generate_chapter_outline: starting chapter outline generation', 'level': 'info', 'logger': 'core.langgraph.initialization.chapter_outline_node', 'timestamp': '11/08/2025, 17:39:06'}"> _from_structlog=True)
11/08/2025, 17:39:13 - [core.langgraph.initialization.chapter_outline_node] - info - generate_chapter_outline: generation complete - (chapter=1 act=1 _record=<LogRecord: core.langgraph.initialization.chapter_outline_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/initialization/chapter_outline_node.py, 111, "{'chapter': 1, 'act': 1, 'event': 'generate_chapter_outline: generation complete', 'level': 'info', 'logger': 'core.langgraph.initialization.chapter_outline_node', 'timestamp': '11/08/2025, 17:39:13'}"> _from_structlog=True)
11/08/2025, 17:39:13 - [core.langgraph.nodes.generation_node] - info - generate_chapter: starting generation - (chapter=1 model=qwen3-a3b _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/generation_node.py, 53, "{'chapter': 1, 'model': 'qwen3-a3b', 'event': 'generate_chapter: starting generation', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/08/2025, 17:39:13'}"> _from_structlog=True)
11/08/2025, 17:39:13 - [core.langgraph.nodes.generation_node] - info - generate_chapter: calling LLM - (chapter=1 model=qwen3-a3b max_tokens=32768 prompt_tokens=337 _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/generation_node.py, 158, "{'chapter': 1, 'model': 'qwen3-a3b', 'max_tokens': 32768, 'prompt_tokens': 337, 'event': 'generate_chapter: calling LLM', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/08/2025, 17:39:13'}"> _from_structlog=True)
11/08/2025, 17:39:28 - [core.langgraph.nodes.generation_node] - info - generate_chapter: generation complete - (chapter=1 word_count=1641 tokens_used=3219 _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/generation_node.py, 194, "{'chapter': 1, 'word_count': 1641, 'tokens_used': 3219, 'event': 'generate_chapter: generation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/08/2025, 17:39:28'}"> _from_structlog=True)
11/08/2025, 17:39:28 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=1 word_count=1641 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 63, "{'chapter': 1, 'word_count': 1641, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/08/2025, 17:39:28'}"> _from_structlog=True)
11/08/2025, 17:39:41 - [processing.parsing_utils] - info - Line 2: Filtered out problematic object entity: 'awakening' - (_record=<LogRecord: processing.parsing_utils, 20, /home/dlewis3/Desktop/AI/saga/processing/parsing_utils.py, 281, "{'event': "Line 2: Filtered out problematic object entity: 'awakening'", 'level': 'info', 'logger': 'processing.parsing_utils', 'timestamp': '11/08/2025, 17:39:41'}"> _from_structlog=True)
11/08/2025, 17:39:41 - [processing.parsing_utils] - info - Line 3: Filtered out problematic object entity: 'emotionally suppressed' - (_record=<LogRecord: processing.parsing_utils, 20, /home/dlewis3/Desktop/AI/saga/processing/parsing_utils.py, 281, "{'event': "Line 3: Filtered out problematic object entity: 'emotionally suppressed'", 'level': 'info', 'logger': 'processing.parsing_utils', 'timestamp': '11/08/2025, 17:39:41'}"> _from_structlog=True)
11/08/2025, 17:39:41 - [processing.parsing_utils] - info - Line 5: Filtered out problematic object entity: 'awakening' - (_record=<LogRecord: processing.parsing_utils, 20, /home/dlewis3/Desktop/AI/saga/processing/parsing_utils.py, 281, "{'event': "Line 5: Filtered out problematic object entity: 'awakening'", 'level': 'info', 'logger': 'processing.parsing_utils', 'timestamp': '11/08/2025, 17:39:41'}"> _from_structlog=True)
11/08/2025, 17:39:41 - [processing.parsing_utils] - info - Line 18: Filtered out problematic object entity: 'awakening' - (_record=<LogRecord: processing.parsing_utils, 20, /home/dlewis3/Desktop/AI/saga/processing/parsing_utils.py, 281, "{'event': "Line 18: Filtered out problematic object entity: 'awakening'", 'level': 'info', 'logger': 'processing.parsing_utils', 'timestamp': '11/08/2025, 17:39:41'}"> _from_structlog=True)
11/08/2025, 17:39:41 - [processing.parsing_utils] - info - Line 20: Filtered out problematic object entity: 'Unknown' - (_record=<LogRecord: processing.parsing_utils, 20, /home/dlewis3/Desktop/AI/saga/processing/parsing_utils.py, 281, "{'event': "Line 20: Filtered out problematic object entity: 'Unknown'", 'level': 'info', 'logger': 'processing.parsing_utils', 'timestamp': '11/08/2025, 17:39:41'}"> _from_structlog=True)
11/08/2025, 17:39:41 - [processing.parsing_utils] - info - Line 23: Filtered out problematic object entity: 'emotionally suppressed' - (_record=<LogRecord: processing.parsing_utils, 20, /home/dlewis3/Desktop/AI/saga/processing/parsing_utils.py, 281, "{'event': "Line 23: Filtered out problematic object entity: 'emotionally suppressed'", 'level': 'info', 'logger': 'processing.parsing_utils', 'timestamp': '11/08/2025, 17:39:41'}"> _from_structlog=True)
11/08/2025, 17:39:41 - [processing.parsing_utils] - info - Line 26: Filtered out problematic object entity: 'childlike fear' - (_record=<LogRecord: processing.parsing_utils, 20, /home/dlewis3/Desktop/AI/saga/processing/parsing_utils.py, 281, "{'event': "Line 26: Filtered out problematic object entity: 'childlike fear'", 'level': 'info', 'logger': 'processing.parsing_utils', 'timestamp': '11/08/2025, 17:39:41'}"> _from_structlog=True)
11/08/2025, 17:39:41 - [processing.parsing_utils] - info - Line 27: Filtered out problematic object entity: 'memory of love' - (_record=<LogRecord: processing.parsing_utils, 20, /home/dlewis3/Desktop/AI/saga/processing/parsing_utils.py, 281, "{'event': "Line 27: Filtered out problematic object entity: 'memory of love'", 'level': 'info', 'logger': 'processing.parsing_utils', 'timestamp': '11/08/2025, 17:39:41'}"> _from_structlog=True)
11/08/2025, 17:39:41 - [processing.parsing_utils] - info - Line 35: Filtered out problematic object entity: 'awakening' - (_record=<LogRecord: processing.parsing_utils, 20, /home/dlewis3/Desktop/AI/saga/processing/parsing_utils.py, 281, "{'event': "Line 35: Filtered out problematic object entity: 'awakening'", 'level': 'info', 'logger': 'processing.parsing_utils', 'timestamp': '11/08/2025, 17:39:41'}"> _from_structlog=True)
11/08/2025, 17:39:41 - [processing.parsing_utils] - info - Line 36: Filtered out problematic object entity: 'emotionally suppressed' - (_record=<LogRecord: processing.parsing_utils, 20, /home/dlewis3/Desktop/AI/saga/processing/parsing_utils.py, 281, "{'event': "Line 36: Filtered out problematic object entity: 'emotionally suppressed'", 'level': 'info', 'logger': 'processing.parsing_utils', 'timestamp': '11/08/2025, 17:39:41'}"> _from_structlog=True)
11/08/2025, 17:39:41 - [core.langgraph.nodes.extraction_node] - info - extract_entities: extraction complete - (characters=2 world_items=7 relationships=26 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 111, "{'characters': 2, 'world_items': 7, 'relationships': 26, 'event': 'extract_entities: extraction complete', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/08/2025, 17:39:41'}"> _from_structlog=True)
11/08/2025, 17:39:41 - [core.langgraph.nodes.commit_node] - info - commit_to_graph - (chapter=1 characters=2 world_items=7 relationships=26 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 72, "{'chapter': 1, 'characters': 2, 'world_items': 7, 'relationships': 26, 'event': 'commit_to_graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/08/2025, 17:39:41'}"> _from_structlog=True)
11/08/2025, 17:39:41 - [processing.entity_deduplication] - info - High similarity detected: 'Everett Larkin' vs 'Everett Larkin' (similarity: 1.00). Recommending merge. - (_record=<LogRecord: processing.entity_deduplication, 20, /home/dlewis3/Desktop/AI/saga/processing/entity_deduplication.py, 140, "{'event': "High similarity detected: 'Everett Larkin' vs 'Everett Larkin' (similarity: 1.00). Recommending merge.", 'level': 'info', 'logger': 'processing.entity_deduplication', 'timestamp': '11/08/2025, 17:39:41'}"> _from_structlog=True)
11/08/2025, 17:39:41 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: merged character - (new_name=Everett Larkin existing_name=Everett Larkin similarity=1.0 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 212, "{'new_name': 'Everett Larkin', 'existing_name': 'Everett Larkin', 'similarity': 1.0, 'event': 'commit_to_graph: merged character', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/08/2025, 17:39:41'}"> _from_structlog=True)
11/08/2025, 17:39:41 - [processing.entity_deduplication] - info - High similarity detected: 'Elara Larkin' vs 'Everett Larkin' (similarity: 0.64). Recommending merge. - (_record=<LogRecord: processing.entity_deduplication, 20, /home/dlewis3/Desktop/AI/saga/processing/entity_deduplication.py, 140, "{'event': "High similarity detected: 'Elara Larkin' vs 'Everett Larkin' (similarity: 0.64). Recommending merge.", 'level': 'info', 'logger': 'processing.entity_deduplication', 'timestamp': '11/08/2025, 17:39:41'}"> _from_structlog=True)
11/08/2025, 17:39:41 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: merged character - (new_name=Elara Larkin existing_name=Everett Larkin similarity=0.6428571428571429 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 212, "{'new_name': 'Elara Larkin', 'existing_name': 'Everett Larkin', 'similarity': 0.6428571428571429, 'event': 'commit_to_graph: merged character', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/08/2025, 17:39:41'}"> _from_structlog=True)
11/08/2025, 17:39:41 - [core.db_manager] - info - Neo4j: Batch processed 9 KG triple statements. Constraint validation stats: 9/9 accepted, 0 corrected, 0 rejected. - (_record=<LogRecord: core.db_manager, 20, /home/dlewis3/Desktop/AI/saga/core/db_manager.py, 161, "{'event': 'Neo4j: Batch processed 9 KG triple statements. Constraint validation stats: 9/9 accepted, 0 corrected, 0 rejected.', 'level': 'info', 'logger': 'core.db_manager', 'timestamp': '11/08/2025, 17:39:41'}"> _from_structlog=True)
11/08/2025, 17:39:41 - [core.knowledge_graph_service] - info - Persisted 2 characters and 7 world items for chapter 1 using native models - (_record=<LogRecord: core.knowledge_graph_service, 20, /home/dlewis3/Desktop/AI/saga/core/knowledge_graph_service.py, 60, "{'event': 'Persisted 2 characters and 7 world items for chapter 1 using native models', 'level': 'info', 'logger': 'core.knowledge_graph_service', 'timestamp': '11/08/2025, 17:39:41'}"> _from_structlog=True)
11/08/2025, 17:39:41 - [data_access.kg_queries] - info - Constraint validation completed for 26 triples - (_record=<LogRecord: data_access.kg_queries, 20, /home/dlewis3/Desktop/AI/saga/data_access/kg_queries.py, 1173, "{'event': 'Constraint validation completed for 26 triples', 'level': 'info', 'logger': 'data_access.kg_queries', 'timestamp': '11/08/2025, 17:39:41'}"> _from_structlog=True)
11/08/2025, 17:39:42 - [core.db_manager] - info - Neo4j: Batch processed 26 KG triple statements. Constraint validation stats: 26/26 accepted, 0 corrected, 0 rejected. - (_record=<LogRecord: core.db_manager, 20, /home/dlewis3/Desktop/AI/saga/core/db_manager.py, 161, "{'event': 'Neo4j: Batch processed 26 KG triple statements. Constraint validation stats: 26/26 accepted, 0 corrected, 0 rejected.', 'level': 'info', 'logger': 'core.db_manager', 'timestamp': '11/08/2025, 17:39:42'}"> _from_structlog=True)
11/08/2025, 17:39:42 - [data_access.kg_queries] - info - Neo4j: Batch processed 26 KG triple statements. Constraint validation stats: 26/26 accepted, 0 corrected, 0 rejected. - (_record=<LogRecord: data_access.kg_queries, 20, /home/dlewis3/Desktop/AI/saga/data_access/kg_queries.py, 1482, "{'event': 'Neo4j: Batch processed 26 KG triple statements. Constraint validation stats: 26/26 accepted, 0 corrected, 0 rejected.', 'level': 'info', 'logger': 'data_access.kg_queries', 'timestamp': '11/08/2025, 17:39:42'}"> _from_structlog=True)
11/08/2025, 17:39:42 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: created relationships - (count=26 chapter=1 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 501, "{'count': 26, 'chapter': 1, 'event': 'commit_to_graph: created relationships', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/08/2025, 17:39:42'}"> _from_structlog=True)
11/08/2025, 17:39:42 - [data_access.chapter_queries] - info - Neo4j: Successfully saved chapter data for chapter 1. - (_record=<LogRecord: data_access.chapter_queries, 20, /home/dlewis3/Desktop/AI/saga/data_access/chapter_queries.py, 60, "{'event': 'Neo4j: Successfully saved chapter data for chapter 1.', 'level': 'info', 'logger': 'data_access.chapter_queries', 'timestamp': '11/08/2025, 17:39:42'}"> _from_structlog=True)
11/08/2025, 17:39:42 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: created chapter node - (chapter=1 word_count=1641 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 546, "{'chapter': 1, 'word_count': 1641, 'event': 'commit_to_graph: created chapter node', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/08/2025, 17:39:42'}"> _from_structlog=True)
11/08/2025, 17:39:42 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: successfully committed to knowledge graph - (chapter=1 characters=2 world_items=7 relationships=26 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 146, "{'chapter': 1, 'characters': 2, 'world_items': 7, 'relationships': 26, 'event': 'commit_to_graph: successfully committed to knowledge graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/08/2025, 17:39:42'}"> _from_structlog=True)
11/08/2025, 17:39:42 - [core.langgraph.nodes.validation_node] - info - validate_consistency - (chapter=1 relationships=26 characters=2 _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 52, "{'chapter': 1, 'relationships': 26, 'characters': 2, 'event': 'validate_consistency', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/08/2025, 17:39:42'}"> _from_structlog=True)
11/08/2025, 17:39:42 - [core.langgraph.nodes.validation_node] - info - validate_consistency: validation complete - (total_issues=0 critical=0 major=0 minor=0 needs_revision=False _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 104, "{'total_issues': 0, 'critical': 0, 'major': 0, 'minor': 0, 'needs_revision': False, 'event': 'validate_consistency: validation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/08/2025, 17:39:42'}"> _from_structlog=True)
11/08/2025, 17:39:42 - [core.langgraph.workflow] - info - should_revise_or_continue: routing decision - (needs_revision=False iteration=0 max_iterations=3 force_continue=False _record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 220, "{'needs_revision': False, 'iteration': 0, 'max_iterations': 3, 'force_continue': False, 'event': 'should_revise_or_continue: routing decision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/08/2025, 17:39:42'}"> _from_structlog=True)
11/08/2025, 17:39:42 - [core.langgraph.workflow] - info - should_revise_or_continue: no revision needed, routing to summarize - (_record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 252, "{'event': 'should_revise_or_continue: no revision needed, routing to summarize', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/08/2025, 17:39:42'}"> _from_structlog=True)
11/08/2025, 17:39:42 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: starting summarization - (chapter=1 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/summary_node.py, 54, "{'chapter': 1, 'event': 'summarize_chapter: starting summarization', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/08/2025, 17:39:42'}"> _from_structlog=True)
11/08/2025, 17:39:42 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: calling LLM for summary - (chapter=1 model=qwen3-a3b _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/summary_node.py, 77, "{'chapter': 1, 'model': 'qwen3-a3b', 'event': 'summarize_chapter: calling LLM for summary', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/08/2025, 17:39:42'}"> _from_structlog=True)
11/08/2025, 17:39:43 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: summary generated - (chapter=1 summary_length=648 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/summary_node.py, 118, "{'chapter': 1, 'summary_length': 648, 'event': 'summarize_chapter: summary generated', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/08/2025, 17:39:43'}"> _from_structlog=True)
11/08/2025, 17:39:43 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: summary saved to Neo4j - (chapter=1 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/summary_node.py, 250, "{'chapter': 1, 'event': 'summarize_chapter: summary saved to Neo4j', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/08/2025, 17:39:43'}"> _from_structlog=True)
11/08/2025, 17:39:43 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: summary file written - (chapter=1 path=output/summaries/chapter_001.md _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/summary_node.py, 318, "{'chapter': 1, 'path': 'output/summaries/chapter_001.md', 'event': 'summarize_chapter: summary file written', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/08/2025, 17:39:43'}"> _from_structlog=True)
11/08/2025, 17:39:43 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: complete - (chapter=1 total_summaries_in_state=1 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/summary_node.py, 150, "{'chapter': 1, 'total_summaries_in_state': 1, 'event': 'summarize_chapter: complete', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/08/2025, 17:39:43'}"> _from_structlog=True)
11/08/2025, 17:39:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: starting finalization - (chapter=1 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/finalize_node.py, 55, "{'chapter': 1, 'event': 'finalize_chapter: starting finalization', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/08/2025, 17:39:43'}"> _from_structlog=True)
11/08/2025, 17:39:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to filesystem - (chapter=1 md_path=output/chapters/chapter_001.md txt_path=output/chapters/chapter_001.txt word_count=1641 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/finalize_node.py, 230, "{'chapter': 1, 'md_path': 'output/chapters/chapter_001.md', 'txt_path': 'output/chapters/chapter_001.txt', 'word_count': 1641, 'event': 'finalize_chapter: chapter saved to filesystem', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/08/2025, 17:39:43'}"> _from_structlog=True)
11/08/2025, 17:39:46 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: embedding generated - (chapter=1 embedding_shape=(768,) _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/finalize_node.py, 93, "{'chapter': 1, 'embedding_shape': (768,), 'event': 'finalize_chapter: embedding generated', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/08/2025, 17:39:46'}"> _from_structlog=True)
11/08/2025, 17:39:46 - [data_access.chapter_queries] - info - Neo4j: Successfully saved chapter data for chapter 1. - (_record=<LogRecord: data_access.chapter_queries, 20, /home/dlewis3/Desktop/AI/saga/data_access/chapter_queries.py, 60, "{'event': 'Neo4j: Successfully saved chapter data for chapter 1.', 'level': 'info', 'logger': 'data_access.chapter_queries', 'timestamp': '11/08/2025, 17:39:46'}"> _from_structlog=True)
11/08/2025, 17:39:46 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to Neo4j - (chapter=1 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/finalize_node.py, 123, "{'chapter': 1, 'event': 'finalize_chapter: chapter saved to Neo4j', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/08/2025, 17:39:46'}"> _from_structlog=True)
11/08/2025, 17:39:46 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: finalization complete - (chapter=1 word_count=1641 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/finalize_node.py, 159, "{'chapter': 1, 'word_count': 1641, 'event': 'finalize_chapter: finalization complete', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/08/2025, 17:39:46'}"> _from_structlog=True)
11/08/2025, 17:39:46 - [orchestration.langgraph_orchestrator] - info - ✓ Chapter 1 complete - (word_count=1641 _record=<LogRecord: orchestration.langgraph_orchestrator, 20, /home/dlewis3/Desktop/AI/saga/orchestration/langgraph_orchestrator.py, 222, "{'word_count': 1641, 'event': '✓ Chapter 1 complete', 'level': 'info', 'logger': 'orchestration.langgraph_orchestrator', 'timestamp': '11/08/2025, 17:39:46'}"> _from_structlog=True)
11/08/2025, 17:39:46 - [orchestration.langgraph_orchestrator] - info - ============================================================
Generating Chapter 2 of 20
============================================================ - (_record=<LogRecord: orchestration.langgraph_orchestrator, 20, /home/dlewis3/Desktop/AI/saga/orchestration/langgraph_orchestrator.py, 194, "{'event': '============================================================\nGenerating Chapter 2 of 20\n============================================================', 'level': 'info', 'logger': 'orchestration.langgraph_orchestrator', 'timestamp': '11/08/2025, 17:39:46'}"> _from_structlog=True)
11/08/2025, 17:39:46 - [core.langgraph.workflow] - info - route_entry: determining workflow path - (_record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 548, "{'event': 'route_entry: determining workflow path', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/08/2025, 17:39:46'}"> _from_structlog=True)
11/08/2025, 17:39:46 - [core.langgraph.workflow] - info - should_initialize: routing decision - (initialization_complete=True _record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 484, "{'initialization_complete': True, 'event': 'should_initialize: routing decision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/08/2025, 17:39:46'}"> _from_structlog=True)
11/08/2025, 17:39:46 - [core.langgraph.workflow] - info - should_initialize: initialization complete, routing to chapter generation - (_record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 495, "{'event': 'should_initialize: initialization complete, routing to chapter generation', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/08/2025, 17:39:46'}"> _from_structlog=True)
11/08/2025, 17:39:46 - [core.langgraph.initialization.chapter_outline_node] - info - generate_chapter_outline: starting chapter outline generation - (chapter=2 title=Untitled Narrative _record=<LogRecord: core.langgraph.initialization.chapter_outline_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/initialization/chapter_outline_node.py, 43, "{'chapter': 2, 'title': 'Untitled Narrative', 'event': 'generate_chapter_outline: starting chapter outline generation', 'level': 'info', 'logger': 'core.langgraph.initialization.chapter_outline_node', 'timestamp': '11/08/2025, 17:39:46'}"> _from_structlog=True)
11/08/2025, 17:39:53 - [core.langgraph.initialization.chapter_outline_node] - info - generate_chapter_outline: generation complete - (chapter=2 act=1 _record=<LogRecord: core.langgraph.initialization.chapter_outline_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/initialization/chapter_outline_node.py, 111, "{'chapter': 2, 'act': 1, 'event': 'generate_chapter_outline: generation complete', 'level': 'info', 'logger': 'core.langgraph.initialization.chapter_outline_node', 'timestamp': '11/08/2025, 17:39:53'}"> _from_structlog=True)
11/08/2025, 17:39:53 - [core.langgraph.nodes.generation_node] - info - generate_chapter: starting generation - (chapter=2 model=qwen3-a3b _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/generation_node.py, 53, "{'chapter': 2, 'model': 'qwen3-a3b', 'event': 'generate_chapter: starting generation', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/08/2025, 17:39:53'}"> _from_structlog=True)
2025-11-08 17:39:53 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownRelationshipTypeWarning} {category: UNRECOGNIZED} {title: The provided relationship type is not in the database.} {description: One of the relationship types in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing relationship type is: OCCURRED_IN)} {position: line: 2, column: 23, offset: 23} for query: '\n    MATCH (e:Event)-[:OCCURRED_IN]->(ch:Chapter)\n    WHERE ch.number >= $start_chapter AND ch.number < $current_chapter\n    RETURN e.description AS description,\n           coalesce(e.importance, 0.5) AS importance,\n           ch.number AS chapter\n    ORDER BY importance DESC, ch.number DESC\n    LIMIT $max_events\n    '
2025-11-08 17:39:53 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: importance)} {position: line: 5, column: 23, offset: 184} for query: '\n    MATCH (e:Event)-[:OCCURRED_IN]->(ch:Chapter)\n    WHERE ch.number >= $start_chapter AND ch.number < $current_chapter\n    RETURN e.description AS description,\n           coalesce(e.importance, 0.5) AS importance,\n           ch.number AS chapter\n    ORDER BY importance DESC, ch.number DESC\n    LIMIT $max_events\n    '
11/08/2025, 17:39:53 - [core.langgraph.nodes.generation_node] - info - generate_chapter: calling LLM - (chapter=2 model=qwen3-a3b max_tokens=32768 prompt_tokens=478 _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/generation_node.py, 158, "{'chapter': 2, 'model': 'qwen3-a3b', 'max_tokens': 32768, 'prompt_tokens': 478, 'event': 'generate_chapter: calling LLM', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/08/2025, 17:39:53'}"> _from_structlog=True)
11/08/2025, 17:40:13 - [core.langgraph.nodes.generation_node] - info - generate_chapter: generation complete - (chapter=2 word_count=1931 tokens_used=3929 _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/generation_node.py, 194, "{'chapter': 2, 'word_count': 1931, 'tokens_used': 3929, 'event': 'generate_chapter: generation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/08/2025, 17:40:13'}"> _from_structlog=True)
11/08/2025, 17:40:13 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=2 word_count=1931 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 63, "{'chapter': 2, 'word_count': 1931, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/08/2025, 17:40:13'}"> _from_structlog=True)
11/08/2025, 17:40:24 - [core.langgraph.nodes.extraction_node] - info - extract_entities: extraction complete - (characters=2 world_items=5 relationships=22 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 111, "{'characters': 2, 'world_items': 5, 'relationships': 22, 'event': 'extract_entities: extraction complete', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/08/2025, 17:40:24'}"> _from_structlog=True)
11/08/2025, 17:40:24 - [core.langgraph.nodes.commit_node] - info - commit_to_graph - (chapter=2 characters=2 world_items=5 relationships=22 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 72, "{'chapter': 2, 'characters': 2, 'world_items': 5, 'relationships': 22, 'event': 'commit_to_graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/08/2025, 17:40:24'}"> _from_structlog=True)
11/08/2025, 17:40:24 - [processing.entity_deduplication] - info - High similarity detected: 'Everett Larkin' vs 'Everett Larkin' (similarity: 1.00). Recommending merge. - (_record=<LogRecord: processing.entity_deduplication, 20, /home/dlewis3/Desktop/AI/saga/processing/entity_deduplication.py, 140, "{'event': "High similarity detected: 'Everett Larkin' vs 'Everett Larkin' (similarity: 1.00). Recommending merge.", 'level': 'info', 'logger': 'processing.entity_deduplication', 'timestamp': '11/08/2025, 17:40:24'}"> _from_structlog=True)
11/08/2025, 17:40:24 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: merged character - (new_name=Everett Larkin existing_name=Everett Larkin similarity=1.0 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 212, "{'new_name': 'Everett Larkin', 'existing_name': 'Everett Larkin', 'similarity': 1.0, 'event': 'commit_to_graph: merged character', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/08/2025, 17:40:24'}"> _from_structlog=True)
11/08/2025, 17:40:24 - [core.db_manager] - info - Neo4j: Batch processed 7 KG triple statements. Constraint validation stats: 7/7 accepted, 0 corrected, 0 rejected. - (_record=<LogRecord: core.db_manager, 20, /home/dlewis3/Desktop/AI/saga/core/db_manager.py, 161, "{'event': 'Neo4j: Batch processed 7 KG triple statements. Constraint validation stats: 7/7 accepted, 0 corrected, 0 rejected.', 'level': 'info', 'logger': 'core.db_manager', 'timestamp': '11/08/2025, 17:40:24'}"> _from_structlog=True)
11/08/2025, 17:40:24 - [core.knowledge_graph_service] - info - Persisted 2 characters and 5 world items for chapter 2 using native models - (_record=<LogRecord: core.knowledge_graph_service, 20, /home/dlewis3/Desktop/AI/saga/core/knowledge_graph_service.py, 60, "{'event': 'Persisted 2 characters and 5 world items for chapter 2 using native models', 'level': 'info', 'logger': 'core.knowledge_graph_service', 'timestamp': '11/08/2025, 17:40:24'}"> _from_structlog=True)
11/08/2025, 17:40:24 - [data_access.kg_queries] - info - Constraint validation completed for 22 triples - (_record=<LogRecord: data_access.kg_queries, 20, /home/dlewis3/Desktop/AI/saga/data_access/kg_queries.py, 1173, "{'event': 'Constraint validation completed for 22 triples', 'level': 'info', 'logger': 'data_access.kg_queries', 'timestamp': '11/08/2025, 17:40:24'}"> _from_structlog=True)
11/08/2025, 17:40:25 - [core.db_manager] - info - Neo4j: Batch processed 22 KG triple statements. Constraint validation stats: 22/22 accepted, 0 corrected, 0 rejected. - (_record=<LogRecord: core.db_manager, 20, /home/dlewis3/Desktop/AI/saga/core/db_manager.py, 161, "{'event': 'Neo4j: Batch processed 22 KG triple statements. Constraint validation stats: 22/22 accepted, 0 corrected, 0 rejected.', 'level': 'info', 'logger': 'core.db_manager', 'timestamp': '11/08/2025, 17:40:25'}"> _from_structlog=True)
11/08/2025, 17:40:25 - [data_access.kg_queries] - info - Neo4j: Batch processed 22 KG triple statements. Constraint validation stats: 22/22 accepted, 0 corrected, 0 rejected. - (_record=<LogRecord: data_access.kg_queries, 20, /home/dlewis3/Desktop/AI/saga/data_access/kg_queries.py, 1482, "{'event': 'Neo4j: Batch processed 22 KG triple statements. Constraint validation stats: 22/22 accepted, 0 corrected, 0 rejected.', 'level': 'info', 'logger': 'data_access.kg_queries', 'timestamp': '11/08/2025, 17:40:25'}"> _from_structlog=True)
11/08/2025, 17:40:25 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: created relationships - (count=22 chapter=2 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 501, "{'count': 22, 'chapter': 2, 'event': 'commit_to_graph: created relationships', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/08/2025, 17:40:25'}"> _from_structlog=True)
11/08/2025, 17:40:25 - [data_access.chapter_queries] - info - Neo4j: Successfully saved chapter data for chapter 2. - (_record=<LogRecord: data_access.chapter_queries, 20, /home/dlewis3/Desktop/AI/saga/data_access/chapter_queries.py, 60, "{'event': 'Neo4j: Successfully saved chapter data for chapter 2.', 'level': 'info', 'logger': 'data_access.chapter_queries', 'timestamp': '11/08/2025, 17:40:25'}"> _from_structlog=True)
11/08/2025, 17:40:25 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: created chapter node - (chapter=2 word_count=1931 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 546, "{'chapter': 2, 'word_count': 1931, 'event': 'commit_to_graph: created chapter node', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/08/2025, 17:40:25'}"> _from_structlog=True)
11/08/2025, 17:40:25 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: successfully committed to knowledge graph - (chapter=2 characters=2 world_items=5 relationships=22 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 146, "{'chapter': 2, 'characters': 2, 'world_items': 5, 'relationships': 22, 'event': 'commit_to_graph: successfully committed to knowledge graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/08/2025, 17:40:25'}"> _from_structlog=True)
11/08/2025, 17:40:25 - [core.langgraph.nodes.validation_node] - info - validate_consistency - (chapter=2 relationships=22 characters=2 _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 52, "{'chapter': 2, 'relationships': 22, 'characters': 2, 'event': 'validate_consistency', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/08/2025, 17:40:25'}"> _from_structlog=True)
11/08/2025, 17:40:25 - [core.langgraph.nodes.validation_node] - info - validate_consistency: validation complete - (total_issues=0 critical=0 major=0 minor=0 needs_revision=False _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 104, "{'total_issues': 0, 'critical': 0, 'major': 0, 'minor': 0, 'needs_revision': False, 'event': 'validate_consistency: validation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/08/2025, 17:40:25'}"> _from_structlog=True)
11/08/2025, 17:40:25 - [core.langgraph.workflow] - info - should_revise_or_continue: routing decision - (needs_revision=False iteration=0 max_iterations=3 force_continue=False _record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 220, "{'needs_revision': False, 'iteration': 0, 'max_iterations': 3, 'force_continue': False, 'event': 'should_revise_or_continue: routing decision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/08/2025, 17:40:25'}"> _from_structlog=True)
11/08/2025, 17:40:25 - [core.langgraph.workflow] - info - should_revise_or_continue: no revision needed, routing to summarize - (_record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 252, "{'event': 'should_revise_or_continue: no revision needed, routing to summarize', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/08/2025, 17:40:25'}"> _from_structlog=True)
11/08/2025, 17:40:25 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: starting summarization - (chapter=2 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/summary_node.py, 54, "{'chapter': 2, 'event': 'summarize_chapter: starting summarization', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/08/2025, 17:40:25'}"> _from_structlog=True)
11/08/2025, 17:40:25 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: calling LLM for summary - (chapter=2 model=qwen3-a3b _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/summary_node.py, 77, "{'chapter': 2, 'model': 'qwen3-a3b', 'event': 'summarize_chapter: calling LLM for summary', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/08/2025, 17:40:25'}"> _from_structlog=True)
11/08/2025, 17:40:27 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: summary generated - (chapter=2 summary_length=476 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/summary_node.py, 118, "{'chapter': 2, 'summary_length': 476, 'event': 'summarize_chapter: summary generated', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/08/2025, 17:40:27'}"> _from_structlog=True)
11/08/2025, 17:40:27 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: summary saved to Neo4j - (chapter=2 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/summary_node.py, 250, "{'chapter': 2, 'event': 'summarize_chapter: summary saved to Neo4j', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/08/2025, 17:40:27'}"> _from_structlog=True)
11/08/2025, 17:40:27 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: summary file written - (chapter=2 path=output/summaries/chapter_002.md _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/summary_node.py, 318, "{'chapter': 2, 'path': 'output/summaries/chapter_002.md', 'event': 'summarize_chapter: summary file written', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/08/2025, 17:40:27'}"> _from_structlog=True)
11/08/2025, 17:40:27 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: complete - (chapter=2 total_summaries_in_state=2 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/summary_node.py, 150, "{'chapter': 2, 'total_summaries_in_state': 2, 'event': 'summarize_chapter: complete', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/08/2025, 17:40:27'}"> _from_structlog=True)
11/08/2025, 17:40:27 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: starting finalization - (chapter=2 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/finalize_node.py, 55, "{'chapter': 2, 'event': 'finalize_chapter: starting finalization', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/08/2025, 17:40:27'}"> _from_structlog=True)
11/08/2025, 17:40:27 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to filesystem - (chapter=2 md_path=output/chapters/chapter_002.md txt_path=output/chapters/chapter_002.txt word_count=1931 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/finalize_node.py, 230, "{'chapter': 2, 'md_path': 'output/chapters/chapter_002.md', 'txt_path': 'output/chapters/chapter_002.txt', 'word_count': 1931, 'event': 'finalize_chapter: chapter saved to filesystem', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/08/2025, 17:40:27'}"> _from_structlog=True)
11/08/2025, 17:40:28 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: embedding generated - (chapter=2 embedding_shape=(768,) _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/finalize_node.py, 93, "{'chapter': 2, 'embedding_shape': (768,), 'event': 'finalize_chapter: embedding generated', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/08/2025, 17:40:28'}"> _from_structlog=True)
11/08/2025, 17:40:28 - [data_access.chapter_queries] - info - Neo4j: Successfully saved chapter data for chapter 2. - (_record=<LogRecord: data_access.chapter_queries, 20, /home/dlewis3/Desktop/AI/saga/data_access/chapter_queries.py, 60, "{'event': 'Neo4j: Successfully saved chapter data for chapter 2.', 'level': 'info', 'logger': 'data_access.chapter_queries', 'timestamp': '11/08/2025, 17:40:28'}"> _from_structlog=True)
11/08/2025, 17:40:28 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to Neo4j - (chapter=2 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/finalize_node.py, 123, "{'chapter': 2, 'event': 'finalize_chapter: chapter saved to Neo4j', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/08/2025, 17:40:28'}"> _from_structlog=True)
11/08/2025, 17:40:28 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: finalization complete - (chapter=2 word_count=1931 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/finalize_node.py, 159, "{'chapter': 2, 'word_count': 1931, 'event': 'finalize_chapter: finalization complete', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/08/2025, 17:40:28'}"> _from_structlog=True)
11/08/2025, 17:40:28 - [orchestration.langgraph_orchestrator] - info - ✓ Chapter 2 complete - (word_count=1931 _record=<LogRecord: orchestration.langgraph_orchestrator, 20, /home/dlewis3/Desktop/AI/saga/orchestration/langgraph_orchestrator.py, 222, "{'word_count': 1931, 'event': '✓ Chapter 2 complete', 'level': 'info', 'logger': 'orchestration.langgraph_orchestrator', 'timestamp': '11/08/2025, 17:40:28'}"> _from_structlog=True)
11/08/2025, 17:40:28 - [orchestration.langgraph_orchestrator] - info - ============================================================
Generating Chapter 3 of 20
============================================================ - (_record=<LogRecord: orchestration.langgraph_orchestrator, 20, /home/dlewis3/Desktop/AI/saga/orchestration/langgraph_orchestrator.py, 194, "{'event': '============================================================\nGenerating Chapter 3 of 20\n============================================================', 'level': 'info', 'logger': 'orchestration.langgraph_orchestrator', 'timestamp': '11/08/2025, 17:40:28'}"> _from_structlog=True)
11/08/2025, 17:40:28 - [core.langgraph.workflow] - info - route_entry: determining workflow path - (_record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 548, "{'event': 'route_entry: determining workflow path', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/08/2025, 17:40:28'}"> _from_structlog=True)
11/08/2025, 17:40:28 - [core.langgraph.workflow] - info - should_initialize: routing decision - (initialization_complete=True _record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 484, "{'initialization_complete': True, 'event': 'should_initialize: routing decision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/08/2025, 17:40:28'}"> _from_structlog=True)
11/08/2025, 17:40:28 - [core.langgraph.workflow] - info - should_initialize: initialization complete, routing to chapter generation - (_record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 495, "{'event': 'should_initialize: initialization complete, routing to chapter generation', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/08/2025, 17:40:28'}"> _from_structlog=True)
11/08/2025, 17:40:28 - [core.langgraph.initialization.chapter_outline_node] - info - generate_chapter_outline: starting chapter outline generation - (chapter=3 title=Untitled Narrative _record=<LogRecord: core.langgraph.initialization.chapter_outline_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/initialization/chapter_outline_node.py, 43, "{'chapter': 3, 'title': 'Untitled Narrative', 'event': 'generate_chapter_outline: starting chapter outline generation', 'level': 'info', 'logger': 'core.langgraph.initialization.chapter_outline_node', 'timestamp': '11/08/2025, 17:40:28'}"> _from_structlog=True)
11/08/2025, 17:40:37 - [core.langgraph.initialization.chapter_outline_node] - info - generate_chapter_outline: generation complete - (chapter=3 act=1 _record=<LogRecord: core.langgraph.initialization.chapter_outline_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/initialization/chapter_outline_node.py, 111, "{'chapter': 3, 'act': 1, 'event': 'generate_chapter_outline: generation complete', 'level': 'info', 'logger': 'core.langgraph.initialization.chapter_outline_node', 'timestamp': '11/08/2025, 17:40:37'}"> _from_structlog=True)
11/08/2025, 17:40:37 - [core.langgraph.nodes.generation_node] - info - generate_chapter: starting generation - (chapter=3 model=qwen3-a3b _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/generation_node.py, 53, "{'chapter': 3, 'model': 'qwen3-a3b', 'event': 'generate_chapter: starting generation', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/08/2025, 17:40:37'}"> _from_structlog=True)
2025-11-08 17:40:37 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownRelationshipTypeWarning} {category: UNRECOGNIZED} {title: The provided relationship type is not in the database.} {description: One of the relationship types in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing relationship type is: OCCURRED_IN)} {position: line: 2, column: 23, offset: 23} for query: '\n    MATCH (e:Event)-[:OCCURRED_IN]->(ch:Chapter)\n    WHERE ch.number >= $start_chapter AND ch.number < $current_chapter\n    RETURN e.description AS description,\n           coalesce(e.importance, 0.5) AS importance,\n           ch.number AS chapter\n    ORDER BY importance DESC, ch.number DESC\n    LIMIT $max_events\n    '
2025-11-08 17:40:37 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: importance)} {position: line: 5, column: 23, offset: 184} for query: '\n    MATCH (e:Event)-[:OCCURRED_IN]->(ch:Chapter)\n    WHERE ch.number >= $start_chapter AND ch.number < $current_chapter\n    RETURN e.description AS description,\n           coalesce(e.importance, 0.5) AS importance,\n           ch.number AS chapter\n    ORDER BY importance DESC, ch.number DESC\n    LIMIT $max_events\n    '
11/08/2025, 17:40:37 - [core.langgraph.nodes.generation_node] - info - generate_chapter: calling LLM - (chapter=3 model=qwen3-a3b max_tokens=32768 prompt_tokens=569 _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/generation_node.py, 158, "{'chapter': 3, 'model': 'qwen3-a3b', 'max_tokens': 32768, 'prompt_tokens': 569, 'event': 'generate_chapter: calling LLM', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/08/2025, 17:40:37'}"> _from_structlog=True)
11/08/2025, 17:40:56 - [core.langgraph.nodes.generation_node] - info - generate_chapter: generation complete - (chapter=3 word_count=1544 tokens_used=3446 _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/generation_node.py, 194, "{'chapter': 3, 'word_count': 1544, 'tokens_used': 3446, 'event': 'generate_chapter: generation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/08/2025, 17:40:56'}"> _from_structlog=True)
11/08/2025, 17:40:56 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=3 word_count=1544 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 63, "{'chapter': 3, 'word_count': 1544, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/08/2025, 17:40:56'}"> _from_structlog=True)
11/08/2025, 17:41:07 - [processing.parsing_utils] - info - Line 6: Filtered out problematic object entity: '3' - (_record=<LogRecord: processing.parsing_utils, 20, /home/dlewis3/Desktop/AI/saga/processing/parsing_utils.py, 281, "{'event': "Line 6: Filtered out problematic object entity: '3'", 'level': 'info', 'logger': 'processing.parsing_utils', 'timestamp': '11/08/2025, 17:41:07'}"> _from_structlog=True)
11/08/2025, 17:41:07 - [processing.parsing_utils] - info - Line 22: Filtered out problematic object entity: 'Awakening' - (_record=<LogRecord: processing.parsing_utils, 20, /home/dlewis3/Desktop/AI/saga/processing/parsing_utils.py, 281, "{'event': "Line 22: Filtered out problematic object entity: 'Awakening'", 'level': 'info', 'logger': 'processing.parsing_utils', 'timestamp': '11/08/2025, 17:41:07'}"> _from_structlog=True)
11/08/2025, 17:41:07 - [core.langgraph.nodes.extraction_node] - info - extract_entities: extraction complete - (characters=2 world_items=4 relationships=22 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 111, "{'characters': 2, 'world_items': 4, 'relationships': 22, 'event': 'extract_entities: extraction complete', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/08/2025, 17:41:07'}"> _from_structlog=True)
11/08/2025, 17:41:07 - [core.langgraph.nodes.commit_node] - info - commit_to_graph - (chapter=3 characters=2 world_items=4 relationships=22 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 72, "{'chapter': 3, 'characters': 2, 'world_items': 4, 'relationships': 22, 'event': 'commit_to_graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/08/2025, 17:41:07'}"> _from_structlog=True)
11/08/2025, 17:41:07 - [processing.entity_deduplication] - info - High similarity detected: 'Everett Larkin' vs 'Everett Larkin' (similarity: 1.00). Recommending merge. - (_record=<LogRecord: processing.entity_deduplication, 20, /home/dlewis3/Desktop/AI/saga/processing/entity_deduplication.py, 140, "{'event': "High similarity detected: 'Everett Larkin' vs 'Everett Larkin' (similarity: 1.00). Recommending merge.", 'level': 'info', 'logger': 'processing.entity_deduplication', 'timestamp': '11/08/2025, 17:41:07'}"> _from_structlog=True)
11/08/2025, 17:41:07 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: merged character - (new_name=Everett Larkin existing_name=Everett Larkin similarity=1.0 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 212, "{'new_name': 'Everett Larkin', 'existing_name': 'Everett Larkin', 'similarity': 1.0, 'event': 'commit_to_graph: merged character', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/08/2025, 17:41:07'}"> _from_structlog=True)
11/08/2025, 17:41:07 - [processing.entity_deduplication] - info - High similarity detected: 'Elara Larkin' vs 'Everett Larkin' (similarity: 0.64). Recommending merge. - (_record=<LogRecord: processing.entity_deduplication, 20, /home/dlewis3/Desktop/AI/saga/processing/entity_deduplication.py, 140, "{'event': "High similarity detected: 'Elara Larkin' vs 'Everett Larkin' (similarity: 0.64). Recommending merge.", 'level': 'info', 'logger': 'processing.entity_deduplication', 'timestamp': '11/08/2025, 17:41:07'}"> _from_structlog=True)
11/08/2025, 17:41:07 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: merged character - (new_name=Elara Larkin existing_name=Everett Larkin similarity=0.6428571428571429 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 212, "{'new_name': 'Elara Larkin', 'existing_name': 'Everett Larkin', 'similarity': 0.6428571428571429, 'event': 'commit_to_graph: merged character', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/08/2025, 17:41:07'}"> _from_structlog=True)
11/08/2025, 17:41:07 - [core.langgraph.nodes.commit_node] - error - commit_to_graph: error during commit - (error=object str can't be used in 'await' expression chapter=3 exc_info=True _record=<LogRecord: core.langgraph.nodes.commit_node, 40, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 161, "{'error': "object str can't be used in 'await' expression", 'chapter': 3, 'exc_info': True, 'event': 'commit_to_graph: error during commit', 'level': 'error', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/08/2025, 17:41:07'}"> _from_structlog=True)
11/08/2025, 17:41:07 - [core.langgraph.nodes.validation_node] - info - validate_consistency - (chapter=3 relationships=22 characters=2 _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 52, "{'chapter': 3, 'relationships': 22, 'characters': 2, 'event': 'validate_consistency', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/08/2025, 17:41:07'}"> _from_structlog=True)
11/08/2025, 17:41:07 - [core.langgraph.nodes.validation_node] - info - validate_consistency: validation complete - (total_issues=0 critical=0 major=0 minor=0 needs_revision=False _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 104, "{'total_issues': 0, 'critical': 0, 'major': 0, 'minor': 0, 'needs_revision': False, 'event': 'validate_consistency: validation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/08/2025, 17:41:07'}"> _from_structlog=True)
11/08/2025, 17:41:07 - [core.langgraph.workflow] - info - should_revise_or_continue: routing decision - (needs_revision=False iteration=0 max_iterations=3 force_continue=False _record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 220, "{'needs_revision': False, 'iteration': 0, 'max_iterations': 3, 'force_continue': False, 'event': 'should_revise_or_continue: routing decision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/08/2025, 17:41:07'}"> _from_structlog=True)
11/08/2025, 17:41:07 - [core.langgraph.workflow] - info - should_revise_or_continue: no revision needed, routing to summarize - (_record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 252, "{'event': 'should_revise_or_continue: no revision needed, routing to summarize', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/08/2025, 17:41:07'}"> _from_structlog=True)
11/08/2025, 17:41:07 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: starting summarization - (chapter=3 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/summary_node.py, 54, "{'chapter': 3, 'event': 'summarize_chapter: starting summarization', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/08/2025, 17:41:07'}"> _from_structlog=True)
11/08/2025, 17:41:07 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: calling LLM for summary - (chapter=3 model=qwen3-a3b _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/summary_node.py, 77, "{'chapter': 3, 'model': 'qwen3-a3b', 'event': 'summarize_chapter: calling LLM for summary', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/08/2025, 17:41:07'}"> _from_structlog=True)
11/08/2025, 17:41:09 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: summary generated - (chapter=3 summary_length=585 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/summary_node.py, 118, "{'chapter': 3, 'summary_length': 585, 'event': 'summarize_chapter: summary generated', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/08/2025, 17:41:09'}"> _from_structlog=True)
11/08/2025, 17:41:09 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: summary saved to Neo4j - (chapter=3 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/summary_node.py, 250, "{'chapter': 3, 'event': 'summarize_chapter: summary saved to Neo4j', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/08/2025, 17:41:09'}"> _from_structlog=True)
11/08/2025, 17:41:09 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: summary file written - (chapter=3 path=output/summaries/chapter_003.md _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/summary_node.py, 318, "{'chapter': 3, 'path': 'output/summaries/chapter_003.md', 'event': 'summarize_chapter: summary file written', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/08/2025, 17:41:09'}"> _from_structlog=True)
11/08/2025, 17:41:09 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: complete - (chapter=3 total_summaries_in_state=3 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/summary_node.py, 150, "{'chapter': 3, 'total_summaries_in_state': 3, 'event': 'summarize_chapter: complete', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/08/2025, 17:41:09'}"> _from_structlog=True)
11/08/2025, 17:41:09 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: starting finalization - (chapter=3 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/finalize_node.py, 55, "{'chapter': 3, 'event': 'finalize_chapter: starting finalization', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/08/2025, 17:41:09'}"> _from_structlog=True)
11/08/2025, 17:41:09 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to filesystem - (chapter=3 md_path=output/chapters/chapter_003.md txt_path=output/chapters/chapter_003.txt word_count=1544 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/finalize_node.py, 230, "{'chapter': 3, 'md_path': 'output/chapters/chapter_003.md', 'txt_path': 'output/chapters/chapter_003.txt', 'word_count': 1544, 'event': 'finalize_chapter: chapter saved to filesystem', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/08/2025, 17:41:09'}"> _from_structlog=True)
11/08/2025, 17:41:10 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: embedding generated - (chapter=3 embedding_shape=(768,) _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/finalize_node.py, 93, "{'chapter': 3, 'embedding_shape': (768,), 'event': 'finalize_chapter: embedding generated', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/08/2025, 17:41:10'}"> _from_structlog=True)
11/08/2025, 17:41:10 - [data_access.chapter_queries] - info - Neo4j: Successfully saved chapter data for chapter 3. - (_record=<LogRecord: data_access.chapter_queries, 20, /home/dlewis3/Desktop/AI/saga/data_access/chapter_queries.py, 60, "{'event': 'Neo4j: Successfully saved chapter data for chapter 3.', 'level': 'info', 'logger': 'data_access.chapter_queries', 'timestamp': '11/08/2025, 17:41:10'}"> _from_structlog=True)
11/08/2025, 17:41:10 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to Neo4j - (chapter=3 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/finalize_node.py, 123, "{'chapter': 3, 'event': 'finalize_chapter: chapter saved to Neo4j', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/08/2025, 17:41:10'}"> _from_structlog=True)
11/08/2025, 17:41:10 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: finalization complete - (chapter=3 word_count=1544 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/finalize_node.py, 159, "{'chapter': 3, 'word_count': 1544, 'event': 'finalize_chapter: finalization complete', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/08/2025, 17:41:10'}"> _from_structlog=True)
11/08/2025, 17:41:10 - [orchestration.langgraph_orchestrator] - info - ✓ Chapter 3 complete - (word_count=1544 _record=<LogRecord: orchestration.langgraph_orchestrator, 20, /home/dlewis3/Desktop/AI/saga/orchestration/langgraph_orchestrator.py, 222, "{'word_count': 1544, 'event': '✓ Chapter 3 complete', 'level': 'info', 'logger': 'orchestration.langgraph_orchestrator', 'timestamp': '11/08/2025, 17:41:10'}"> _from_structlog=True)
11/08/2025, 17:41:10 - [orchestration.langgraph_orchestrator] - info - Chapter generation loop complete - (chapters_generated=3 final_chapter=3 _record=<LogRecord: orchestration.langgraph_orchestrator, 20, /home/dlewis3/Desktop/AI/saga/orchestration/langgraph_orchestrator.py, 241, "{'chapters_generated': 3, 'final_chapter': 3, 'event': 'Chapter generation loop complete', 'level': 'info', 'logger': 'orchestration.langgraph_orchestrator', 'timestamp': '11/08/2025, 17:41:10'}"> _from_structlog=True)
11/08/2025, 17:41:10 - [orchestration.langgraph_orchestrator] - info - ============================================================ - (_record=<LogRecord: orchestration.langgraph_orchestrator, 20, /home/dlewis3/Desktop/AI/saga/orchestration/langgraph_orchestrator.py, 74, "{'event': '============================================================', 'level': 'info', 'logger': 'orchestration.langgraph_orchestrator', 'timestamp': '11/08/2025, 17:41:10'}"> _from_structlog=True)
11/08/2025, 17:41:10 - [orchestration.langgraph_orchestrator] - info - SAGA: LangGraph Generation Complete - (_record=<LogRecord: orchestration.langgraph_orchestrator, 20, /home/dlewis3/Desktop/AI/saga/orchestration/langgraph_orchestrator.py, 75, "{'event': 'SAGA: LangGraph Generation Complete', 'level': 'info', 'logger': 'orchestration.langgraph_orchestrator', 'timestamp': '11/08/2025, 17:41:10'}"> _from_structlog=True)
11/08/2025, 17:41:10 - [orchestration.langgraph_orchestrator] - info - ============================================================ - (_record=<LogRecord: orchestration.langgraph_orchestrator, 20, /home/dlewis3/Desktop/AI/saga/orchestration/langgraph_orchestrator.py, 76, "{'event': '============================================================', 'level': 'info', 'logger': 'orchestration.langgraph_orchestrator', 'timestamp': '11/08/2025, 17:41:10'}"> _from_structlog=True)
11/08/2025, 17:41:10 - [__main__] - info - Ensuring Neo4j driver is closed from main entry point. - (_record=<LogRecord: __main__, 20, /home/dlewis3/Desktop/AI/saga/main.py, 133, "{'event': 'Ensuring Neo4j driver is closed from main entry point.', 'level': 'info', 'logger': '__main__', 'timestamp': '11/08/2025, 17:41:10'}"> _from_structlog=True)
11/08/2025, 17:41:10 - [core.db_manager] - info - Neo4j driver closed. - (_record=<LogRecord: core.db_manager, 20, /home/dlewis3/Desktop/AI/saga/core/db_manager.py, 91, "{'event': 'Neo4j driver closed.', 'level': 'info', 'logger': 'core.db_manager', 'timestamp': '11/08/2025, 17:41:10'}"> _from_structlog=True)
