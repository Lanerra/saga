11/07/2025, 01:42:16 - [core.http_client_service] - info - HTTPClientService initialized with timeout=600.0s, concurrency_limit=4 - (_record=<LogRecord: core.http_client_service, 20, /home/dlewis3/Desktop/AI/saga/core/http_client_service.py, 56, "{'event': 'HTTPClientService initialized with timeout=600.0s, concurrency_limit=4', 'level': 'info', 'logger': 'core.http_client_service', 'timestamp': '11/07/2025, 01:42:16'}"> _from_structlog=True)
11/07/2025, 01:42:16 - [core.text_processing_service] - info - TextProcessingService initialized with all sub-services - (_record=<LogRecord: core.text_processing_service, 20, /home/dlewis3/Desktop/AI/saga/core/text_processing_service.py, 462, "{'event': 'TextProcessingService initialized with all sub-services', 'level': 'info', 'logger': 'core.text_processing_service', 'timestamp': '11/07/2025, 01:42:16'}"> _from_structlog=True)
11/07/2025, 01:42:16 - [core.llm_interface_refactored] - info - RefactoredLLMService initialized with separated components - (_record=<LogRecord: core.llm_interface_refactored, 20, /home/dlewis3/Desktop/AI/saga/core/llm_interface_refactored.py, 561, "{'event': 'RefactoredLLMService initialized with separated components', 'level': 'info', 'logger': 'core.llm_interface_refactored', 'timestamp': '11/07/2025, 01:42:16'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.db_manager] - info - Neo4jManagerSingleton initialized. Call connect() to establish connection. - (_record=<LogRecord: core.db_manager, 20, /home/dlewis3/Desktop/AI/saga/core/db_manager.py, 44, "{'event': 'Neo4jManagerSingleton initialized. Call connect() to establish connection.', 'level': 'info', 'logger': 'core.db_manager', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.nodes.commit_node] - info - commit_to_graph - (chapter=1 characters=0 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 74, "{'chapter': 1, 'characters': 0, 'world_items': 0, 'relationships': 0, 'event': 'commit_to_graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: created chapter node - (chapter=1 word_count=0 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 509, "{'chapter': 1, 'word_count': 0, 'event': 'commit_to_graph: created chapter node', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: successfully committed to knowledge graph - (chapter=1 characters=0 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 146, "{'chapter': 1, 'characters': 0, 'world_items': 0, 'relationships': 0, 'event': 'commit_to_graph: successfully committed to knowledge graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.nodes.commit_node] - info - commit_to_graph - (chapter=1 characters=2 world_items=1 relationships=1 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 74, "{'chapter': 1, 'characters': 2, 'world_items': 1, 'relationships': 1, 'event': 'commit_to_graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.nodes.commit_node] - error - commit_to_graph: error during commit - (error='>=' not supported between instances of 'coroutine' and 'float' chapter=1 exc_info=True _record=<LogRecord: core.langgraph.nodes.commit_node, 40, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 161, "{'error': "'>=' not supported between instances of 'coroutine' and 'float'", 'chapter': 1, 'exc_info': True, 'event': 'commit_to_graph: error during commit', 'level': 'error', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.nodes.commit_node] - info - commit_to_graph - (chapter=1 characters=2 world_items=1 relationships=1 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 74, "{'chapter': 1, 'characters': 2, 'world_items': 1, 'relationships': 1, 'event': 'commit_to_graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.nodes.commit_node] - error - commit_to_graph: error during commit - (error='>=' not supported between instances of 'coroutine' and 'float' chapter=1 exc_info=True _record=<LogRecord: core.langgraph.nodes.commit_node, 40, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 161, "{'error': "'>=' not supported between instances of 'coroutine' and 'float'", 'chapter': 1, 'exc_info': True, 'event': 'commit_to_graph: error during commit', 'level': 'error', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.nodes.commit_node] - info - commit_to_graph - (chapter=1 characters=2 world_items=1 relationships=1 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 74, "{'chapter': 1, 'characters': 2, 'world_items': 1, 'relationships': 1, 'event': 'commit_to_graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.nodes.commit_node] - error - commit_to_graph: failed to create relationships - (error=object MagicMock can't be used in 'await' expression chapter=1 exc_info=True _record=<LogRecord: core.langgraph.nodes.commit_node, 40, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 471, "{'error': "object MagicMock can't be used in 'await' expression", 'chapter': 1, 'exc_info': True, 'event': 'commit_to_graph: failed to create relationships', 'level': 'error', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: created chapter node - (chapter=1 word_count=2000 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 509, "{'chapter': 1, 'word_count': 2000, 'event': 'commit_to_graph: created chapter node', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: successfully committed to knowledge graph - (chapter=1 characters=2 world_items=1 relationships=1 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 146, "{'chapter': 1, 'characters': 2, 'world_items': 1, 'relationships': 1, 'event': 'commit_to_graph: successfully committed to knowledge graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.nodes.commit_node] - info - commit_to_graph - (chapter=1 characters=2 world_items=1 relationships=1 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 74, "{'chapter': 1, 'characters': 2, 'world_items': 1, 'relationships': 1, 'event': 'commit_to_graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.nodes.commit_node] - error - commit_to_graph: failed to create relationships - (error=object MagicMock can't be used in 'await' expression chapter=1 exc_info=True _record=<LogRecord: core.langgraph.nodes.commit_node, 40, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 471, "{'error': "object MagicMock can't be used in 'await' expression", 'chapter': 1, 'exc_info': True, 'event': 'commit_to_graph: failed to create relationships', 'level': 'error', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: created chapter node - (chapter=1 word_count=2000 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 509, "{'chapter': 1, 'word_count': 2000, 'event': 'commit_to_graph: created chapter node', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: successfully committed to knowledge graph - (chapter=1 characters=2 world_items=1 relationships=1 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 146, "{'chapter': 1, 'characters': 2, 'world_items': 1, 'relationships': 1, 'event': 'commit_to_graph: successfully committed to knowledge graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.nodes.extraction_node] - warning - _parse_extraction_json: empty extraction text - (chapter=1 _record=<LogRecord: core.langgraph.nodes.extraction_node, 30, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 413, "{'chapter': 1, 'event': '_parse_extraction_json: empty extraction text', 'level': 'warning', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.nodes.extraction_node] - warning - _parse_extraction_json: JSON parsing failed - (error=Expecting value: line 1 column 15 (char 14) chapter=1 _record=<LogRecord: core.langgraph.nodes.extraction_node, 30, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 432, "{'error': 'Expecting value: line 1 column 15 (char 14)', 'chapter': 1, 'event': '_parse_extraction_json: JSON parsing failed', 'level': 'warning', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=1 word_count=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 64, "{'chapter': 1, 'word_count': 0, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.nodes.extraction_node] - warning - extract_entities: no draft text to extract from - (_record=<LogRecord: core.langgraph.nodes.extraction_node, 30, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 72, "{'event': 'extract_entities: no draft text to extract from', 'level': 'warning', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=1 word_count=2000 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 64, "{'chapter': 1, 'word_count': 2000, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=1 word_count=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 64, "{'chapter': 1, 'word_count': 0, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=1 word_count=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 64, "{'chapter': 1, 'word_count': 0, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=5 word_count=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 64, "{'chapter': 5, 'word_count': 0, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=1 word_count=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 64, "{'chapter': 1, 'word_count': 0, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=3 word_count=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 64, "{'chapter': 3, 'word_count': 0, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.graph_context] - info - build_context_from_graph - (chapter=5 lookback=5 char_count=auto _record=<LogRecord: core.langgraph.graph_context, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/graph_context.py, 71, "{'chapter': 5, 'lookback': 5, 'char_count': 'auto', 'event': 'build_context_from_graph', 'level': 'info', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.graph_context] - info - build_context_from_graph: context built - (characters=0 world_items=0 relationships=0 summaries=0 _record=<LogRecord: core.langgraph.graph_context, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/graph_context.py, 129, "{'characters': 0, 'world_items': 0, 'relationships': 0, 'summaries': 0, 'event': 'build_context_from_graph: context built', 'level': 'info', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.graph_context] - info - build_context_from_graph - (chapter=5 lookback=5 char_count=1 _record=<LogRecord: core.langgraph.graph_context, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/graph_context.py, 71, "{'chapter': 5, 'lookback': 5, 'char_count': 1, 'event': 'build_context_from_graph', 'level': 'info', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.graph_context] - info - build_context_from_graph: context built - (characters=1 world_items=0 relationships=0 summaries=0 _record=<LogRecord: core.langgraph.graph_context, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/graph_context.py, 129, "{'characters': 1, 'world_items': 0, 'relationships': 0, 'summaries': 0, 'event': 'build_context_from_graph: context built', 'level': 'info', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.graph_context] - info - build_context_from_graph - (chapter=5 lookback=5 char_count=auto _record=<LogRecord: core.langgraph.graph_context, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/graph_context.py, 71, "{'chapter': 5, 'lookback': 5, 'char_count': 'auto', 'event': 'build_context_from_graph', 'level': 'info', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.graph_context] - info - build_context_from_graph: context built - (characters=0 world_items=0 relationships=0 summaries=0 _record=<LogRecord: core.langgraph.graph_context, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/graph_context.py, 129, "{'characters': 0, 'world_items': 0, 'relationships': 0, 'summaries': 0, 'event': 'build_context_from_graph: context built', 'level': 'info', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.graph_context] - info - build_context_from_graph - (chapter=5 lookback=5 char_count=auto _record=<LogRecord: core.langgraph.graph_context, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/graph_context.py, 71, "{'chapter': 5, 'lookback': 5, 'char_count': 'auto', 'event': 'build_context_from_graph', 'level': 'info', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.graph_context] - error - build_context_from_graph: error building context - (error=Query error chapter=5 exc_info=True _record=<LogRecord: core.langgraph.graph_context, 40, /home/dlewis3/Desktop/AI/saga/core/langgraph/graph_context.py, 140, "{'error': 'Query error', 'chapter': 5, 'exc_info': True, 'event': 'build_context_from_graph: error building context', 'level': 'error', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.graph_context] - error - get_key_events: error retrieving events - (error=Query error exc_info=True _record=<LogRecord: core.langgraph.graph_context, 40, /home/dlewis3/Desktop/AI/saga/core/langgraph/graph_context.py, 431, "{'error': 'Query error', 'exc_info': True, 'event': 'get_key_events: error retrieving events', 'level': 'error', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.nodes.validation_node] - info - validate_consistency - (chapter=1 relationships=1 characters=2 _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 52, "{'chapter': 1, 'relationships': 1, 'characters': 2, 'event': 'validate_consistency', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.nodes.validation_node] - info - validate_consistency: validation complete - (total_issues=0 critical=0 major=0 minor=0 needs_revision=False _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 103, "{'total_issues': 0, 'critical': 0, 'major': 0, 'minor': 0, 'needs_revision': False, 'event': 'validate_consistency: validation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.nodes.validation_node] - info - validate_consistency - (chapter=1 relationships=1 characters=2 _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 52, "{'chapter': 1, 'relationships': 1, 'characters': 2, 'event': 'validate_consistency', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.nodes.validation_node] - info - validate_consistency: validation complete - (total_issues=1 critical=0 major=0 minor=1 needs_revision=False _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 103, "{'total_issues': 1, 'critical': 0, 'major': 0, 'minor': 1, 'needs_revision': False, 'event': 'validate_consistency: validation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.nodes.validation_node] - info - validate_consistency - (chapter=1 relationships=0 characters=0 _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 52, "{'chapter': 1, 'relationships': 0, 'characters': 0, 'event': 'validate_consistency', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.nodes.validation_node] - info - validate_consistency: validation complete - (total_issues=1 critical=0 major=1 minor=0 needs_revision=False _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 103, "{'total_issues': 1, 'critical': 0, 'major': 1, 'minor': 0, 'needs_revision': False, 'event': 'validate_consistency: validation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.nodes.validation_node] - info - validate_consistency - (chapter=1 relationships=1 characters=2 _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 52, "{'chapter': 1, 'relationships': 1, 'characters': 2, 'event': 'validate_consistency', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.nodes.validation_node] - info - validate_consistency: validation complete - (total_issues=1 critical=0 major=1 minor=0 needs_revision=False _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 103, "{'total_issues': 1, 'critical': 0, 'major': 1, 'minor': 0, 'needs_revision': False, 'event': 'validate_consistency: validation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.nodes.validation_node] - info - validate_consistency - (chapter=1 relationships=1 characters=2 _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 52, "{'chapter': 1, 'relationships': 1, 'characters': 2, 'event': 'validate_consistency', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.nodes.validation_node] - info - validate_consistency: validation complete - (total_issues=1 critical=0 major=1 minor=0 needs_revision=False _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 103, "{'total_issues': 1, 'critical': 0, 'major': 1, 'minor': 0, 'needs_revision': False, 'event': 'validate_consistency: validation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:42:17 - [core.langgraph.nodes.validation_node] - error - _validate_relationships: error during validation - (error=Validation error exc_info=True _record=<LogRecord: core.langgraph.nodes.validation_node, 40, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 200, "{'error': 'Validation error', 'exc_info': True, 'event': '_validate_relationships: error during validation', 'level': 'error', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 01:42:17'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.http_client_service] - info - HTTPClientService initialized with timeout=600.0s, concurrency_limit=4 - (_record=<LogRecord: core.http_client_service, 20, /home/dlewis3/Desktop/AI/saga/core/http_client_service.py, 56, "{'event': 'HTTPClientService initialized with timeout=600.0s, concurrency_limit=4', 'level': 'info', 'logger': 'core.http_client_service', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.text_processing_service] - info - TextProcessingService initialized with all sub-services - (_record=<LogRecord: core.text_processing_service, 20, /home/dlewis3/Desktop/AI/saga/core/text_processing_service.py, 462, "{'event': 'TextProcessingService initialized with all sub-services', 'level': 'info', 'logger': 'core.text_processing_service', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.llm_interface_refactored] - info - RefactoredLLMService initialized with separated components - (_record=<LogRecord: core.llm_interface_refactored, 20, /home/dlewis3/Desktop/AI/saga/core/llm_interface_refactored.py, 561, "{'event': 'RefactoredLLMService initialized with separated components', 'level': 'info', 'logger': 'core.llm_interface_refactored', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.db_manager] - info - Neo4jManagerSingleton initialized. Call connect() to establish connection. - (_record=<LogRecord: core.db_manager, 20, /home/dlewis3/Desktop/AI/saga/core/db_manager.py, 44, "{'event': 'Neo4jManagerSingleton initialized. Call connect() to establish connection.', 'level': 'info', 'logger': 'core.db_manager', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.nodes.commit_node] - info - commit_to_graph - (chapter=1 characters=0 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 74, "{'chapter': 1, 'characters': 0, 'world_items': 0, 'relationships': 0, 'event': 'commit_to_graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: created chapter node - (chapter=1 word_count=0 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 509, "{'chapter': 1, 'word_count': 0, 'event': 'commit_to_graph: created chapter node', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: successfully committed to knowledge graph - (chapter=1 characters=0 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 146, "{'chapter': 1, 'characters': 0, 'world_items': 0, 'relationships': 0, 'event': 'commit_to_graph: successfully committed to knowledge graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.nodes.commit_node] - info - commit_to_graph - (chapter=1 characters=2 world_items=1 relationships=1 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 74, "{'chapter': 1, 'characters': 2, 'world_items': 1, 'relationships': 1, 'event': 'commit_to_graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.nodes.commit_node] - error - commit_to_graph: error during commit - (error='>=' not supported between instances of 'coroutine' and 'float' chapter=1 exc_info=True _record=<LogRecord: core.langgraph.nodes.commit_node, 40, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 161, "{'error': "'>=' not supported between instances of 'coroutine' and 'float'", 'chapter': 1, 'exc_info': True, 'event': 'commit_to_graph: error during commit', 'level': 'error', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.nodes.commit_node] - info - commit_to_graph - (chapter=1 characters=2 world_items=1 relationships=1 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 74, "{'chapter': 1, 'characters': 2, 'world_items': 1, 'relationships': 1, 'event': 'commit_to_graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.nodes.commit_node] - error - commit_to_graph: error during commit - (error='>=' not supported between instances of 'coroutine' and 'float' chapter=1 exc_info=True _record=<LogRecord: core.langgraph.nodes.commit_node, 40, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 161, "{'error': "'>=' not supported between instances of 'coroutine' and 'float'", 'chapter': 1, 'exc_info': True, 'event': 'commit_to_graph: error during commit', 'level': 'error', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.nodes.commit_node] - info - commit_to_graph - (chapter=1 characters=2 world_items=1 relationships=1 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 74, "{'chapter': 1, 'characters': 2, 'world_items': 1, 'relationships': 1, 'event': 'commit_to_graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.nodes.commit_node] - error - commit_to_graph: failed to create relationships - (error=object MagicMock can't be used in 'await' expression chapter=1 exc_info=True _record=<LogRecord: core.langgraph.nodes.commit_node, 40, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 471, "{'error': "object MagicMock can't be used in 'await' expression", 'chapter': 1, 'exc_info': True, 'event': 'commit_to_graph: failed to create relationships', 'level': 'error', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: created chapter node - (chapter=1 word_count=2000 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 509, "{'chapter': 1, 'word_count': 2000, 'event': 'commit_to_graph: created chapter node', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: successfully committed to knowledge graph - (chapter=1 characters=2 world_items=1 relationships=1 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 146, "{'chapter': 1, 'characters': 2, 'world_items': 1, 'relationships': 1, 'event': 'commit_to_graph: successfully committed to knowledge graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.nodes.commit_node] - info - commit_to_graph - (chapter=1 characters=2 world_items=1 relationships=1 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 74, "{'chapter': 1, 'characters': 2, 'world_items': 1, 'relationships': 1, 'event': 'commit_to_graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.nodes.commit_node] - error - commit_to_graph: failed to create relationships - (error=object MagicMock can't be used in 'await' expression chapter=1 exc_info=True _record=<LogRecord: core.langgraph.nodes.commit_node, 40, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 471, "{'error': "object MagicMock can't be used in 'await' expression", 'chapter': 1, 'exc_info': True, 'event': 'commit_to_graph: failed to create relationships', 'level': 'error', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: created chapter node - (chapter=1 word_count=2000 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 509, "{'chapter': 1, 'word_count': 2000, 'event': 'commit_to_graph: created chapter node', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: successfully committed to knowledge graph - (chapter=1 characters=2 world_items=1 relationships=1 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 146, "{'chapter': 1, 'characters': 2, 'world_items': 1, 'relationships': 1, 'event': 'commit_to_graph: successfully committed to knowledge graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.nodes.extraction_node] - warning - _parse_extraction_json: empty extraction text - (chapter=1 _record=<LogRecord: core.langgraph.nodes.extraction_node, 30, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 413, "{'chapter': 1, 'event': '_parse_extraction_json: empty extraction text', 'level': 'warning', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.nodes.extraction_node] - warning - _parse_extraction_json: JSON parsing failed - (error=Expecting value: line 1 column 15 (char 14) chapter=1 _record=<LogRecord: core.langgraph.nodes.extraction_node, 30, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 432, "{'error': 'Expecting value: line 1 column 15 (char 14)', 'chapter': 1, 'event': '_parse_extraction_json: JSON parsing failed', 'level': 'warning', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=1 word_count=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 64, "{'chapter': 1, 'word_count': 0, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.nodes.extraction_node] - warning - extract_entities: no draft text to extract from - (_record=<LogRecord: core.langgraph.nodes.extraction_node, 30, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 72, "{'event': 'extract_entities: no draft text to extract from', 'level': 'warning', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=1 word_count=2000 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 64, "{'chapter': 1, 'word_count': 2000, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=1 word_count=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 64, "{'chapter': 1, 'word_count': 0, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=1 word_count=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 64, "{'chapter': 1, 'word_count': 0, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=5 word_count=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 64, "{'chapter': 5, 'word_count': 0, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=1 word_count=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 64, "{'chapter': 1, 'word_count': 0, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=3 word_count=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 64, "{'chapter': 3, 'word_count': 0, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.graph_context] - info - build_context_from_graph - (chapter=5 lookback=5 char_count=auto _record=<LogRecord: core.langgraph.graph_context, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/graph_context.py, 71, "{'chapter': 5, 'lookback': 5, 'char_count': 'auto', 'event': 'build_context_from_graph', 'level': 'info', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.graph_context] - info - build_context_from_graph: context built - (characters=0 world_items=0 relationships=0 summaries=0 _record=<LogRecord: core.langgraph.graph_context, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/graph_context.py, 129, "{'characters': 0, 'world_items': 0, 'relationships': 0, 'summaries': 0, 'event': 'build_context_from_graph: context built', 'level': 'info', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.graph_context] - info - build_context_from_graph - (chapter=5 lookback=5 char_count=1 _record=<LogRecord: core.langgraph.graph_context, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/graph_context.py, 71, "{'chapter': 5, 'lookback': 5, 'char_count': 1, 'event': 'build_context_from_graph', 'level': 'info', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.graph_context] - info - build_context_from_graph: context built - (characters=1 world_items=0 relationships=0 summaries=0 _record=<LogRecord: core.langgraph.graph_context, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/graph_context.py, 129, "{'characters': 1, 'world_items': 0, 'relationships': 0, 'summaries': 0, 'event': 'build_context_from_graph: context built', 'level': 'info', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.graph_context] - info - build_context_from_graph - (chapter=5 lookback=5 char_count=auto _record=<LogRecord: core.langgraph.graph_context, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/graph_context.py, 71, "{'chapter': 5, 'lookback': 5, 'char_count': 'auto', 'event': 'build_context_from_graph', 'level': 'info', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.graph_context] - info - build_context_from_graph: context built - (characters=0 world_items=0 relationships=0 summaries=0 _record=<LogRecord: core.langgraph.graph_context, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/graph_context.py, 129, "{'characters': 0, 'world_items': 0, 'relationships': 0, 'summaries': 0, 'event': 'build_context_from_graph: context built', 'level': 'info', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.graph_context] - info - build_context_from_graph - (chapter=5 lookback=5 char_count=auto _record=<LogRecord: core.langgraph.graph_context, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/graph_context.py, 71, "{'chapter': 5, 'lookback': 5, 'char_count': 'auto', 'event': 'build_context_from_graph', 'level': 'info', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.graph_context] - error - build_context_from_graph: error building context - (error=Query error chapter=5 exc_info=True _record=<LogRecord: core.langgraph.graph_context, 40, /home/dlewis3/Desktop/AI/saga/core/langgraph/graph_context.py, 140, "{'error': 'Query error', 'chapter': 5, 'exc_info': True, 'event': 'build_context_from_graph: error building context', 'level': 'error', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.graph_context] - error - get_key_events: error retrieving events - (error=Query error exc_info=True _record=<LogRecord: core.langgraph.graph_context, 40, /home/dlewis3/Desktop/AI/saga/core/langgraph/graph_context.py, 431, "{'error': 'Query error', 'exc_info': True, 'event': 'get_key_events: error retrieving events', 'level': 'error', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.nodes.validation_node] - info - validate_consistency - (chapter=1 relationships=1 characters=2 _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 52, "{'chapter': 1, 'relationships': 1, 'characters': 2, 'event': 'validate_consistency', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.nodes.validation_node] - info - validate_consistency: validation complete - (total_issues=0 critical=0 major=0 minor=0 needs_revision=False _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 103, "{'total_issues': 0, 'critical': 0, 'major': 0, 'minor': 0, 'needs_revision': False, 'event': 'validate_consistency: validation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.nodes.validation_node] - info - validate_consistency - (chapter=1 relationships=1 characters=2 _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 52, "{'chapter': 1, 'relationships': 1, 'characters': 2, 'event': 'validate_consistency', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.nodes.validation_node] - info - validate_consistency: validation complete - (total_issues=1 critical=0 major=0 minor=1 needs_revision=False _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 103, "{'total_issues': 1, 'critical': 0, 'major': 0, 'minor': 1, 'needs_revision': False, 'event': 'validate_consistency: validation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.nodes.validation_node] - info - validate_consistency - (chapter=1 relationships=0 characters=0 _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 52, "{'chapter': 1, 'relationships': 0, 'characters': 0, 'event': 'validate_consistency', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.nodes.validation_node] - info - validate_consistency: validation complete - (total_issues=1 critical=0 major=1 minor=0 needs_revision=False _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 103, "{'total_issues': 1, 'critical': 0, 'major': 1, 'minor': 0, 'needs_revision': False, 'event': 'validate_consistency: validation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.nodes.validation_node] - info - validate_consistency - (chapter=1 relationships=1 characters=2 _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 52, "{'chapter': 1, 'relationships': 1, 'characters': 2, 'event': 'validate_consistency', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.nodes.validation_node] - info - validate_consistency: validation complete - (total_issues=1 critical=0 major=1 minor=0 needs_revision=False _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 103, "{'total_issues': 1, 'critical': 0, 'major': 1, 'minor': 0, 'needs_revision': False, 'event': 'validate_consistency: validation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.nodes.validation_node] - info - validate_consistency - (chapter=1 relationships=1 characters=2 _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 52, "{'chapter': 1, 'relationships': 1, 'characters': 2, 'event': 'validate_consistency', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.nodes.validation_node] - info - validate_consistency: validation complete - (total_issues=1 critical=0 major=1 minor=0 needs_revision=False _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 103, "{'total_issues': 1, 'critical': 0, 'major': 1, 'minor': 0, 'needs_revision': False, 'event': 'validate_consistency: validation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 01:44:46 - [core.langgraph.nodes.validation_node] - error - _validate_relationships: error during validation - (error=Validation error exc_info=True _record=<LogRecord: core.langgraph.nodes.validation_node, 40, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 200, "{'error': 'Validation error', 'exc_info': True, 'event': '_validate_relationships: error during validation', 'level': 'error', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 01:44:46'}"> _from_structlog=True)
11/07/2025, 02:08:14 - [core.http_client_service] - info - HTTPClientService initialized with timeout=600.0s, concurrency_limit=4 - (_record=<LogRecord: core.http_client_service, 20, /home/dlewis3/Desktop/AI/saga/core/http_client_service.py, 56, "{'event': 'HTTPClientService initialized with timeout=600.0s, concurrency_limit=4', 'level': 'info', 'logger': 'core.http_client_service', 'timestamp': '11/07/2025, 02:08:14'}"> _from_structlog=True)
11/07/2025, 02:08:14 - [core.text_processing_service] - info - TextProcessingService initialized with all sub-services - (_record=<LogRecord: core.text_processing_service, 20, /home/dlewis3/Desktop/AI/saga/core/text_processing_service.py, 462, "{'event': 'TextProcessingService initialized with all sub-services', 'level': 'info', 'logger': 'core.text_processing_service', 'timestamp': '11/07/2025, 02:08:14'}"> _from_structlog=True)
11/07/2025, 02:08:14 - [core.llm_interface_refactored] - info - RefactoredLLMService initialized with separated components - (_record=<LogRecord: core.llm_interface_refactored, 20, /home/dlewis3/Desktop/AI/saga/core/llm_interface_refactored.py, 561, "{'event': 'RefactoredLLMService initialized with separated components', 'level': 'info', 'logger': 'core.llm_interface_refactored', 'timestamp': '11/07/2025, 02:08:14'}"> _from_structlog=True)
11/07/2025, 02:08:14 - [core.db_manager] - info - Neo4jManagerSingleton initialized. Call connect() to establish connection. - (_record=<LogRecord: core.db_manager, 20, /home/dlewis3/Desktop/AI/saga/core/db_manager.py, 44, "{'event': 'Neo4jManagerSingleton initialized. Call connect() to establish connection.', 'level': 'info', 'logger': 'core.db_manager', 'timestamp': '11/07/2025, 02:08:14'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.commit_node] - info - commit_to_graph - (chapter=1 characters=0 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 74, "{'chapter': 1, 'characters': 0, 'world_items': 0, 'relationships': 0, 'event': 'commit_to_graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: created chapter node - (chapter=1 word_count=0 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 509, "{'chapter': 1, 'word_count': 0, 'event': 'commit_to_graph: created chapter node', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: successfully committed to knowledge graph - (chapter=1 characters=0 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 146, "{'chapter': 1, 'characters': 0, 'world_items': 0, 'relationships': 0, 'event': 'commit_to_graph: successfully committed to knowledge graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.commit_node] - info - commit_to_graph - (chapter=1 characters=2 world_items=1 relationships=1 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 74, "{'chapter': 1, 'characters': 2, 'world_items': 1, 'relationships': 1, 'event': 'commit_to_graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: created relationships - (count=1 chapter=1 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 464, "{'count': 1, 'chapter': 1, 'event': 'commit_to_graph: created relationships', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: created chapter node - (chapter=1 word_count=2000 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 509, "{'chapter': 1, 'word_count': 2000, 'event': 'commit_to_graph: created chapter node', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: successfully committed to knowledge graph - (chapter=1 characters=2 world_items=1 relationships=1 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 146, "{'chapter': 1, 'characters': 2, 'world_items': 1, 'relationships': 1, 'event': 'commit_to_graph: successfully committed to knowledge graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.commit_node] - info - commit_to_graph - (chapter=1 characters=2 world_items=1 relationships=1 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 74, "{'chapter': 1, 'characters': 2, 'world_items': 1, 'relationships': 1, 'event': 'commit_to_graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.commit_node] - error - commit_to_graph: error during commit - (error=Database error chapter=1 exc_info=True _record=<LogRecord: core.langgraph.nodes.commit_node, 40, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 161, "{'error': 'Database error', 'chapter': 1, 'exc_info': True, 'event': 'commit_to_graph: error during commit', 'level': 'error', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.commit_node] - info - commit_to_graph - (chapter=1 characters=2 world_items=1 relationships=1 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 74, "{'chapter': 1, 'characters': 2, 'world_items': 1, 'relationships': 1, 'event': 'commit_to_graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.commit_node] - error - commit_to_graph: failed to create relationships - (error=object MagicMock can't be used in 'await' expression chapter=1 exc_info=True _record=<LogRecord: core.langgraph.nodes.commit_node, 40, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 471, "{'error': "object MagicMock can't be used in 'await' expression", 'chapter': 1, 'exc_info': True, 'event': 'commit_to_graph: failed to create relationships', 'level': 'error', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: created chapter node - (chapter=1 word_count=2000 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 509, "{'chapter': 1, 'word_count': 2000, 'event': 'commit_to_graph: created chapter node', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: successfully committed to knowledge graph - (chapter=1 characters=2 world_items=1 relationships=1 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 146, "{'chapter': 1, 'characters': 2, 'world_items': 1, 'relationships': 1, 'event': 'commit_to_graph: successfully committed to knowledge graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.commit_node] - info - commit_to_graph - (chapter=1 characters=2 world_items=1 relationships=1 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 74, "{'chapter': 1, 'characters': 2, 'world_items': 1, 'relationships': 1, 'event': 'commit_to_graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.commit_node] - error - commit_to_graph: failed to create relationships - (error=object MagicMock can't be used in 'await' expression chapter=1 exc_info=True _record=<LogRecord: core.langgraph.nodes.commit_node, 40, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 471, "{'error': "object MagicMock can't be used in 'await' expression", 'chapter': 1, 'exc_info': True, 'event': 'commit_to_graph: failed to create relationships', 'level': 'error', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: created chapter node - (chapter=1 word_count=2000 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 509, "{'chapter': 1, 'word_count': 2000, 'event': 'commit_to_graph: created chapter node', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: successfully committed to knowledge graph - (chapter=1 characters=2 world_items=1 relationships=1 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 146, "{'chapter': 1, 'characters': 2, 'world_items': 1, 'relationships': 1, 'event': 'commit_to_graph: successfully committed to knowledge graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.extraction_node] - warning - _parse_extraction_json: empty extraction text - (chapter=1 _record=<LogRecord: core.langgraph.nodes.extraction_node, 30, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 411, "{'chapter': 1, 'event': '_parse_extraction_json: empty extraction text', 'level': 'warning', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.extraction_node] - warning - _parse_extraction_json: JSON parsing failed - (error=Expecting value: line 1 column 15 (char 14) chapter=1 _record=<LogRecord: core.langgraph.nodes.extraction_node, 30, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 430, "{'error': 'Expecting value: line 1 column 15 (char 14)', 'chapter': 1, 'event': '_parse_extraction_json: JSON parsing failed', 'level': 'warning', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=1 word_count=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 64, "{'chapter': 1, 'word_count': 0, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.extraction_node] - warning - extract_entities: no draft text to extract from - (_record=<LogRecord: core.langgraph.nodes.extraction_node, 30, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 72, "{'event': 'extract_entities: no draft text to extract from', 'level': 'warning', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=1 word_count=2000 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 64, "{'chapter': 1, 'word_count': 2000, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.extraction_node] - error - _extract_updates_as_models: error processing extraction data - (error=2 validation errors for ExtractedRelationship
source_name
  Input should be a valid string [type=string_type, input_value={'type': 'Character', 'name': 'Alice'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
target_name
  Input should be a valid string [type=string_type, input_value={'type': 'Artifact', 'name': 'Magic Sword'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type chapter=1 exc_info=True _record=<LogRecord: core.langgraph.nodes.extraction_node, 40, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 380, "{'error': "2 validation errors for ExtractedRelationship\nsource_name\n  Input should be a valid string [type=string_type, input_value={'type': 'Character', 'name': 'Alice'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/string_type\ntarget_name\n  Input should be a valid string [type=string_type, input_value={'type': 'Artifact', 'name': 'Magic Sword'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/string_type", 'chapter': 1, 'exc_info': True, 'event': '_extract_updates_as_models: error processing extraction data', 'level': 'error', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.extraction_node] - info - extract_entities: extraction complete - (characters=0 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 112, "{'characters': 0, 'world_items': 0, 'relationships': 0, 'event': 'extract_entities: extraction complete', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=1 word_count=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 64, "{'chapter': 1, 'word_count': 0, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.extraction_node] - error - _llm_extract_updates: LLM call failed - (error=LLM service error exc_info=True _record=<LogRecord: core.langgraph.nodes.extraction_node, 40, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 216, "{'error': 'LLM service error', 'exc_info': True, 'event': '_llm_extract_updates: LLM call failed', 'level': 'error', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.extraction_node] - warning - extract_entities: LLM extraction returned no text - (chapter=1 _record=<LogRecord: core.langgraph.nodes.extraction_node, 30, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 93, "{'chapter': 1, 'event': 'extract_entities: LLM extraction returned no text', 'level': 'warning', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=1 word_count=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 64, "{'chapter': 1, 'word_count': 0, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.extraction_node] - warning - extract_entities: LLM extraction returned no text - (chapter=1 _record=<LogRecord: core.langgraph.nodes.extraction_node, 30, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 93, "{'chapter': 1, 'event': 'extract_entities: LLM extraction returned no text', 'level': 'warning', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=5 word_count=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 64, "{'chapter': 5, 'word_count': 0, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.extraction_node] - error - _extract_updates_as_models: error processing extraction data - (error=2 validation errors for ExtractedRelationship
source_name
  Input should be a valid string [type=string_type, input_value={'type': 'Character', 'name': 'Alice'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
target_name
  Input should be a valid string [type=string_type, input_value={'type': 'Artifact', 'name': 'Magic Sword'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type chapter=5 exc_info=True _record=<LogRecord: core.langgraph.nodes.extraction_node, 40, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 380, "{'error': "2 validation errors for ExtractedRelationship\nsource_name\n  Input should be a valid string [type=string_type, input_value={'type': 'Character', 'name': 'Alice'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/string_type\ntarget_name\n  Input should be a valid string [type=string_type, input_value={'type': 'Artifact', 'name': 'Magic Sword'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/string_type", 'chapter': 5, 'exc_info': True, 'event': '_extract_updates_as_models: error processing extraction data', 'level': 'error', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.extraction_node] - info - extract_entities: extraction complete - (characters=0 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 112, "{'characters': 0, 'world_items': 0, 'relationships': 0, 'event': 'extract_entities: extraction complete', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=1 word_count=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 64, "{'chapter': 1, 'word_count': 0, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.extraction_node] - warning - _parse_extraction_json: JSON parsing failed - (error=Unterminated string starting at: line 1 column 24 (char 23) chapter=1 _record=<LogRecord: core.langgraph.nodes.extraction_node, 30, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 430, "{'error': 'Unterminated string starting at: line 1 column 24 (char 23)', 'chapter': 1, 'event': '_parse_extraction_json: JSON parsing failed', 'level': 'warning', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.extraction_node] - info - extract_entities: extraction complete - (characters=0 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 112, "{'characters': 0, 'world_items': 0, 'relationships': 0, 'event': 'extract_entities: extraction complete', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=3 word_count=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 64, "{'chapter': 3, 'word_count': 0, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.extraction_node] - error - _extract_updates_as_models: error processing extraction data - (error=2 validation errors for ExtractedRelationship
source_name
  Input should be a valid string [type=string_type, input_value={'type': 'Character', 'name': 'Alice'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
target_name
  Input should be a valid string [type=string_type, input_value={'type': 'Artifact', 'name': 'Magic Sword'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type chapter=3 exc_info=True _record=<LogRecord: core.langgraph.nodes.extraction_node, 40, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 380, "{'error': "2 validation errors for ExtractedRelationship\nsource_name\n  Input should be a valid string [type=string_type, input_value={'type': 'Character', 'name': 'Alice'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/string_type\ntarget_name\n  Input should be a valid string [type=string_type, input_value={'type': 'Artifact', 'name': 'Magic Sword'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/string_type", 'chapter': 3, 'exc_info': True, 'event': '_extract_updates_as_models: error processing extraction data', 'level': 'error', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.extraction_node] - info - extract_entities: extraction complete - (characters=0 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 112, "{'characters': 0, 'world_items': 0, 'relationships': 0, 'event': 'extract_entities: extraction complete', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.graph_context] - info - build_context_from_graph - (chapter=5 lookback=5 char_count=auto _record=<LogRecord: core.langgraph.graph_context, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/graph_context.py, 71, "{'chapter': 5, 'lookback': 5, 'char_count': 'auto', 'event': 'build_context_from_graph', 'level': 'info', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.graph_context] - info - build_context_from_graph: context built - (characters=0 world_items=0 relationships=0 summaries=0 _record=<LogRecord: core.langgraph.graph_context, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/graph_context.py, 129, "{'characters': 0, 'world_items': 0, 'relationships': 0, 'summaries': 0, 'event': 'build_context_from_graph: context built', 'level': 'info', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.graph_context] - info - build_context_from_graph - (chapter=5 lookback=5 char_count=1 _record=<LogRecord: core.langgraph.graph_context, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/graph_context.py, 71, "{'chapter': 5, 'lookback': 5, 'char_count': 1, 'event': 'build_context_from_graph', 'level': 'info', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.graph_context] - info - build_context_from_graph: context built - (characters=1 world_items=0 relationships=0 summaries=0 _record=<LogRecord: core.langgraph.graph_context, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/graph_context.py, 129, "{'characters': 1, 'world_items': 0, 'relationships': 0, 'summaries': 0, 'event': 'build_context_from_graph: context built', 'level': 'info', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.graph_context] - info - build_context_from_graph - (chapter=5 lookback=5 char_count=auto _record=<LogRecord: core.langgraph.graph_context, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/graph_context.py, 71, "{'chapter': 5, 'lookback': 5, 'char_count': 'auto', 'event': 'build_context_from_graph', 'level': 'info', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.graph_context] - info - build_context_from_graph: context built - (characters=0 world_items=0 relationships=0 summaries=0 _record=<LogRecord: core.langgraph.graph_context, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/graph_context.py, 129, "{'characters': 0, 'world_items': 0, 'relationships': 0, 'summaries': 0, 'event': 'build_context_from_graph: context built', 'level': 'info', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.graph_context] - info - build_context_from_graph - (chapter=5 lookback=5 char_count=auto _record=<LogRecord: core.langgraph.graph_context, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/graph_context.py, 71, "{'chapter': 5, 'lookback': 5, 'char_count': 'auto', 'event': 'build_context_from_graph', 'level': 'info', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.graph_context] - error - build_context_from_graph: error building context - (error=Query error chapter=5 exc_info=True _record=<LogRecord: core.langgraph.graph_context, 40, /home/dlewis3/Desktop/AI/saga/core/langgraph/graph_context.py, 140, "{'error': 'Query error', 'chapter': 5, 'exc_info': True, 'event': 'build_context_from_graph: error building context', 'level': 'error', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.graph_context] - error - get_key_events: error retrieving events - (error=Query error exc_info=True _record=<LogRecord: core.langgraph.graph_context, 40, /home/dlewis3/Desktop/AI/saga/core/langgraph/graph_context.py, 431, "{'error': 'Query error', 'exc_info': True, 'event': 'get_key_events: error retrieving events', 'level': 'error', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.validation_node] - info - validate_consistency - (chapter=1 relationships=1 characters=2 _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 52, "{'chapter': 1, 'relationships': 1, 'characters': 2, 'event': 'validate_consistency', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.validation_node] - info - validate_consistency: validation complete - (total_issues=0 critical=0 major=0 minor=0 needs_revision=False _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 103, "{'total_issues': 0, 'critical': 0, 'major': 0, 'minor': 0, 'needs_revision': False, 'event': 'validate_consistency: validation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.validation_node] - info - validate_consistency - (chapter=1 relationships=1 characters=2 _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 52, "{'chapter': 1, 'relationships': 1, 'characters': 2, 'event': 'validate_consistency', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.validation_node] - info - validate_consistency: validation complete - (total_issues=1 critical=0 major=0 minor=1 needs_revision=False _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 103, "{'total_issues': 1, 'critical': 0, 'major': 0, 'minor': 1, 'needs_revision': False, 'event': 'validate_consistency: validation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.validation_node] - info - validate_consistency - (chapter=1 relationships=0 characters=0 _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 52, "{'chapter': 1, 'relationships': 0, 'characters': 0, 'event': 'validate_consistency', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.validation_node] - info - validate_consistency: validation complete - (total_issues=1 critical=0 major=1 minor=0 needs_revision=False _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 103, "{'total_issues': 1, 'critical': 0, 'major': 1, 'minor': 0, 'needs_revision': False, 'event': 'validate_consistency: validation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.validation_node] - info - validate_consistency - (chapter=1 relationships=3 characters=2 _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 52, "{'chapter': 1, 'relationships': 3, 'characters': 2, 'event': 'validate_consistency', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.validation_node] - info - validate_consistency: validation complete - (total_issues=3 critical=0 major=3 minor=0 needs_revision=True _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 103, "{'total_issues': 3, 'critical': 0, 'major': 3, 'minor': 0, 'needs_revision': True, 'event': 'validate_consistency: validation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.validation_node] - info - validate_consistency - (chapter=1 relationships=1 characters=2 _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 52, "{'chapter': 1, 'relationships': 1, 'characters': 2, 'event': 'validate_consistency', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.validation_node] - info - validate_consistency: validation complete - (total_issues=1 critical=0 major=1 minor=0 needs_revision=False _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 103, "{'total_issues': 1, 'critical': 0, 'major': 1, 'minor': 0, 'needs_revision': False, 'event': 'validate_consistency: validation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:08:15 - [core.langgraph.nodes.validation_node] - error - _validate_relationships: error during validation - (error=Validation error exc_info=True _record=<LogRecord: core.langgraph.nodes.validation_node, 40, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 200, "{'error': 'Validation error', 'exc_info': True, 'event': '_validate_relationships: error during validation', 'level': 'error', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 02:08:15'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.http_client_service] - info - HTTPClientService initialized with timeout=600.0s, concurrency_limit=4 - (_record=<LogRecord: core.http_client_service, 20, /home/dlewis3/Desktop/AI/saga/core/http_client_service.py, 56, "{'event': 'HTTPClientService initialized with timeout=600.0s, concurrency_limit=4', 'level': 'info', 'logger': 'core.http_client_service', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.text_processing_service] - info - TextProcessingService initialized with all sub-services - (_record=<LogRecord: core.text_processing_service, 20, /home/dlewis3/Desktop/AI/saga/core/text_processing_service.py, 462, "{'event': 'TextProcessingService initialized with all sub-services', 'level': 'info', 'logger': 'core.text_processing_service', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.llm_interface_refactored] - info - RefactoredLLMService initialized with separated components - (_record=<LogRecord: core.llm_interface_refactored, 20, /home/dlewis3/Desktop/AI/saga/core/llm_interface_refactored.py, 561, "{'event': 'RefactoredLLMService initialized with separated components', 'level': 'info', 'logger': 'core.llm_interface_refactored', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.db_manager] - info - Neo4jManagerSingleton initialized. Call connect() to establish connection. - (_record=<LogRecord: core.db_manager, 20, /home/dlewis3/Desktop/AI/saga/core/db_manager.py, 44, "{'event': 'Neo4jManagerSingleton initialized. Call connect() to establish connection.', 'level': 'info', 'logger': 'core.db_manager', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.workflow] - info - create_phase1_graph: building workflow graph - (_record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 107, "{'event': 'create_phase1_graph: building workflow graph', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.workflow] - info - create_phase1_graph: graph built successfully - (nodes=['extract', 'commit', 'validate', 'revise'] entry_point=extract _record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 160, "{'nodes': ['extract', 'commit', 'validate', 'revise'], 'entry_point': 'extract', 'event': 'create_phase1_graph: graph built successfully', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.workflow] - info - create_phase1_graph: compiling without checkpointing - (_record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 171, "{'event': 'create_phase1_graph: compiling without checkpointing', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=1 word_count=30 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 64, "{'chapter': 1, 'word_count': 30, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.nodes.extraction_node] - info - extract_entities: extraction complete - (characters=2 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 112, "{'characters': 2, 'world_items': 0, 'relationships': 0, 'event': 'extract_entities: extraction complete', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.nodes.commit_node] - info - commit_to_graph - (chapter=1 characters=2 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 74, "{'chapter': 1, 'characters': 2, 'world_items': 0, 'relationships': 0, 'event': 'commit_to_graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.nodes.commit_node] - warning - commit_to_graph: entity persistence returned failure flag - (chapter=1 _record=<LogRecord: core.langgraph.nodes.commit_node, 30, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 123, "{'chapter': 1, 'event': 'commit_to_graph: entity persistence returned failure flag', 'level': 'warning', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: created chapter node - (chapter=1 word_count=30 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 509, "{'chapter': 1, 'word_count': 30, 'event': 'commit_to_graph: created chapter node', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: successfully committed to knowledge graph - (chapter=1 characters=2 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 146, "{'chapter': 1, 'characters': 2, 'world_items': 0, 'relationships': 0, 'event': 'commit_to_graph: successfully committed to knowledge graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.nodes.validation_node] - info - validate_consistency - (chapter=1 relationships=0 characters=2 _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 52, "{'chapter': 1, 'relationships': 0, 'characters': 2, 'event': 'validate_consistency', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.nodes.validation_node] - error - _check_character_traits: error during trait checking - (error=object MagicMock can't be used in 'await' expression exc_info=True _record=<LogRecord: core.langgraph.nodes.validation_node, 40, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 316, "{'error': "object MagicMock can't be used in 'await' expression", 'exc_info': True, 'event': '_check_character_traits: error during trait checking', 'level': 'error', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.nodes.validation_node] - info - validate_consistency: validation complete - (total_issues=1 critical=0 major=1 minor=0 needs_revision=False _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 103, "{'total_issues': 1, 'critical': 0, 'major': 1, 'minor': 0, 'needs_revision': False, 'event': 'validate_consistency: validation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.workflow] - info - should_revise: routing decision - (needs_revision=False iteration=0 max_iterations=3 force_continue=False _record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 61, "{'needs_revision': False, 'iteration': 0, 'max_iterations': 3, 'force_continue': False, 'event': 'should_revise: routing decision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.workflow] - info - should_revise: no revision needed, ending workflow - (_record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 89, "{'event': 'should_revise: no revision needed, ending workflow', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.workflow] - info - create_phase1_graph: building workflow graph - (_record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 107, "{'event': 'create_phase1_graph: building workflow graph', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.workflow] - info - create_phase1_graph: graph built successfully - (nodes=['extract', 'commit', 'validate', 'revise'] entry_point=extract _record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 160, "{'nodes': ['extract', 'commit', 'validate', 'revise'], 'entry_point': 'extract', 'event': 'create_phase1_graph: graph built successfully', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.workflow] - info - create_phase1_graph: compiling without checkpointing - (_record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 171, "{'event': 'create_phase1_graph: compiling without checkpointing', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=1 word_count=2 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 64, "{'chapter': 1, 'word_count': 2, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.nodes.extraction_node] - info - extract_entities: extraction complete - (characters=0 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 112, "{'characters': 0, 'world_items': 0, 'relationships': 0, 'event': 'extract_entities: extraction complete', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.nodes.commit_node] - info - commit_to_graph - (chapter=1 characters=0 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 74, "{'chapter': 1, 'characters': 0, 'world_items': 0, 'relationships': 0, 'event': 'commit_to_graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.nodes.commit_node] - error - commit_to_graph: failed to create chapter node - (error=object MagicMock can't be used in 'await' expression chapter=1 exc_info=True _record=<LogRecord: core.langgraph.nodes.commit_node, 40, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 516, "{'error': "object MagicMock can't be used in 'await' expression", 'chapter': 1, 'exc_info': True, 'event': 'commit_to_graph: failed to create chapter node', 'level': 'error', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: successfully committed to knowledge graph - (chapter=1 characters=0 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 146, "{'chapter': 1, 'characters': 0, 'world_items': 0, 'relationships': 0, 'event': 'commit_to_graph: successfully committed to knowledge graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.nodes.validation_node] - info - validate_consistency - (chapter=1 relationships=0 characters=0 _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 52, "{'chapter': 1, 'relationships': 0, 'characters': 0, 'event': 'validate_consistency', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.nodes.validation_node] - info - validate_consistency: validation complete - (total_issues=1 critical=0 major=1 minor=0 needs_revision=False _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 103, "{'total_issues': 1, 'critical': 0, 'major': 1, 'minor': 0, 'needs_revision': False, 'event': 'validate_consistency: validation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.workflow] - info - should_revise: routing decision - (needs_revision=False iteration=0 max_iterations=2 force_continue=False _record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 61, "{'needs_revision': False, 'iteration': 0, 'max_iterations': 2, 'force_continue': False, 'event': 'should_revise: routing decision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.workflow] - info - should_revise: no revision needed, ending workflow - (_record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 89, "{'event': 'should_revise: no revision needed, ending workflow', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.workflow] - info - create_phase1_graph: building workflow graph - (_record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 107, "{'event': 'create_phase1_graph: building workflow graph', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.workflow] - info - create_phase1_graph: graph built successfully - (nodes=['extract', 'commit', 'validate', 'revise'] entry_point=extract _record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 160, "{'nodes': ['extract', 'commit', 'validate', 'revise'], 'entry_point': 'extract', 'event': 'create_phase1_graph: graph built successfully', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.workflow] - info - create_phase1_graph: compiling without checkpointing - (_record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 171, "{'event': 'create_phase1_graph: compiling without checkpointing', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=1 word_count=2 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 64, "{'chapter': 1, 'word_count': 2, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.nodes.extraction_node] - info - extract_entities: extraction complete - (characters=0 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 112, "{'characters': 0, 'world_items': 0, 'relationships': 0, 'event': 'extract_entities: extraction complete', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.nodes.commit_node] - info - commit_to_graph - (chapter=1 characters=0 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 74, "{'chapter': 1, 'characters': 0, 'world_items': 0, 'relationships': 0, 'event': 'commit_to_graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.nodes.commit_node] - error - commit_to_graph: failed to create chapter node - (error=object MagicMock can't be used in 'await' expression chapter=1 exc_info=True _record=<LogRecord: core.langgraph.nodes.commit_node, 40, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 516, "{'error': "object MagicMock can't be used in 'await' expression", 'chapter': 1, 'exc_info': True, 'event': 'commit_to_graph: failed to create chapter node', 'level': 'error', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: successfully committed to knowledge graph - (chapter=1 characters=0 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 146, "{'chapter': 1, 'characters': 0, 'world_items': 0, 'relationships': 0, 'event': 'commit_to_graph: successfully committed to knowledge graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.nodes.validation_node] - info - validate_consistency - (chapter=1 relationships=0 characters=0 _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 52, "{'chapter': 1, 'relationships': 0, 'characters': 0, 'event': 'validate_consistency', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.nodes.validation_node] - info - validate_consistency: validation complete - (total_issues=1 critical=0 major=1 minor=0 needs_revision=False _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 103, "{'total_issues': 1, 'critical': 0, 'major': 1, 'minor': 0, 'needs_revision': False, 'event': 'validate_consistency: validation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.workflow] - info - should_revise: routing decision - (needs_revision=False iteration=0 max_iterations=1 force_continue=False _record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 61, "{'needs_revision': False, 'iteration': 0, 'max_iterations': 1, 'force_continue': False, 'event': 'should_revise: routing decision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.workflow] - info - should_revise: no revision needed, ending workflow - (_record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 89, "{'event': 'should_revise: no revision needed, ending workflow', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.workflow] - info - create_phase1_graph: building workflow graph - (_record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 107, "{'event': 'create_phase1_graph: building workflow graph', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.workflow] - info - create_phase1_graph: graph built successfully - (nodes=['extract', 'commit', 'validate', 'revise'] entry_point=extract _record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 160, "{'nodes': ['extract', 'commit', 'validate', 'revise'], 'entry_point': 'extract', 'event': 'create_phase1_graph: graph built successfully', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.workflow] - info - create_phase1_graph: compiling without checkpointing - (_record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 171, "{'event': 'create_phase1_graph: compiling without checkpointing', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=1 word_count=2 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 64, "{'chapter': 1, 'word_count': 2, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.nodes.extraction_node] - info - extract_entities: extraction complete - (characters=0 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 112, "{'characters': 0, 'world_items': 0, 'relationships': 0, 'event': 'extract_entities: extraction complete', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.nodes.commit_node] - info - commit_to_graph - (chapter=1 characters=0 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 74, "{'chapter': 1, 'characters': 0, 'world_items': 0, 'relationships': 0, 'event': 'commit_to_graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.nodes.commit_node] - error - commit_to_graph: failed to create chapter node - (error=object MagicMock can't be used in 'await' expression chapter=1 exc_info=True _record=<LogRecord: core.langgraph.nodes.commit_node, 40, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 516, "{'error': "object MagicMock can't be used in 'await' expression", 'chapter': 1, 'exc_info': True, 'event': 'commit_to_graph: failed to create chapter node', 'level': 'error', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: successfully committed to knowledge graph - (chapter=1 characters=0 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 146, "{'chapter': 1, 'characters': 0, 'world_items': 0, 'relationships': 0, 'event': 'commit_to_graph: successfully committed to knowledge graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.nodes.validation_node] - info - validate_consistency - (chapter=1 relationships=0 characters=0 _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 52, "{'chapter': 1, 'relationships': 0, 'characters': 0, 'event': 'validate_consistency', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.nodes.validation_node] - info - validate_consistency: validation complete - (total_issues=1 critical=0 major=1 minor=0 needs_revision=False _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 103, "{'total_issues': 1, 'critical': 0, 'major': 1, 'minor': 0, 'needs_revision': False, 'event': 'validate_consistency: validation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.workflow] - info - should_revise: routing decision - (needs_revision=False iteration=0 max_iterations=3 force_continue=True _record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 61, "{'needs_revision': False, 'iteration': 0, 'max_iterations': 3, 'force_continue': True, 'event': 'should_revise: routing decision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.workflow] - info - should_revise: force_continue enabled, skipping revision - (_record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 71, "{'event': 'should_revise: force_continue enabled, skipping revision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.workflow] - info - should_revise: routing decision - (needs_revision=True iteration=0 max_iterations=3 force_continue=False _record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 61, "{'needs_revision': True, 'iteration': 0, 'max_iterations': 3, 'force_continue': False, 'event': 'should_revise: routing decision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.workflow] - info - should_revise: revision needed, routing to revise node - (_record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 85, "{'event': 'should_revise: revision needed, routing to revise node', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.workflow] - info - should_revise: routing decision - (needs_revision=True iteration=3 max_iterations=3 force_continue=False _record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 61, "{'needs_revision': True, 'iteration': 3, 'max_iterations': 3, 'force_continue': False, 'event': 'should_revise: routing decision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.workflow] - warning - should_revise: max iterations reached, ending workflow - (iteration_count=3 max_iterations=3 _record=<LogRecord: core.langgraph.workflow, 30, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 76, "{'iteration_count': 3, 'max_iterations': 3, 'event': 'should_revise: max iterations reached, ending workflow', 'level': 'warning', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.workflow] - info - should_revise: routing decision - (needs_revision=True iteration=0 max_iterations=3 force_continue=True _record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 61, "{'needs_revision': True, 'iteration': 0, 'max_iterations': 3, 'force_continue': True, 'event': 'should_revise: routing decision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.workflow] - info - should_revise: force_continue enabled, skipping revision - (_record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 71, "{'event': 'should_revise: force_continue enabled, skipping revision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.workflow] - info - should_revise: routing decision - (needs_revision=False iteration=0 max_iterations=3 force_continue=False _record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 61, "{'needs_revision': False, 'iteration': 0, 'max_iterations': 3, 'force_continue': False, 'event': 'should_revise: routing decision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.workflow] - info - should_revise: no revision needed, ending workflow - (_record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 89, "{'event': 'should_revise: no revision needed, ending workflow', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.workflow] - info - create_checkpointer: creating SQLite checkpointer - (db_path=/tmp/pytest-of-dlewis3/pytest-0/test_create_checkpointer0/test.db _record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 197, "{'db_path': '/tmp/pytest-of-dlewis3/pytest-0/test_create_checkpointer0/test.db', 'event': 'create_checkpointer: creating SQLite checkpointer', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.workflow] - info - create_checkpointer: creating SQLite checkpointer - (db_path=/tmp/pytest-of-dlewis3/pytest-0/test_graph_with_checkpointing0/checkpoint.db _record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 197, "{'db_path': '/tmp/pytest-of-dlewis3/pytest-0/test_graph_with_checkpointing0/checkpoint.db', 'event': 'create_checkpointer: creating SQLite checkpointer', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.workflow] - info - create_phase1_graph: building workflow graph - (_record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 107, "{'event': 'create_phase1_graph: building workflow graph', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.workflow] - info - create_phase1_graph: graph built successfully - (nodes=['extract', 'commit', 'validate', 'revise'] entry_point=extract _record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 160, "{'nodes': ['extract', 'commit', 'validate', 'revise'], 'entry_point': 'extract', 'event': 'create_phase1_graph: graph built successfully', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.workflow] - info - create_phase1_graph: compiling with checkpointing enabled - (_record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 168, "{'event': 'create_phase1_graph: compiling with checkpointing enabled', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.workflow] - info - create_phase1_graph: building workflow graph - (_record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 107, "{'event': 'create_phase1_graph: building workflow graph', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.workflow] - info - create_phase1_graph: graph built successfully - (nodes=['extract', 'commit', 'validate', 'revise'] entry_point=extract _record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 160, "{'nodes': ['extract', 'commit', 'validate', 'revise'], 'entry_point': 'extract', 'event': 'create_phase1_graph: graph built successfully', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 02:48:40 - [core.langgraph.workflow] - info - create_phase1_graph: compiling without checkpointing - (_record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 171, "{'event': 'create_phase1_graph: compiling without checkpointing', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 02:48:40'}"> _from_structlog=True)
11/07/2025, 06:19:34 - [core.http_client_service] - info - HTTPClientService initialized with timeout=600.0s, concurrency_limit=4 - (_record=<LogRecord: core.http_client_service, 20, /home/dlewis3/Desktop/AI/saga/core/http_client_service.py, 56, "{'event': 'HTTPClientService initialized with timeout=600.0s, concurrency_limit=4', 'level': 'info', 'logger': 'core.http_client_service', 'timestamp': '11/07/2025, 06:19:34'}"> _from_structlog=True)
11/07/2025, 06:19:34 - [core.text_processing_service] - info - TextProcessingService initialized with all sub-services - (_record=<LogRecord: core.text_processing_service, 20, /home/dlewis3/Desktop/AI/saga/core/text_processing_service.py, 462, "{'event': 'TextProcessingService initialized with all sub-services', 'level': 'info', 'logger': 'core.text_processing_service', 'timestamp': '11/07/2025, 06:19:34'}"> _from_structlog=True)
11/07/2025, 06:19:34 - [core.llm_interface_refactored] - info - RefactoredLLMService initialized with separated components - (_record=<LogRecord: core.llm_interface_refactored, 20, /home/dlewis3/Desktop/AI/saga/core/llm_interface_refactored.py, 561, "{'event': 'RefactoredLLMService initialized with separated components', 'level': 'info', 'logger': 'core.llm_interface_refactored', 'timestamp': '11/07/2025, 06:19:34'}"> _from_structlog=True)
11/07/2025, 06:19:34 - [core.db_manager] - info - Neo4jManagerSingleton initialized. Call connect() to establish connection. - (_record=<LogRecord: core.db_manager, 20, /home/dlewis3/Desktop/AI/saga/core/db_manager.py, 44, "{'event': 'Neo4jManagerSingleton initialized. Call connect() to establish connection.', 'level': 'info', 'logger': 'core.db_manager', 'timestamp': '11/07/2025, 06:19:34'}"> _from_structlog=True)
11/07/2025, 06:19:35 - [core.db_manager] - critical - Neo4j service unavailable - (uri=bolt://localhost:7687 error=Couldn't connect to localhost:7687 (resolved to ('127.0.0.1:7687',)):
Failed to establish connection to ResolvedIPv4Address(('127.0.0.1', 7687)) (reason [Errno 111] Connection refused) _record=<LogRecord: core.db_manager, 50, /home/dlewis3/Desktop/AI/saga/core/db_manager.py, 64, "{'uri': 'bolt://localhost:7687', 'error': "Couldn't connect to localhost:7687 (resolved to ('127.0.0.1:7687',)):\nFailed to establish connection to ResolvedIPv4Address(('127.0.0.1', 7687)) (reason [Errno 111] Connection refused)", 'event': 'Neo4j service unavailable', 'level': 'critical', 'logger': 'core.db_manager', 'timestamp': '11/07/2025, 06:19:35'}"> _from_structlog=True)
11/07/2025, 06:20:00 - [core.http_client_service] - info - HTTPClientService initialized with timeout=600.0s, concurrency_limit=4 - (_record=<LogRecord: core.http_client_service, 20, /home/dlewis3/Desktop/AI/saga/core/http_client_service.py, 56, "{'event': 'HTTPClientService initialized with timeout=600.0s, concurrency_limit=4', 'level': 'info', 'logger': 'core.http_client_service', 'timestamp': '11/07/2025, 06:20:00'}"> _from_structlog=True)
11/07/2025, 06:20:00 - [core.text_processing_service] - info - TextProcessingService initialized with all sub-services - (_record=<LogRecord: core.text_processing_service, 20, /home/dlewis3/Desktop/AI/saga/core/text_processing_service.py, 462, "{'event': 'TextProcessingService initialized with all sub-services', 'level': 'info', 'logger': 'core.text_processing_service', 'timestamp': '11/07/2025, 06:20:00'}"> _from_structlog=True)
11/07/2025, 06:20:00 - [core.llm_interface_refactored] - info - RefactoredLLMService initialized with separated components - (_record=<LogRecord: core.llm_interface_refactored, 20, /home/dlewis3/Desktop/AI/saga/core/llm_interface_refactored.py, 561, "{'event': 'RefactoredLLMService initialized with separated components', 'level': 'info', 'logger': 'core.llm_interface_refactored', 'timestamp': '11/07/2025, 06:20:00'}"> _from_structlog=True)
11/07/2025, 06:20:00 - [core.db_manager] - info - Neo4jManagerSingleton initialized. Call connect() to establish connection. - (_record=<LogRecord: core.db_manager, 20, /home/dlewis3/Desktop/AI/saga/core/db_manager.py, 44, "{'event': 'Neo4jManagerSingleton initialized. Call connect() to establish connection.', 'level': 'info', 'logger': 'core.db_manager', 'timestamp': '11/07/2025, 06:20:00'}"> _from_structlog=True)
11/07/2025, 06:20:00 - [core.db_manager] - critical - Neo4j service unavailable - (uri=bolt://localhost:7687 error=Couldn't connect to localhost:7687 (resolved to ('127.0.0.1:7687',)):
Failed to read four byte Bolt handshake response from server ResolvedIPv4Address(('127.0.0.1', 7687)) (deadline Deadline(timeout=60.0)) _record=<LogRecord: core.db_manager, 50, /home/dlewis3/Desktop/AI/saga/core/db_manager.py, 64, "{'uri': 'bolt://localhost:7687', 'error': "Couldn't connect to localhost:7687 (resolved to ('127.0.0.1:7687',)):\nFailed to read four byte Bolt handshake response from server ResolvedIPv4Address(('127.0.0.1', 7687)) (deadline Deadline(timeout=60.0))", 'event': 'Neo4j service unavailable', 'level': 'critical', 'logger': 'core.db_manager', 'timestamp': '11/07/2025, 06:20:00'}"> _from_structlog=True)
11/07/2025, 06:20:20 - [core.http_client_service] - info - HTTPClientService initialized with timeout=600.0s, concurrency_limit=4 - (_record=<LogRecord: core.http_client_service, 20, /home/dlewis3/Desktop/AI/saga/core/http_client_service.py, 56, "{'event': 'HTTPClientService initialized with timeout=600.0s, concurrency_limit=4', 'level': 'info', 'logger': 'core.http_client_service', 'timestamp': '11/07/2025, 06:20:20'}"> _from_structlog=True)
11/07/2025, 06:20:20 - [core.text_processing_service] - info - TextProcessingService initialized with all sub-services - (_record=<LogRecord: core.text_processing_service, 20, /home/dlewis3/Desktop/AI/saga/core/text_processing_service.py, 462, "{'event': 'TextProcessingService initialized with all sub-services', 'level': 'info', 'logger': 'core.text_processing_service', 'timestamp': '11/07/2025, 06:20:20'}"> _from_structlog=True)
11/07/2025, 06:20:20 - [core.llm_interface_refactored] - info - RefactoredLLMService initialized with separated components - (_record=<LogRecord: core.llm_interface_refactored, 20, /home/dlewis3/Desktop/AI/saga/core/llm_interface_refactored.py, 561, "{'event': 'RefactoredLLMService initialized with separated components', 'level': 'info', 'logger': 'core.llm_interface_refactored', 'timestamp': '11/07/2025, 06:20:20'}"> _from_structlog=True)
11/07/2025, 06:20:20 - [core.db_manager] - info - Neo4jManagerSingleton initialized. Call connect() to establish connection. - (_record=<LogRecord: core.db_manager, 20, /home/dlewis3/Desktop/AI/saga/core/db_manager.py, 44, "{'event': 'Neo4jManagerSingleton initialized. Call connect() to establish connection.', 'level': 'info', 'logger': 'core.db_manager', 'timestamp': '11/07/2025, 06:20:20'}"> _from_structlog=True)
11/07/2025, 06:20:20 - [core.db_manager] - info - Successfully connected to Neo4j at bolt://localhost:7687 - (_record=<LogRecord: core.db_manager, 20, /home/dlewis3/Desktop/AI/saga/core/db_manager.py, 62, "{'event': 'Successfully connected to Neo4j at bolt://localhost:7687', 'level': 'info', 'logger': 'core.db_manager', 'timestamp': '11/07/2025, 06:20:20'}"> _from_structlog=True)
11/07/2025, 06:20:20 - [core.langgraph.workflow] - info - create_phase2_graph: building complete workflow graph - (_record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 281, "{'event': 'create_phase2_graph: building complete workflow graph', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:20:20'}"> _from_structlog=True)
11/07/2025, 06:20:20 - [core.langgraph.workflow] - info - create_phase2_graph: graph built successfully - (nodes=['generate', 'extract', 'commit', 'validate', 'revise', 'summarize', 'finalize'] entry_point=generate _record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 321, "{'nodes': ['generate', 'extract', 'commit', 'validate', 'revise', 'summarize', 'finalize'], 'entry_point': 'generate', 'event': 'create_phase2_graph: graph built successfully', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:20:20'}"> _from_structlog=True)
11/07/2025, 06:20:20 - [core.langgraph.workflow] - info - create_phase2_graph: compiling without checkpointing - (_record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 340, "{'event': 'create_phase2_graph: compiling without checkpointing', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:20:20'}"> _from_structlog=True)
11/07/2025, 06:20:20 - [core.langgraph.nodes.generation_node] - info - generate_chapter: starting generation - (chapter=1 model=qwen3-a3b _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/generation_node.py, 53, "{'chapter': 1, 'model': 'qwen3-a3b', 'event': 'generate_chapter: starting generation', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:20:20'}"> _from_structlog=True)
2025-11-07 06:20:21 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownRelationshipTypeWarning} {category: UNRECOGNIZED} {title: The provided relationship type is not in the database.} {description: One of the relationship types in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing relationship type is: OCCURRED_IN)} {position: line: 2, column: 23, offset: 23} for query: '\n    MATCH (e:Event)-[:OCCURRED_IN]->(ch:Chapter)\n    WHERE ch.number >= $start_chapter AND ch.number < $current_chapter\n    RETURN e.description AS description,\n           coalesce(e.importance, 0.5) AS importance,\n           ch.number AS chapter\n    ORDER BY importance DESC, ch.number DESC\n    LIMIT $max_events\n    '
2025-11-07 06:20:21 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: description)} {position: line: 4, column: 14, offset: 134} for query: '\n    MATCH (e:Event)-[:OCCURRED_IN]->(ch:Chapter)\n    WHERE ch.number >= $start_chapter AND ch.number < $current_chapter\n    RETURN e.description AS description,\n           coalesce(e.importance, 0.5) AS importance,\n           ch.number AS chapter\n    ORDER BY importance DESC, ch.number DESC\n    LIMIT $max_events\n    '
2025-11-07 06:20:21 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: importance)} {position: line: 5, column: 23, offset: 184} for query: '\n    MATCH (e:Event)-[:OCCURRED_IN]->(ch:Chapter)\n    WHERE ch.number >= $start_chapter AND ch.number < $current_chapter\n    RETURN e.description AS description,\n           coalesce(e.importance, 0.5) AS importance,\n           ch.number AS chapter\n    ORDER BY importance DESC, ch.number DESC\n    LIMIT $max_events\n    '
2025-11-07 06:20:21 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownLabelWarning} {category: UNRECOGNIZED} {title: The provided label is not in the database.} {description: One of the labels in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing label name is: Event)} {position: line: 2, column: 14, offset: 14} for query: '\n    MATCH (e:Event)-[:OCCURRED_IN]->(ch:Chapter)\n    WHERE ch.number >= $start_chapter AND ch.number < $current_chapter\n    RETURN e.description AS description,\n           coalesce(e.importance, 0.5) AS importance,\n           ch.number AS chapter\n    ORDER BY importance DESC, ch.number DESC\n    LIMIT $max_events\n    '
2025-11-07 06:20:21 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: number)} {position: line: 3, column: 46, offset: 95} for query: '\n    MATCH (e:Event)-[:OCCURRED_IN]->(ch:Chapter)\n    WHERE ch.number >= $start_chapter AND ch.number < $current_chapter\n    RETURN e.description AS description,\n           coalesce(e.importance, 0.5) AS importance,\n           ch.number AS chapter\n    ORDER BY importance DESC, ch.number DESC\n    LIMIT $max_events\n    '
2025-11-07 06:20:21 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: number)} {position: line: 3, column: 14, offset: 63} for query: '\n    MATCH (e:Event)-[:OCCURRED_IN]->(ch:Chapter)\n    WHERE ch.number >= $start_chapter AND ch.number < $current_chapter\n    RETURN e.description AS description,\n           coalesce(e.importance, 0.5) AS importance,\n           ch.number AS chapter\n    ORDER BY importance DESC, ch.number DESC\n    LIMIT $max_events\n    '
2025-11-07 06:20:21 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: number)} {position: line: 6, column: 15, offset: 230} for query: '\n    MATCH (e:Event)-[:OCCURRED_IN]->(ch:Chapter)\n    WHERE ch.number >= $start_chapter AND ch.number < $current_chapter\n    RETURN e.description AS description,\n           coalesce(e.importance, 0.5) AS importance,\n           ch.number AS chapter\n    ORDER BY importance DESC, ch.number DESC\n    LIMIT $max_events\n    '
2025-11-07 06:20:21 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownLabelWarning} {category: UNRECOGNIZED} {title: The provided label is not in the database.} {description: One of the labels in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing label name is: Chapter)} {position: line: 2, column: 41, offset: 41} for query: '\n    MATCH (e:Event)-[:OCCURRED_IN]->(ch:Chapter)\n    WHERE ch.number >= $start_chapter AND ch.number < $current_chapter\n    RETURN e.description AS description,\n           coalesce(e.importance, 0.5) AS importance,\n           ch.number AS chapter\n    ORDER BY importance DESC, ch.number DESC\n    LIMIT $max_events\n    '
2025-11-07 06:20:21 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: id)} {position: line: 1, column: 29, offset: 28} for query: 'MATCH (ni:NovelInfo:Entity {id: $novel_id_param}) RETURN ni.central_conflict AS value'
2025-11-07 06:20:21 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownLabelWarning} {category: UNRECOGNIZED} {title: The provided label is not in the database.} {description: One of the labels in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing label name is: NovelInfo)} {position: line: 1, column: 11, offset: 10} for query: 'MATCH (ni:NovelInfo:Entity {id: $novel_id_param}) RETURN ni.central_conflict AS value'
2025-11-07 06:20:21 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: id)} {position: line: 1, column: 29, offset: 28} for query: 'MATCH (ni:NovelInfo:Entity {id: $novel_id_param}) RETURN ni.theme AS value'
2025-11-07 06:20:21 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownLabelWarning} {category: UNRECOGNIZED} {title: The provided label is not in the database.} {description: One of the labels in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing label name is: Entity)} {position: line: 1, column: 21, offset: 20} for query: 'MATCH (ni:NovelInfo:Entity {id: $novel_id_param}) RETURN ni.central_conflict AS value'
2025-11-07 06:20:21 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownLabelWarning} {category: UNRECOGNIZED} {title: The provided label is not in the database.} {description: One of the labels in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing label name is: NovelInfo)} {position: line: 1, column: 11, offset: 10} for query: 'MATCH (ni:NovelInfo:Entity {id: $novel_id_param}) RETURN ni.theme AS value'
2025-11-07 06:20:21 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: central_conflict)} {position: line: 1, column: 61, offset: 60} for query: 'MATCH (ni:NovelInfo:Entity {id: $novel_id_param}) RETURN ni.central_conflict AS value'
2025-11-07 06:20:21 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownLabelWarning} {category: UNRECOGNIZED} {title: The provided label is not in the database.} {description: One of the labels in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing label name is: Entity)} {position: line: 1, column: 21, offset: 20} for query: 'MATCH (ni:NovelInfo:Entity {id: $novel_id_param}) RETURN ni.theme AS value'
2025-11-07 06:20:21 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: theme)} {position: line: 1, column: 61, offset: 60} for query: 'MATCH (ni:NovelInfo:Entity {id: $novel_id_param}) RETURN ni.theme AS value'
2025-11-07 06:20:22 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: confidence)} {position: line: 7, column: 23, offset: 418} for query: "MATCH (s:Entity)-[r]->(o)  WHERE s.name = $subject_param AND coalesce(r.chapter_added, -1) <= $chapter_limit_param\n    RETURN s.name AS subject,\n           type(r) AS predicate,\n           CASE WHEN o:ValueNode THEN o.value ELSE o.name END AS object,\n           CASE WHEN o:ValueNode THEN 'Literal' ELSE labels(o)[0] END AS object_type,\n           coalesce(r.chapter_added, -1) AS chapter_added,\n           coalesce(r.confidence, 0.0) AS confidence,\n           coalesce(r.is_provisional, FALSE) AS is_provisional\n     ORDER BY coalesce(r.chapter_added, -1) DESC, coalesce(r.confidence, 0.0) DESC"
2025-11-07 06:20:22 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: name)} {position: line: 4, column: 54, offset: 231} for query: "MATCH (s:Entity)-[r]->(o)  WHERE s.name = $subject_param AND coalesce(r.chapter_added, -1) <= $chapter_limit_param\n    RETURN s.name AS subject,\n           type(r) AS predicate,\n           CASE WHEN o:ValueNode THEN o.value ELSE o.name END AS object,\n           CASE WHEN o:ValueNode THEN 'Literal' ELSE labels(o)[0] END AS object_type,\n           coalesce(r.chapter_added, -1) AS chapter_added,\n           coalesce(r.confidence, 0.0) AS confidence,\n           coalesce(r.is_provisional, FALSE) AS is_provisional\n     ORDER BY coalesce(r.chapter_added, -1) DESC, coalesce(r.confidence, 0.0) DESC"
2025-11-07 06:20:22 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownLabelWarning} {category: UNRECOGNIZED} {title: The provided label is not in the database.} {description: One of the labels in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing label name is: Entity)} {position: line: 1, column: 10, offset: 9} for query: "MATCH (s:Entity)-[r]->(o)  WHERE s.name = $subject_param AND coalesce(r.chapter_added, -1) <= $chapter_limit_param\n    RETURN s.name AS subject,\n           type(r) AS predicate,\n           CASE WHEN o:ValueNode THEN o.value ELSE o.name END AS object,\n           CASE WHEN o:ValueNode THEN 'Literal' ELSE labels(o)[0] END AS object_type,\n           coalesce(r.chapter_added, -1) AS chapter_added,\n           coalesce(r.confidence, 0.0) AS confidence,\n           coalesce(r.is_provisional, FALSE) AS is_provisional\n     ORDER BY coalesce(r.chapter_added, -1) DESC, coalesce(r.confidence, 0.0) DESC"
2025-11-07 06:20:22 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: name)} {position: line: 2, column: 14, offset: 128} for query: "MATCH (s:Entity)-[r]->(o)  WHERE s.name = $subject_param AND coalesce(r.chapter_added, -1) <= $chapter_limit_param\n    RETURN s.name AS subject,\n           type(r) AS predicate,\n           CASE WHEN o:ValueNode THEN o.value ELSE o.name END AS object,\n           CASE WHEN o:ValueNode THEN 'Literal' ELSE labels(o)[0] END AS object_type,\n           coalesce(r.chapter_added, -1) AS chapter_added,\n           coalesce(r.confidence, 0.0) AS confidence,\n           coalesce(r.is_provisional, FALSE) AS is_provisional\n     ORDER BY coalesce(r.chapter_added, -1) DESC, coalesce(r.confidence, 0.0) DESC"
2025-11-07 06:20:22 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: value)} {position: line: 4, column: 41, offset: 218} for query: "MATCH (s:Entity)-[r]->(o)  WHERE s.name = $subject_param AND coalesce(r.chapter_added, -1) <= $chapter_limit_param\n    RETURN s.name AS subject,\n           type(r) AS predicate,\n           CASE WHEN o:ValueNode THEN o.value ELSE o.name END AS object,\n           CASE WHEN o:ValueNode THEN 'Literal' ELSE labels(o)[0] END AS object_type,\n           coalesce(r.chapter_added, -1) AS chapter_added,\n           coalesce(r.confidence, 0.0) AS confidence,\n           coalesce(r.is_provisional, FALSE) AS is_provisional\n     ORDER BY coalesce(r.chapter_added, -1) DESC, coalesce(r.confidence, 0.0) DESC"
2025-11-07 06:20:22 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: name)} {position: line: 1, column: 36, offset: 35} for query: "MATCH (s:Entity)-[r]->(o)  WHERE s.name = $subject_param AND coalesce(r.chapter_added, -1) <= $chapter_limit_param\n    RETURN s.name AS subject,\n           type(r) AS predicate,\n           CASE WHEN o:ValueNode THEN o.value ELSE o.name END AS object,\n           CASE WHEN o:ValueNode THEN 'Literal' ELSE labels(o)[0] END AS object_type,\n           coalesce(r.chapter_added, -1) AS chapter_added,\n           coalesce(r.confidence, 0.0) AS confidence,\n           coalesce(r.is_provisional, FALSE) AS is_provisional\n     ORDER BY coalesce(r.chapter_added, -1) DESC, coalesce(r.confidence, 0.0) DESC"
2025-11-07 06:20:22 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: chapter_added)} {position: line: 1, column: 73, offset: 72} for query: "MATCH (s:Entity)-[r]->(o)  WHERE s.name = $subject_param AND coalesce(r.chapter_added, -1) <= $chapter_limit_param\n    RETURN s.name AS subject,\n           type(r) AS predicate,\n           CASE WHEN o:ValueNode THEN o.value ELSE o.name END AS object,\n           CASE WHEN o:ValueNode THEN 'Literal' ELSE labels(o)[0] END AS object_type,\n           coalesce(r.chapter_added, -1) AS chapter_added,\n           coalesce(r.confidence, 0.0) AS confidence,\n           coalesce(r.is_provisional, FALSE) AS is_provisional\n     ORDER BY coalesce(r.chapter_added, -1) DESC, coalesce(r.confidence, 0.0) DESC"
2025-11-07 06:20:22 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: chapter_added)} {position: line: 6, column: 23, offset: 359} for query: "MATCH (s:Entity)-[r]->(o)  WHERE s.name = $subject_param AND coalesce(r.chapter_added, -1) <= $chapter_limit_param\n    RETURN s.name AS subject,\n           type(r) AS predicate,\n           CASE WHEN o:ValueNode THEN o.value ELSE o.name END AS object,\n           CASE WHEN o:ValueNode THEN 'Literal' ELSE labels(o)[0] END AS object_type,\n           coalesce(r.chapter_added, -1) AS chapter_added,\n           coalesce(r.confidence, 0.0) AS confidence,\n           coalesce(r.is_provisional, FALSE) AS is_provisional\n     ORDER BY coalesce(r.chapter_added, -1) DESC, coalesce(r.confidence, 0.0) DESC"
2025-11-07 06:20:22 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: is_provisional)} {position: line: 8, column: 23, offset: 472} for query: "MATCH (s:Entity)-[r]->(o)  WHERE s.name = $subject_param AND coalesce(r.chapter_added, -1) <= $chapter_limit_param\n    RETURN s.name AS subject,\n           type(r) AS predicate,\n           CASE WHEN o:ValueNode THEN o.value ELSE o.name END AS object,\n           CASE WHEN o:ValueNode THEN 'Literal' ELSE labels(o)[0] END AS object_type,\n           coalesce(r.chapter_added, -1) AS chapter_added,\n           coalesce(r.confidence, 0.0) AS confidence,\n           coalesce(r.is_provisional, FALSE) AS is_provisional\n     ORDER BY coalesce(r.chapter_added, -1) DESC, coalesce(r.confidence, 0.0) DESC"
2025-11-07 06:20:22 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownLabelWarning} {category: UNRECOGNIZED} {title: The provided label is not in the database.} {description: One of the labels in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing label name is: ValueNode)} {position: line: 5, column: 24, offset: 274} for query: "MATCH (s:Entity)-[r]->(o)  WHERE s.name = $subject_param AND coalesce(r.chapter_added, -1) <= $chapter_limit_param\n    RETURN s.name AS subject,\n           type(r) AS predicate,\n           CASE WHEN o:ValueNode THEN o.value ELSE o.name END AS object,\n           CASE WHEN o:ValueNode THEN 'Literal' ELSE labels(o)[0] END AS object_type,\n           coalesce(r.chapter_added, -1) AS chapter_added,\n           coalesce(r.confidence, 0.0) AS confidence,\n           coalesce(r.is_provisional, FALSE) AS is_provisional\n     ORDER BY coalesce(r.chapter_added, -1) DESC, coalesce(r.confidence, 0.0) DESC"
2025-11-07 06:20:22 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownLabelWarning} {category: UNRECOGNIZED} {title: The provided label is not in the database.} {description: One of the labels in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing label name is: ValueNode)} {position: line: 4, column: 24, offset: 201} for query: "MATCH (s:Entity)-[r]->(o)  WHERE s.name = $subject_param AND coalesce(r.chapter_added, -1) <= $chapter_limit_param\n    RETURN s.name AS subject,\n           type(r) AS predicate,\n           CASE WHEN o:ValueNode THEN o.value ELSE o.name END AS object,\n           CASE WHEN o:ValueNode THEN 'Literal' ELSE labels(o)[0] END AS object_type,\n           coalesce(r.chapter_added, -1) AS chapter_added,\n           coalesce(r.confidence, 0.0) AS confidence,\n           coalesce(r.is_provisional, FALSE) AS is_provisional\n     ORDER BY coalesce(r.chapter_added, -1) DESC, coalesce(r.confidence, 0.0) DESC"
2025-11-07 06:20:22 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: confidence)} {position: line: 5, column: 23, offset: 351} for query: 'MATCH (s:Entity)-[r:`STATUS_IS`]->(o)  WHERE s.name = $subject_param AND coalesce(r.chapter_added, -1) <= $chapter_limit_param AND (r.is_provisional = FALSE OR r.is_provisional IS NULL)\n    RETURN\n           CASE WHEN o:ValueNode THEN o.value ELSE o.name END AS object,\n           coalesce(r.chapter_added, -1) AS chapter_added,\n           coalesce(r.confidence, 0.0) AS confidence,\n           coalesce(r.is_provisional, FALSE) AS is_provisional\n     ORDER BY coalesce(r.chapter_added, -1) DESC, coalesce(r.confidence, 0.0) DESC LIMIT 1'
2025-11-07 06:20:22 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: name)} {position: line: 1, column: 48, offset: 47} for query: 'MATCH (s:Entity)-[r:`STATUS_IS`]->(o)  WHERE s.name = $subject_param AND coalesce(r.chapter_added, -1) <= $chapter_limit_param AND (r.is_provisional = FALSE OR r.is_provisional IS NULL)\n    RETURN\n           CASE WHEN o:ValueNode THEN o.value ELSE o.name END AS object,\n           coalesce(r.chapter_added, -1) AS chapter_added,\n           coalesce(r.confidence, 0.0) AS confidence,\n           coalesce(r.is_provisional, FALSE) AS is_provisional\n     ORDER BY coalesce(r.chapter_added, -1) DESC, coalesce(r.confidence, 0.0) DESC LIMIT 1'
2025-11-07 06:20:22 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: is_provisional)} {position: line: 1, column: 135, offset: 134} for query: 'MATCH (s:Entity)-[r:`STATUS_IS`]->(o)  WHERE s.name = $subject_param AND coalesce(r.chapter_added, -1) <= $chapter_limit_param AND (r.is_provisional = FALSE OR r.is_provisional IS NULL)\n    RETURN\n           CASE WHEN o:ValueNode THEN o.value ELSE o.name END AS object,\n           coalesce(r.chapter_added, -1) AS chapter_added,\n           coalesce(r.confidence, 0.0) AS confidence,\n           coalesce(r.is_provisional, FALSE) AS is_provisional\n     ORDER BY coalesce(r.chapter_added, -1) DESC, coalesce(r.confidence, 0.0) DESC LIMIT 1'
2025-11-07 06:20:22 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownLabelWarning} {category: UNRECOGNIZED} {title: The provided label is not in the database.} {description: One of the labels in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing label name is: Entity)} {position: line: 1, column: 10, offset: 9} for query: 'MATCH (s:Entity)-[r:`STATUS_IS`]->(o)  WHERE s.name = $subject_param AND coalesce(r.chapter_added, -1) <= $chapter_limit_param AND (r.is_provisional = FALSE OR r.is_provisional IS NULL)\n    RETURN\n           CASE WHEN o:ValueNode THEN o.value ELSE o.name END AS object,\n           coalesce(r.chapter_added, -1) AS chapter_added,\n           coalesce(r.confidence, 0.0) AS confidence,\n           coalesce(r.is_provisional, FALSE) AS is_provisional\n     ORDER BY coalesce(r.chapter_added, -1) DESC, coalesce(r.confidence, 0.0) DESC LIMIT 1'
2025-11-07 06:20:22 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: is_provisional)} {position: line: 6, column: 23, offset: 406} for query: 'MATCH (s:Entity)-[r:`LOCATED_IN`]->(o)  WHERE s.name = $subject_param AND coalesce(r.chapter_added, -1) <= $chapter_limit_param AND (r.is_provisional = FALSE OR r.is_provisional IS NULL)\n    RETURN\n           CASE WHEN o:ValueNode THEN o.value ELSE o.name END AS object,\n           coalesce(r.chapter_added, -1) AS chapter_added,\n           coalesce(r.confidence, 0.0) AS confidence,\n           coalesce(r.is_provisional, FALSE) AS is_provisional\n     ORDER BY coalesce(r.chapter_added, -1) DESC, coalesce(r.confidence, 0.0) DESC LIMIT 1'
2025-11-07 06:20:22 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: name)} {position: line: 3, column: 54, offset: 250} for query: 'MATCH (s:Entity)-[r:`STATUS_IS`]->(o)  WHERE s.name = $subject_param AND coalesce(r.chapter_added, -1) <= $chapter_limit_param AND (r.is_provisional = FALSE OR r.is_provisional IS NULL)\n    RETURN\n           CASE WHEN o:ValueNode THEN o.value ELSE o.name END AS object,\n           coalesce(r.chapter_added, -1) AS chapter_added,\n           coalesce(r.confidence, 0.0) AS confidence,\n           coalesce(r.is_provisional, FALSE) AS is_provisional\n     ORDER BY coalesce(r.chapter_added, -1) DESC, coalesce(r.confidence, 0.0) DESC LIMIT 1'
2025-11-07 06:20:22 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: chapter_added)} {position: line: 1, column: 86, offset: 85} for query: 'MATCH (s:Entity)-[r:`LOCATED_IN`]->(o)  WHERE s.name = $subject_param AND coalesce(r.chapter_added, -1) <= $chapter_limit_param AND (r.is_provisional = FALSE OR r.is_provisional IS NULL)\n    RETURN\n           CASE WHEN o:ValueNode THEN o.value ELSE o.name END AS object,\n           coalesce(r.chapter_added, -1) AS chapter_added,\n           coalesce(r.confidence, 0.0) AS confidence,\n           coalesce(r.is_provisional, FALSE) AS is_provisional\n     ORDER BY coalesce(r.chapter_added, -1) DESC, coalesce(r.confidence, 0.0) DESC LIMIT 1'
2025-11-07 06:20:22 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: chapter_added)} {position: line: 1, column: 85, offset: 84} for query: 'MATCH (s:Entity)-[r:`STATUS_IS`]->(o)  WHERE s.name = $subject_param AND coalesce(r.chapter_added, -1) <= $chapter_limit_param AND (r.is_provisional = FALSE OR r.is_provisional IS NULL)\n    RETURN\n           CASE WHEN o:ValueNode THEN o.value ELSE o.name END AS object,\n           coalesce(r.chapter_added, -1) AS chapter_added,\n           coalesce(r.confidence, 0.0) AS confidence,\n           coalesce(r.is_provisional, FALSE) AS is_provisional\n     ORDER BY coalesce(r.chapter_added, -1) DESC, coalesce(r.confidence, 0.0) DESC LIMIT 1'
2025-11-07 06:20:22 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: value)} {position: line: 3, column: 41, offset: 238} for query: 'MATCH (s:Entity)-[r:`LOCATED_IN`]->(o)  WHERE s.name = $subject_param AND coalesce(r.chapter_added, -1) <= $chapter_limit_param AND (r.is_provisional = FALSE OR r.is_provisional IS NULL)\n    RETURN\n           CASE WHEN o:ValueNode THEN o.value ELSE o.name END AS object,\n           coalesce(r.chapter_added, -1) AS chapter_added,\n           coalesce(r.confidence, 0.0) AS confidence,\n           coalesce(r.is_provisional, FALSE) AS is_provisional\n     ORDER BY coalesce(r.chapter_added, -1) DESC, coalesce(r.confidence, 0.0) DESC LIMIT 1'
2025-11-07 06:20:22 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownLabelWarning} {category: UNRECOGNIZED} {title: The provided label is not in the database.} {description: One of the labels in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing label name is: ValueNode)} {position: line: 3, column: 24, offset: 220} for query: 'MATCH (s:Entity)-[r:`STATUS_IS`]->(o)  WHERE s.name = $subject_param AND coalesce(r.chapter_added, -1) <= $chapter_limit_param AND (r.is_provisional = FALSE OR r.is_provisional IS NULL)\n    RETURN\n           CASE WHEN o:ValueNode THEN o.value ELSE o.name END AS object,\n           coalesce(r.chapter_added, -1) AS chapter_added,\n           coalesce(r.confidence, 0.0) AS confidence,\n           coalesce(r.is_provisional, FALSE) AS is_provisional\n     ORDER BY coalesce(r.chapter_added, -1) DESC, coalesce(r.confidence, 0.0) DESC LIMIT 1'
2025-11-07 06:20:22 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownRelationshipTypeWarning} {category: UNRECOGNIZED} {title: The provided relationship type is not in the database.} {description: One of the relationship types in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing relationship type is: LOCATED_IN)} {position: line: 1, column: 21, offset: 20} for query: 'MATCH (s:Entity)-[r:`LOCATED_IN`]->(o)  WHERE s.name = $subject_param AND coalesce(r.chapter_added, -1) <= $chapter_limit_param AND (r.is_provisional = FALSE OR r.is_provisional IS NULL)\n    RETURN\n           CASE WHEN o:ValueNode THEN o.value ELSE o.name END AS object,\n           coalesce(r.chapter_added, -1) AS chapter_added,\n           coalesce(r.confidence, 0.0) AS confidence,\n           coalesce(r.is_provisional, FALSE) AS is_provisional\n     ORDER BY coalesce(r.chapter_added, -1) DESC, coalesce(r.confidence, 0.0) DESC LIMIT 1'
2025-11-07 06:20:22 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: chapter_added)} {position: line: 4, column: 23, offset: 292} for query: 'MATCH (s:Entity)-[r:`STATUS_IS`]->(o)  WHERE s.name = $subject_param AND coalesce(r.chapter_added, -1) <= $chapter_limit_param AND (r.is_provisional = FALSE OR r.is_provisional IS NULL)\n    RETURN\n           CASE WHEN o:ValueNode THEN o.value ELSE o.name END AS object,\n           coalesce(r.chapter_added, -1) AS chapter_added,\n           coalesce(r.confidence, 0.0) AS confidence,\n           coalesce(r.is_provisional, FALSE) AS is_provisional\n     ORDER BY coalesce(r.chapter_added, -1) DESC, coalesce(r.confidence, 0.0) DESC LIMIT 1'
2025-11-07 06:20:22 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: confidence)} {position: line: 5, column: 23, offset: 352} for query: 'MATCH (s:Entity)-[r:`LOCATED_IN`]->(o)  WHERE s.name = $subject_param AND coalesce(r.chapter_added, -1) <= $chapter_limit_param AND (r.is_provisional = FALSE OR r.is_provisional IS NULL)\n    RETURN\n           CASE WHEN o:ValueNode THEN o.value ELSE o.name END AS object,\n           coalesce(r.chapter_added, -1) AS chapter_added,\n           coalesce(r.confidence, 0.0) AS confidence,\n           coalesce(r.is_provisional, FALSE) AS is_provisional\n     ORDER BY coalesce(r.chapter_added, -1) DESC, coalesce(r.confidence, 0.0) DESC LIMIT 1'
2025-11-07 06:20:22 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: is_provisional)} {position: line: 1, column: 163, offset: 162} for query: 'MATCH (s:Entity)-[r:`STATUS_IS`]->(o)  WHERE s.name = $subject_param AND coalesce(r.chapter_added, -1) <= $chapter_limit_param AND (r.is_provisional = FALSE OR r.is_provisional IS NULL)\n    RETURN\n           CASE WHEN o:ValueNode THEN o.value ELSE o.name END AS object,\n           coalesce(r.chapter_added, -1) AS chapter_added,\n           coalesce(r.confidence, 0.0) AS confidence,\n           coalesce(r.is_provisional, FALSE) AS is_provisional\n     ORDER BY coalesce(r.chapter_added, -1) DESC, coalesce(r.confidence, 0.0) DESC LIMIT 1'
2025-11-07 06:20:22 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownLabelWarning} {category: UNRECOGNIZED} {title: The provided label is not in the database.} {description: One of the labels in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing label name is: Entity)} {position: line: 1, column: 10, offset: 9} for query: 'MATCH (s:Entity)-[r:`LOCATED_IN`]->(o)  WHERE s.name = $subject_param AND coalesce(r.chapter_added, -1) <= $chapter_limit_param AND (r.is_provisional = FALSE OR r.is_provisional IS NULL)\n    RETURN\n           CASE WHEN o:ValueNode THEN o.value ELSE o.name END AS object,\n           coalesce(r.chapter_added, -1) AS chapter_added,\n           coalesce(r.confidence, 0.0) AS confidence,\n           coalesce(r.is_provisional, FALSE) AS is_provisional\n     ORDER BY coalesce(r.chapter_added, -1) DESC, coalesce(r.confidence, 0.0) DESC LIMIT 1'
2025-11-07 06:20:22 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: value)} {position: line: 3, column: 41, offset: 237} for query: 'MATCH (s:Entity)-[r:`STATUS_IS`]->(o)  WHERE s.name = $subject_param AND coalesce(r.chapter_added, -1) <= $chapter_limit_param AND (r.is_provisional = FALSE OR r.is_provisional IS NULL)\n    RETURN\n           CASE WHEN o:ValueNode THEN o.value ELSE o.name END AS object,\n           coalesce(r.chapter_added, -1) AS chapter_added,\n           coalesce(r.confidence, 0.0) AS confidence,\n           coalesce(r.is_provisional, FALSE) AS is_provisional\n     ORDER BY coalesce(r.chapter_added, -1) DESC, coalesce(r.confidence, 0.0) DESC LIMIT 1'
2025-11-07 06:20:22 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownLabelWarning} {category: UNRECOGNIZED} {title: The provided label is not in the database.} {description: One of the labels in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing label name is: ValueNode)} {position: line: 3, column: 24, offset: 221} for query: 'MATCH (s:Entity)-[r:`LOCATED_IN`]->(o)  WHERE s.name = $subject_param AND coalesce(r.chapter_added, -1) <= $chapter_limit_param AND (r.is_provisional = FALSE OR r.is_provisional IS NULL)\n    RETURN\n           CASE WHEN o:ValueNode THEN o.value ELSE o.name END AS object,\n           coalesce(r.chapter_added, -1) AS chapter_added,\n           coalesce(r.confidence, 0.0) AS confidence,\n           coalesce(r.is_provisional, FALSE) AS is_provisional\n     ORDER BY coalesce(r.chapter_added, -1) DESC, coalesce(r.confidence, 0.0) DESC LIMIT 1'
2025-11-07 06:20:22 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: is_provisional)} {position: line: 6, column: 23, offset: 405} for query: 'MATCH (s:Entity)-[r:`STATUS_IS`]->(o)  WHERE s.name = $subject_param AND coalesce(r.chapter_added, -1) <= $chapter_limit_param AND (r.is_provisional = FALSE OR r.is_provisional IS NULL)\n    RETURN\n           CASE WHEN o:ValueNode THEN o.value ELSE o.name END AS object,\n           coalesce(r.chapter_added, -1) AS chapter_added,\n           coalesce(r.confidence, 0.0) AS confidence,\n           coalesce(r.is_provisional, FALSE) AS is_provisional\n     ORDER BY coalesce(r.chapter_added, -1) DESC, coalesce(r.confidence, 0.0) DESC LIMIT 1'
2025-11-07 06:20:22 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: is_provisional)} {position: line: 1, column: 136, offset: 135} for query: 'MATCH (s:Entity)-[r:`LOCATED_IN`]->(o)  WHERE s.name = $subject_param AND coalesce(r.chapter_added, -1) <= $chapter_limit_param AND (r.is_provisional = FALSE OR r.is_provisional IS NULL)\n    RETURN\n           CASE WHEN o:ValueNode THEN o.value ELSE o.name END AS object,\n           coalesce(r.chapter_added, -1) AS chapter_added,\n           coalesce(r.confidence, 0.0) AS confidence,\n           coalesce(r.is_provisional, FALSE) AS is_provisional\n     ORDER BY coalesce(r.chapter_added, -1) DESC, coalesce(r.confidence, 0.0) DESC LIMIT 1'
2025-11-07 06:20:22 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownRelationshipTypeWarning} {category: UNRECOGNIZED} {title: The provided relationship type is not in the database.} {description: One of the relationship types in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing relationship type is: STATUS_IS)} {position: line: 1, column: 21, offset: 20} for query: 'MATCH (s:Entity)-[r:`STATUS_IS`]->(o)  WHERE s.name = $subject_param AND coalesce(r.chapter_added, -1) <= $chapter_limit_param AND (r.is_provisional = FALSE OR r.is_provisional IS NULL)\n    RETURN\n           CASE WHEN o:ValueNode THEN o.value ELSE o.name END AS object,\n           coalesce(r.chapter_added, -1) AS chapter_added,\n           coalesce(r.confidence, 0.0) AS confidence,\n           coalesce(r.is_provisional, FALSE) AS is_provisional\n     ORDER BY coalesce(r.chapter_added, -1) DESC, coalesce(r.confidence, 0.0) DESC LIMIT 1'
2025-11-07 06:20:22 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: chapter_added)} {position: line: 4, column: 23, offset: 293} for query: 'MATCH (s:Entity)-[r:`LOCATED_IN`]->(o)  WHERE s.name = $subject_param AND coalesce(r.chapter_added, -1) <= $chapter_limit_param AND (r.is_provisional = FALSE OR r.is_provisional IS NULL)\n    RETURN\n           CASE WHEN o:ValueNode THEN o.value ELSE o.name END AS object,\n           coalesce(r.chapter_added, -1) AS chapter_added,\n           coalesce(r.confidence, 0.0) AS confidence,\n           coalesce(r.is_provisional, FALSE) AS is_provisional\n     ORDER BY coalesce(r.chapter_added, -1) DESC, coalesce(r.confidence, 0.0) DESC LIMIT 1'
2025-11-07 06:20:22 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: name)} {position: line: 1, column: 49, offset: 48} for query: 'MATCH (s:Entity)-[r:`LOCATED_IN`]->(o)  WHERE s.name = $subject_param AND coalesce(r.chapter_added, -1) <= $chapter_limit_param AND (r.is_provisional = FALSE OR r.is_provisional IS NULL)\n    RETURN\n           CASE WHEN o:ValueNode THEN o.value ELSE o.name END AS object,\n           coalesce(r.chapter_added, -1) AS chapter_added,\n           coalesce(r.confidence, 0.0) AS confidence,\n           coalesce(r.is_provisional, FALSE) AS is_provisional\n     ORDER BY coalesce(r.chapter_added, -1) DESC, coalesce(r.confidence, 0.0) DESC LIMIT 1'
2025-11-07 06:20:22 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: is_provisional)} {position: line: 1, column: 164, offset: 163} for query: 'MATCH (s:Entity)-[r:`LOCATED_IN`]->(o)  WHERE s.name = $subject_param AND coalesce(r.chapter_added, -1) <= $chapter_limit_param AND (r.is_provisional = FALSE OR r.is_provisional IS NULL)\n    RETURN\n           CASE WHEN o:ValueNode THEN o.value ELSE o.name END AS object,\n           coalesce(r.chapter_added, -1) AS chapter_added,\n           coalesce(r.confidence, 0.0) AS confidence,\n           coalesce(r.is_provisional, FALSE) AS is_provisional\n     ORDER BY coalesce(r.chapter_added, -1) DESC, coalesce(r.confidence, 0.0) DESC LIMIT 1'
2025-11-07 06:20:22 - [neo4j.notifications] - warning - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: name)} {position: line: 3, column: 54, offset: 251} for query: 'MATCH (s:Entity)-[r:`LOCATED_IN`]->(o)  WHERE s.name = $subject_param AND coalesce(r.chapter_added, -1) <= $chapter_limit_param AND (r.is_provisional = FALSE OR r.is_provisional IS NULL)\n    RETURN\n           CASE WHEN o:ValueNode THEN o.value ELSE o.name END AS object,\n           coalesce(r.chapter_added, -1) AS chapter_added,\n           coalesce(r.confidence, 0.0) AS confidence,\n           coalesce(r.is_provisional, FALSE) AS is_provisional\n     ORDER BY coalesce(r.chapter_added, -1) DESC, coalesce(r.confidence, 0.0) DESC LIMIT 1'
11/07/2025, 06:20:22 - [core.langgraph.nodes.generation_node] - info - generate_chapter: calling LLM - (chapter=1 model=qwen3-a3b max_tokens=32768 prompt_tokens=301 _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/generation_node.py, 158, "{'chapter': 1, 'model': 'qwen3-a3b', 'max_tokens': 32768, 'prompt_tokens': 301, 'event': 'generate_chapter: calling LLM', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:20:22'}"> _from_structlog=True)
2025-11-07 06:20:45 - [httpx] - info - HTTP Request: POST http://127.0.0.1:8080/v1/chat/completions "HTTP/1.1 200 OK"
11/07/2025, 06:20:45 - [core.langgraph.nodes.generation_node] - info - generate_chapter: generation complete - (chapter=1 word_count=1040 tokens_used=2444 _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/generation_node.py, 194, "{'chapter': 1, 'word_count': 1040, 'tokens_used': 2444, 'event': 'generate_chapter: generation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:20:45'}"> _from_structlog=True)
11/07/2025, 06:20:45 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=1 word_count=1040 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 63, "{'chapter': 1, 'word_count': 1040, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:20:45'}"> _from_structlog=True)
2025-11-07 06:20:51 - [httpx] - info - HTTP Request: POST http://127.0.0.1:8080/v1/chat/completions "HTTP/1.1 200 OK"
11/07/2025, 06:20:51 - [processing.parsing_utils] - info - Line 4: Filtered out problematic object entity: 'Pattern Recognition' - (_record=<LogRecord: processing.parsing_utils, 20, /home/dlewis3/Desktop/AI/saga/processing/parsing_utils.py, 281, "{'event': "Line 4: Filtered out problematic object entity: 'Pattern Recognition'", 'level': 'info', 'logger': 'processing.parsing_utils', 'timestamp': '11/07/2025, 06:20:51'}"> _from_structlog=True)
11/07/2025, 06:20:51 - [processing.parsing_utils] - info - Line 11: Filtered out problematic object entity: 'Recognition of Signal Pattern' - (_record=<LogRecord: processing.parsing_utils, 20, /home/dlewis3/Desktop/AI/saga/processing/parsing_utils.py, 281, "{'event': "Line 11: Filtered out problematic object entity: 'Recognition of Signal Pattern'", 'level': 'info', 'logger': 'processing.parsing_utils', 'timestamp': '11/07/2025, 06:20:51'}"> _from_structlog=True)
11/07/2025, 06:20:51 - [core.langgraph.nodes.extraction_node] - error - _extract_updates_as_models: error processing extraction data - (error=2 validation errors for ExtractedRelationship
source_name
  Input should be a valid string [type=string_type, input_value={'type': 'Character', 'name': 'Sarah Chen'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
target_name
  Input should be a valid string [type=string_type, input_value={'type': 'Organization', 'name': 'Aethelstan'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type chapter=1 exc_info=True _record=<LogRecord: core.langgraph.nodes.extraction_node, 40, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 387, "{'error': "2 validation errors for ExtractedRelationship\nsource_name\n  Input should be a valid string [type=string_type, input_value={'type': 'Character', 'name': 'Sarah Chen'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/string_type\ntarget_name\n  Input should be a valid string [type=string_type, input_value={'type': 'Organization', 'name': 'Aethelstan'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/string_type", 'chapter': 1, 'exc_info': True, 'event': '_extract_updates_as_models: error processing extraction data', 'level': 'error', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:20:51'}"> _from_structlog=True)
11/07/2025, 06:20:51 - [core.langgraph.nodes.extraction_node] - info - extract_entities: extraction complete - (characters=0 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/extraction_node.py, 111, "{'characters': 0, 'world_items': 0, 'relationships': 0, 'event': 'extract_entities: extraction complete', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:20:51'}"> _from_structlog=True)
11/07/2025, 06:20:51 - [core.langgraph.nodes.commit_node] - info - commit_to_graph - (chapter=1 characters=0 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 72, "{'chapter': 1, 'characters': 0, 'world_items': 0, 'relationships': 0, 'event': 'commit_to_graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:20:51'}"> _from_structlog=True)
11/07/2025, 06:20:51 - [data_access.chapter_queries] - info - Neo4j: Successfully saved chapter data for chapter 1. - (_record=<LogRecord: data_access.chapter_queries, 20, /home/dlewis3/Desktop/AI/saga/data_access/chapter_queries.py, 60, "{'event': 'Neo4j: Successfully saved chapter data for chapter 1.', 'level': 'info', 'logger': 'data_access.chapter_queries', 'timestamp': '11/07/2025, 06:20:51'}"> _from_structlog=True)
11/07/2025, 06:20:51 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: created chapter node - (chapter=1 word_count=1040 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 507, "{'chapter': 1, 'word_count': 1040, 'event': 'commit_to_graph: created chapter node', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:20:51'}"> _from_structlog=True)
11/07/2025, 06:20:51 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: successfully committed to knowledge graph - (chapter=1 characters=0 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/commit_node.py, 144, "{'chapter': 1, 'characters': 0, 'world_items': 0, 'relationships': 0, 'event': 'commit_to_graph: successfully committed to knowledge graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:20:51'}"> _from_structlog=True)
11/07/2025, 06:20:51 - [core.langgraph.nodes.validation_node] - info - validate_consistency - (chapter=1 relationships=0 characters=0 _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 52, "{'chapter': 1, 'relationships': 0, 'characters': 0, 'event': 'validate_consistency', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 06:20:51'}"> _from_structlog=True)
11/07/2025, 06:20:52 - [core.langgraph.nodes.validation_node] - info - validate_consistency: validation complete - (total_issues=1 critical=0 major=1 minor=0 needs_revision=False _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/validation_node.py, 103, "{'total_issues': 1, 'critical': 0, 'major': 1, 'minor': 0, 'needs_revision': False, 'event': 'validate_consistency: validation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 06:20:52'}"> _from_structlog=True)
11/07/2025, 06:20:52 - [core.langgraph.workflow] - info - should_revise_or_continue: routing decision - (needs_revision=False iteration=0 max_iterations=3 force_continue=False _record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 220, "{'needs_revision': False, 'iteration': 0, 'max_iterations': 3, 'force_continue': False, 'event': 'should_revise_or_continue: routing decision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:20:52'}"> _from_structlog=True)
11/07/2025, 06:20:52 - [core.langgraph.workflow] - info - should_revise_or_continue: no revision needed, routing to summarize - (_record=<LogRecord: core.langgraph.workflow, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/workflow.py, 252, "{'event': 'should_revise_or_continue: no revision needed, routing to summarize', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:20:52'}"> _from_structlog=True)
11/07/2025, 06:20:52 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: starting summarization - (chapter=1 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/summary_node.py, 51, "{'chapter': 1, 'event': 'summarize_chapter: starting summarization', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:20:52'}"> _from_structlog=True)
11/07/2025, 06:20:52 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: calling LLM for summary - (chapter=1 model=qwen3-a3b _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/summary_node.py, 74, "{'chapter': 1, 'model': 'qwen3-a3b', 'event': 'summarize_chapter: calling LLM for summary', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:20:52'}"> _from_structlog=True)
2025-11-07 06:20:52 - [httpx] - info - HTTP Request: POST http://127.0.0.1:8080/v1/chat/completions "HTTP/1.1 200 OK"
11/07/2025, 06:20:52 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: summary generated - (chapter=1 summary_length=513 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/summary_node.py, 115, "{'chapter': 1, 'summary_length': 513, 'event': 'summarize_chapter: summary generated', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:20:52'}"> _from_structlog=True)
11/07/2025, 06:20:53 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: summary saved to Neo4j - (chapter=1 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/summary_node.py, 232, "{'chapter': 1, 'event': 'summarize_chapter: summary saved to Neo4j', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:20:53'}"> _from_structlog=True)
11/07/2025, 06:20:53 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: complete - (chapter=1 total_summaries_in_state=1 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/summary_node.py, 132, "{'chapter': 1, 'total_summaries_in_state': 1, 'event': 'summarize_chapter: complete', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:20:53'}"> _from_structlog=True)
11/07/2025, 06:20:53 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: starting finalization - (chapter=1 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/finalize_node.py, 54, "{'chapter': 1, 'event': 'finalize_chapter: starting finalization', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:20:53'}"> _from_structlog=True)
11/07/2025, 06:20:53 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to filesystem - (chapter=1 path=output/phase2_e2e_test/chapters/chapter_001.txt _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/finalize_node.py, 191, "{'chapter': 1, 'path': 'output/phase2_e2e_test/chapters/chapter_001.txt', 'event': 'finalize_chapter: chapter saved to filesystem', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:20:53'}"> _from_structlog=True)
2025-11-07 06:20:53 - [httpx] - info - HTTP Request: POST http://127.0.0.1:11434/api/embeddings "HTTP/1.1 404 Not Found"
11/07/2025, 06:20:53 - [core.http_client_service] - warning - HTTP status error (attempt 1): 404 - {"error":"model \"mxbai-embed-large:latest\" not found, try pulling it first"} - (_record=<LogRecord: core.http_client_service, 30, /home/dlewis3/Desktop/AI/saga/core/http_client_service.py, 124, "{'event': 'HTTP status error (attempt 1): 404 - {"error":"model \\"mxbai-embed-large:latest\\" not found, try pulling it first"}', 'level': 'warning', 'logger': 'core.http_client_service', 'timestamp': '11/07/2025, 06:20:53'}"> _from_structlog=True)
11/07/2025, 06:20:53 - [core.http_client_service] - error - Non-retryable client error 404, aborting - (_record=<LogRecord: core.http_client_service, 40, /home/dlewis3/Desktop/AI/saga/core/http_client_service.py, 130, "{'event': 'Non-retryable client error 404, aborting', 'level': 'error', 'logger': 'core.http_client_service', 'timestamp': '11/07/2025, 06:20:53'}"> _from_structlog=True)
11/07/2025, 06:20:53 - [core.http_client_service] - error - HTTP POST failed after 3 attempts: Client error '404 Not Found' for url 'http://127.0.0.1:11434/api/embeddings'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404 - (_record=<LogRecord: core.http_client_service, 40, /home/dlewis3/Desktop/AI/saga/core/http_client_service.py, 157, "{'event': "HTTP POST failed after 3 attempts: Client error '404 Not Found' for url 'http://127.0.0.1:11434/api/embeddings'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404", 'level': 'error', 'logger': 'core.http_client_service', 'timestamp': '11/07/2025, 06:20:53'}"> _from_structlog=True)
11/07/2025, 06:20:53 - [core.llm_interface_refactored] - error - Failed to get embedding: Client error '404 Not Found' for url 'http://127.0.0.1:11434/api/embeddings'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404 - (exc_info=True _record=<LogRecord: core.llm_interface_refactored, 40, /home/dlewis3/Desktop/AI/saga/core/llm_interface_refactored.py, 210, "{'exc_info': True, 'event': "Failed to get embedding: Client error '404 Not Found' for url 'http://127.0.0.1:11434/api/embeddings'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404", 'level': 'error', 'logger': 'core.llm_interface_refactored', 'timestamp': '11/07/2025, 06:20:53'}"> _from_structlog=True)
11/07/2025, 06:20:53 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: embedding generated - (chapter=1 embedding_shape=None _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/finalize_node.py, 92, "{'chapter': 1, 'embedding_shape': None, 'event': 'finalize_chapter: embedding generated', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:20:53'}"> _from_structlog=True)
11/07/2025, 06:20:53 - [data_access.chapter_queries] - info - Neo4j: Successfully saved chapter data for chapter 1. - (_record=<LogRecord: data_access.chapter_queries, 20, /home/dlewis3/Desktop/AI/saga/data_access/chapter_queries.py, 60, "{'event': 'Neo4j: Successfully saved chapter data for chapter 1.', 'level': 'info', 'logger': 'data_access.chapter_queries', 'timestamp': '11/07/2025, 06:20:53'}"> _from_structlog=True)
11/07/2025, 06:20:53 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to Neo4j - (chapter=1 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/finalize_node.py, 122, "{'chapter': 1, 'event': 'finalize_chapter: chapter saved to Neo4j', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:20:53'}"> _from_structlog=True)
11/07/2025, 06:20:53 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: finalization complete - (chapter=1 word_count=1040 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/dlewis3/Desktop/AI/saga/core/langgraph/nodes/finalize_node.py, 158, "{'chapter': 1, 'word_count': 1040, 'event': 'finalize_chapter: finalization complete', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:20:53'}"> _from_structlog=True)
11/07/2025, 06:20:53 - [core.db_manager] - info - Neo4j driver closed. - (_record=<LogRecord: core.db_manager, 20, /home/dlewis3/Desktop/AI/saga/core/db_manager.py, 91, "{'event': 'Neo4j driver closed.', 'level': 'info', 'logger': 'core.db_manager', 'timestamp': '11/07/2025, 06:20:53'}"> _from_structlog=True)
11/07/2025, 06:41:27 - [core.http_client_service] - info - HTTPClientService initialized with timeout=600.0s, concurrency_limit=4 - (_record=<LogRecord: core.http_client_service, 20, /home/user/saga/core/http_client_service.py, 56, "{'event': 'HTTPClientService initialized with timeout=600.0s, concurrency_limit=4', 'level': 'info', 'logger': 'core.http_client_service', 'timestamp': '11/07/2025, 06:41:27'}"> _from_structlog=True)
11/07/2025, 06:41:27 - [core.text_processing_service] - info - TextProcessingService initialized with all sub-services - (_record=<LogRecord: core.text_processing_service, 20, /home/user/saga/core/text_processing_service.py, 462, "{'event': 'TextProcessingService initialized with all sub-services', 'level': 'info', 'logger': 'core.text_processing_service', 'timestamp': '11/07/2025, 06:41:27'}"> _from_structlog=True)
11/07/2025, 06:41:27 - [core.llm_interface_refactored] - info - RefactoredLLMService initialized with separated components - (_record=<LogRecord: core.llm_interface_refactored, 20, /home/user/saga/core/llm_interface_refactored.py, 561, "{'event': 'RefactoredLLMService initialized with separated components', 'level': 'info', 'logger': 'core.llm_interface_refactored', 'timestamp': '11/07/2025, 06:41:27'}"> _from_structlog=True)
11/07/2025, 06:41:27 - [core.db_manager] - info - Neo4jManagerSingleton initialized. Call connect() to establish connection. - (_record=<LogRecord: core.db_manager, 20, /home/user/saga/core/db_manager.py, 44, "{'event': 'Neo4jManagerSingleton initialized. Call connect() to establish connection.', 'level': 'info', 'logger': 'core.db_manager', 'timestamp': '11/07/2025, 06:41:27'}"> _from_structlog=True)
11/07/2025, 06:41:27 - [core.langgraph.nodes.commit_node] - info - commit_to_graph - (chapter=1 characters=0 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/user/saga/core/langgraph/nodes/commit_node.py, 72, "{'chapter': 1, 'characters': 0, 'world_items': 0, 'relationships': 0, 'event': 'commit_to_graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:27'}"> _from_structlog=True)
11/07/2025, 06:41:27 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: created chapter node - (chapter=1 word_count=0 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/user/saga/core/langgraph/nodes/commit_node.py, 507, "{'chapter': 1, 'word_count': 0, 'event': 'commit_to_graph: created chapter node', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:27'}"> _from_structlog=True)
11/07/2025, 06:41:27 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: successfully committed to knowledge graph - (chapter=1 characters=0 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/user/saga/core/langgraph/nodes/commit_node.py, 144, "{'chapter': 1, 'characters': 0, 'world_items': 0, 'relationships': 0, 'event': 'commit_to_graph: successfully committed to knowledge graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:27'}"> _from_structlog=True)
11/07/2025, 06:41:27 - [core.langgraph.nodes.commit_node] - info - commit_to_graph - (chapter=1 characters=2 world_items=1 relationships=1 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/user/saga/core/langgraph/nodes/commit_node.py, 72, "{'chapter': 1, 'characters': 2, 'world_items': 1, 'relationships': 1, 'event': 'commit_to_graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:27'}"> _from_structlog=True)
11/07/2025, 06:41:27 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: created relationships - (count=1 chapter=1 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/user/saga/core/langgraph/nodes/commit_node.py, 462, "{'count': 1, 'chapter': 1, 'event': 'commit_to_graph: created relationships', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:27'}"> _from_structlog=True)
11/07/2025, 06:41:27 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: created chapter node - (chapter=1 word_count=2000 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/user/saga/core/langgraph/nodes/commit_node.py, 507, "{'chapter': 1, 'word_count': 2000, 'event': 'commit_to_graph: created chapter node', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:27'}"> _from_structlog=True)
11/07/2025, 06:41:27 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: successfully committed to knowledge graph - (chapter=1 characters=2 world_items=1 relationships=1 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/user/saga/core/langgraph/nodes/commit_node.py, 144, "{'chapter': 1, 'characters': 2, 'world_items': 1, 'relationships': 1, 'event': 'commit_to_graph: successfully committed to knowledge graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:27'}"> _from_structlog=True)
11/07/2025, 06:41:27 - [core.langgraph.nodes.commit_node] - info - commit_to_graph - (chapter=1 characters=2 world_items=1 relationships=1 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/user/saga/core/langgraph/nodes/commit_node.py, 72, "{'chapter': 1, 'characters': 2, 'world_items': 1, 'relationships': 1, 'event': 'commit_to_graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:27'}"> _from_structlog=True)
11/07/2025, 06:41:27 - [core.langgraph.nodes.commit_node] - error - commit_to_graph: error during commit - (error=Database error chapter=1 exc_info=True _record=<LogRecord: core.langgraph.nodes.commit_node, 40, /home/user/saga/core/langgraph/nodes/commit_node.py, 159, "{'error': 'Database error', 'chapter': 1, 'exc_info': True, 'event': 'commit_to_graph: error during commit', 'level': 'error', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:27'}"> _from_structlog=True)
11/07/2025, 06:41:28 - [core.langgraph.nodes.commit_node] - info - commit_to_graph - (chapter=1 characters=2 world_items=1 relationships=1 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/user/saga/core/langgraph/nodes/commit_node.py, 72, "{'chapter': 1, 'characters': 2, 'world_items': 1, 'relationships': 1, 'event': 'commit_to_graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:28'}"> _from_structlog=True)
11/07/2025, 06:41:28 - [core.langgraph.nodes.commit_node] - error - commit_to_graph: failed to create relationships - (error=object MagicMock can't be used in 'await' expression chapter=1 exc_info=True _record=<LogRecord: core.langgraph.nodes.commit_node, 40, /home/user/saga/core/langgraph/nodes/commit_node.py, 469, "{'error': "object MagicMock can't be used in 'await' expression", 'chapter': 1, 'exc_info': True, 'event': 'commit_to_graph: failed to create relationships', 'level': 'error', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:28'}"> _from_structlog=True)
11/07/2025, 06:41:28 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: created chapter node - (chapter=1 word_count=2000 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/user/saga/core/langgraph/nodes/commit_node.py, 507, "{'chapter': 1, 'word_count': 2000, 'event': 'commit_to_graph: created chapter node', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:28'}"> _from_structlog=True)
11/07/2025, 06:41:28 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: successfully committed to knowledge graph - (chapter=1 characters=2 world_items=1 relationships=1 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/user/saga/core/langgraph/nodes/commit_node.py, 144, "{'chapter': 1, 'characters': 2, 'world_items': 1, 'relationships': 1, 'event': 'commit_to_graph: successfully committed to knowledge graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:28'}"> _from_structlog=True)
11/07/2025, 06:41:28 - [core.langgraph.nodes.commit_node] - info - commit_to_graph - (chapter=1 characters=2 world_items=1 relationships=1 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/user/saga/core/langgraph/nodes/commit_node.py, 72, "{'chapter': 1, 'characters': 2, 'world_items': 1, 'relationships': 1, 'event': 'commit_to_graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:28'}"> _from_structlog=True)
11/07/2025, 06:41:28 - [core.langgraph.nodes.commit_node] - error - commit_to_graph: failed to create relationships - (error=object MagicMock can't be used in 'await' expression chapter=1 exc_info=True _record=<LogRecord: core.langgraph.nodes.commit_node, 40, /home/user/saga/core/langgraph/nodes/commit_node.py, 469, "{'error': "object MagicMock can't be used in 'await' expression", 'chapter': 1, 'exc_info': True, 'event': 'commit_to_graph: failed to create relationships', 'level': 'error', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:28'}"> _from_structlog=True)
11/07/2025, 06:41:28 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: created chapter node - (chapter=1 word_count=2000 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/user/saga/core/langgraph/nodes/commit_node.py, 507, "{'chapter': 1, 'word_count': 2000, 'event': 'commit_to_graph: created chapter node', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:28'}"> _from_structlog=True)
11/07/2025, 06:41:28 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: successfully committed to knowledge graph - (chapter=1 characters=2 world_items=1 relationships=1 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/user/saga/core/langgraph/nodes/commit_node.py, 144, "{'chapter': 1, 'characters': 2, 'world_items': 1, 'relationships': 1, 'event': 'commit_to_graph: successfully committed to knowledge graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:28'}"> _from_structlog=True)
11/07/2025, 06:41:28 - [core.langgraph.nodes.extraction_node] - warning - _parse_extraction_json: empty extraction text - (chapter=1 _record=<LogRecord: core.langgraph.nodes.extraction_node, 30, /home/user/saga/core/langgraph/nodes/extraction_node.py, 429, "{'chapter': 1, 'event': '_parse_extraction_json: empty extraction text', 'level': 'warning', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:28'}"> _from_structlog=True)
11/07/2025, 06:41:28 - [core.langgraph.nodes.extraction_node] - warning - _parse_extraction_json: JSON parsing failed - (error=Expecting value: line 1 column 15 (char 14) chapter=1 _record=<LogRecord: core.langgraph.nodes.extraction_node, 30, /home/user/saga/core/langgraph/nodes/extraction_node.py, 450, "{'error': 'Expecting value: line 1 column 15 (char 14)', 'chapter': 1, 'event': '_parse_extraction_json: JSON parsing failed', 'level': 'warning', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:28'}"> _from_structlog=True)
11/07/2025, 06:41:28 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=1 word_count=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/user/saga/core/langgraph/nodes/extraction_node.py, 63, "{'chapter': 1, 'word_count': 0, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:28'}"> _from_structlog=True)
11/07/2025, 06:41:28 - [core.langgraph.nodes.extraction_node] - warning - extract_entities: no draft text to extract from - (_record=<LogRecord: core.langgraph.nodes.extraction_node, 30, /home/user/saga/core/langgraph/nodes/extraction_node.py, 71, "{'event': 'extract_entities: no draft text to extract from', 'level': 'warning', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:28'}"> _from_structlog=True)
11/07/2025, 06:41:28 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=1 word_count=2000 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/user/saga/core/langgraph/nodes/extraction_node.py, 63, "{'chapter': 1, 'word_count': 2000, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:28'}"> _from_structlog=True)
11/07/2025, 06:41:28 - [core.langgraph.nodes.extraction_node] - info - extract_entities: extraction complete - (characters=2 world_items=2 relationships=3 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/user/saga/core/langgraph/nodes/extraction_node.py, 111, "{'characters': 2, 'world_items': 2, 'relationships': 3, 'event': 'extract_entities: extraction complete', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:28'}"> _from_structlog=True)
11/07/2025, 06:41:28 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=1 word_count=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/user/saga/core/langgraph/nodes/extraction_node.py, 63, "{'chapter': 1, 'word_count': 0, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:28'}"> _from_structlog=True)
11/07/2025, 06:41:28 - [core.langgraph.nodes.extraction_node] - error - _llm_extract_updates: LLM call failed - (error=LLM service error exc_info=True _record=<LogRecord: core.langgraph.nodes.extraction_node, 40, /home/user/saga/core/langgraph/nodes/extraction_node.py, 215, "{'error': 'LLM service error', 'exc_info': True, 'event': '_llm_extract_updates: LLM call failed', 'level': 'error', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:28'}"> _from_structlog=True)
11/07/2025, 06:41:28 - [core.langgraph.nodes.extraction_node] - warning - extract_entities: LLM extraction returned no text - (chapter=1 _record=<LogRecord: core.langgraph.nodes.extraction_node, 30, /home/user/saga/core/langgraph/nodes/extraction_node.py, 92, "{'chapter': 1, 'event': 'extract_entities: LLM extraction returned no text', 'level': 'warning', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:28'}"> _from_structlog=True)
11/07/2025, 06:41:28 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=1 word_count=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/user/saga/core/langgraph/nodes/extraction_node.py, 63, "{'chapter': 1, 'word_count': 0, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:28'}"> _from_structlog=True)
11/07/2025, 06:41:28 - [core.langgraph.nodes.extraction_node] - warning - extract_entities: LLM extraction returned no text - (chapter=1 _record=<LogRecord: core.langgraph.nodes.extraction_node, 30, /home/user/saga/core/langgraph/nodes/extraction_node.py, 92, "{'chapter': 1, 'event': 'extract_entities: LLM extraction returned no text', 'level': 'warning', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:28'}"> _from_structlog=True)
11/07/2025, 06:41:28 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=5 word_count=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/user/saga/core/langgraph/nodes/extraction_node.py, 63, "{'chapter': 5, 'word_count': 0, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:28'}"> _from_structlog=True)
11/07/2025, 06:41:28 - [core.langgraph.nodes.extraction_node] - info - extract_entities: extraction complete - (characters=2 world_items=2 relationships=3 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/user/saga/core/langgraph/nodes/extraction_node.py, 111, "{'characters': 2, 'world_items': 2, 'relationships': 3, 'event': 'extract_entities: extraction complete', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:28'}"> _from_structlog=True)
11/07/2025, 06:41:28 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=1 word_count=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/user/saga/core/langgraph/nodes/extraction_node.py, 63, "{'chapter': 1, 'word_count': 0, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:28'}"> _from_structlog=True)
11/07/2025, 06:41:28 - [core.langgraph.nodes.extraction_node] - warning - _parse_extraction_json: JSON parsing failed - (error=Unterminated string starting at: line 1 column 24 (char 23) chapter=1 _record=<LogRecord: core.langgraph.nodes.extraction_node, 30, /home/user/saga/core/langgraph/nodes/extraction_node.py, 450, "{'error': 'Unterminated string starting at: line 1 column 24 (char 23)', 'chapter': 1, 'event': '_parse_extraction_json: JSON parsing failed', 'level': 'warning', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:28'}"> _from_structlog=True)
11/07/2025, 06:41:28 - [core.langgraph.nodes.extraction_node] - info - extract_entities: extraction complete - (characters=0 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/user/saga/core/langgraph/nodes/extraction_node.py, 111, "{'characters': 0, 'world_items': 0, 'relationships': 0, 'event': 'extract_entities: extraction complete', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:28'}"> _from_structlog=True)
11/07/2025, 06:41:28 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=3 word_count=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/user/saga/core/langgraph/nodes/extraction_node.py, 63, "{'chapter': 3, 'word_count': 0, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:28'}"> _from_structlog=True)
11/07/2025, 06:41:28 - [core.langgraph.nodes.extraction_node] - info - extract_entities: extraction complete - (characters=2 world_items=2 relationships=3 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/user/saga/core/langgraph/nodes/extraction_node.py, 111, "{'characters': 2, 'world_items': 2, 'relationships': 3, 'event': 'extract_entities: extraction complete', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:28'}"> _from_structlog=True)
11/07/2025, 06:41:28 - [core.langgraph.graph_context] - info - build_context_from_graph - (chapter=5 lookback=5 char_count=auto _record=<LogRecord: core.langgraph.graph_context, 20, /home/user/saga/core/langgraph/graph_context.py, 71, "{'chapter': 5, 'lookback': 5, 'char_count': 'auto', 'event': 'build_context_from_graph', 'level': 'info', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 06:41:28'}"> _from_structlog=True)
11/07/2025, 06:41:28 - [core.langgraph.graph_context] - info - build_context_from_graph: context built - (characters=0 world_items=0 relationships=0 summaries=0 _record=<LogRecord: core.langgraph.graph_context, 20, /home/user/saga/core/langgraph/graph_context.py, 131, "{'characters': 0, 'world_items': 0, 'relationships': 0, 'summaries': 0, 'event': 'build_context_from_graph: context built', 'level': 'info', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 06:41:28'}"> _from_structlog=True)
11/07/2025, 06:41:28 - [core.langgraph.graph_context] - info - build_context_from_graph - (chapter=5 lookback=5 char_count=1 _record=<LogRecord: core.langgraph.graph_context, 20, /home/user/saga/core/langgraph/graph_context.py, 71, "{'chapter': 5, 'lookback': 5, 'char_count': 1, 'event': 'build_context_from_graph', 'level': 'info', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 06:41:28'}"> _from_structlog=True)
11/07/2025, 06:41:28 - [core.langgraph.graph_context] - info - build_context_from_graph: context built - (characters=1 world_items=0 relationships=0 summaries=0 _record=<LogRecord: core.langgraph.graph_context, 20, /home/user/saga/core/langgraph/graph_context.py, 131, "{'characters': 1, 'world_items': 0, 'relationships': 0, 'summaries': 0, 'event': 'build_context_from_graph: context built', 'level': 'info', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 06:41:28'}"> _from_structlog=True)
11/07/2025, 06:41:28 - [core.langgraph.graph_context] - info - build_context_from_graph - (chapter=5 lookback=5 char_count=auto _record=<LogRecord: core.langgraph.graph_context, 20, /home/user/saga/core/langgraph/graph_context.py, 71, "{'chapter': 5, 'lookback': 5, 'char_count': 'auto', 'event': 'build_context_from_graph', 'level': 'info', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 06:41:28'}"> _from_structlog=True)
11/07/2025, 06:41:28 - [core.langgraph.graph_context] - info - build_context_from_graph: context built - (characters=0 world_items=0 relationships=0 summaries=0 _record=<LogRecord: core.langgraph.graph_context, 20, /home/user/saga/core/langgraph/graph_context.py, 131, "{'characters': 0, 'world_items': 0, 'relationships': 0, 'summaries': 0, 'event': 'build_context_from_graph: context built', 'level': 'info', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 06:41:28'}"> _from_structlog=True)
11/07/2025, 06:41:28 - [core.langgraph.graph_context] - info - build_context_from_graph - (chapter=5 lookback=5 char_count=auto _record=<LogRecord: core.langgraph.graph_context, 20, /home/user/saga/core/langgraph/graph_context.py, 71, "{'chapter': 5, 'lookback': 5, 'char_count': 'auto', 'event': 'build_context_from_graph', 'level': 'info', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 06:41:28'}"> _from_structlog=True)
11/07/2025, 06:41:28 - [core.langgraph.graph_context] - error - build_context_from_graph: error building context - (error=Query error chapter=5 exc_info=True _record=<LogRecord: core.langgraph.graph_context, 40, /home/user/saga/core/langgraph/graph_context.py, 142, "{'error': 'Query error', 'chapter': 5, 'exc_info': True, 'event': 'build_context_from_graph: error building context', 'level': 'error', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 06:41:28'}"> _from_structlog=True)
11/07/2025, 06:41:28 - [core.langgraph.graph_context] - warning - get_key_events: error retrieving events (returning empty list) - (error=Query error chapter=5 start_chapter=1 exc_info=True _record=<LogRecord: core.langgraph.graph_context, 30, /home/user/saga/core/langgraph/graph_context.py, 445, "{'error': 'Query error', 'chapter': 5, 'start_chapter': 1, 'exc_info': True, 'event': 'get_key_events: error retrieving events (returning empty list)', 'level': 'warning', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 06:41:28'}"> _from_structlog=True)
11/07/2025, 06:41:42 - [core.http_client_service] - info - HTTPClientService initialized with timeout=600.0s, concurrency_limit=4 - (_record=<LogRecord: core.http_client_service, 20, /home/user/saga/core/http_client_service.py, 56, "{'event': 'HTTPClientService initialized with timeout=600.0s, concurrency_limit=4', 'level': 'info', 'logger': 'core.http_client_service', 'timestamp': '11/07/2025, 06:41:42'}"> _from_structlog=True)
11/07/2025, 06:41:42 - [core.text_processing_service] - info - TextProcessingService initialized with all sub-services - (_record=<LogRecord: core.text_processing_service, 20, /home/user/saga/core/text_processing_service.py, 462, "{'event': 'TextProcessingService initialized with all sub-services', 'level': 'info', 'logger': 'core.text_processing_service', 'timestamp': '11/07/2025, 06:41:42'}"> _from_structlog=True)
11/07/2025, 06:41:42 - [core.llm_interface_refactored] - info - RefactoredLLMService initialized with separated components - (_record=<LogRecord: core.llm_interface_refactored, 20, /home/user/saga/core/llm_interface_refactored.py, 561, "{'event': 'RefactoredLLMService initialized with separated components', 'level': 'info', 'logger': 'core.llm_interface_refactored', 'timestamp': '11/07/2025, 06:41:42'}"> _from_structlog=True)
11/07/2025, 06:41:42 - [core.db_manager] - info - Neo4jManagerSingleton initialized. Call connect() to establish connection. - (_record=<LogRecord: core.db_manager, 20, /home/user/saga/core/db_manager.py, 44, "{'event': 'Neo4jManagerSingleton initialized. Call connect() to establish connection.', 'level': 'info', 'logger': 'core.db_manager', 'timestamp': '11/07/2025, 06:41:42'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.commit_node] - info - commit_to_graph - (chapter=1 characters=0 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/user/saga/core/langgraph/nodes/commit_node.py, 72, "{'chapter': 1, 'characters': 0, 'world_items': 0, 'relationships': 0, 'event': 'commit_to_graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: created chapter node - (chapter=1 word_count=0 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/user/saga/core/langgraph/nodes/commit_node.py, 507, "{'chapter': 1, 'word_count': 0, 'event': 'commit_to_graph: created chapter node', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: successfully committed to knowledge graph - (chapter=1 characters=0 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/user/saga/core/langgraph/nodes/commit_node.py, 144, "{'chapter': 1, 'characters': 0, 'world_items': 0, 'relationships': 0, 'event': 'commit_to_graph: successfully committed to knowledge graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.commit_node] - info - commit_to_graph - (chapter=1 characters=2 world_items=1 relationships=1 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/user/saga/core/langgraph/nodes/commit_node.py, 72, "{'chapter': 1, 'characters': 2, 'world_items': 1, 'relationships': 1, 'event': 'commit_to_graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: created relationships - (count=1 chapter=1 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/user/saga/core/langgraph/nodes/commit_node.py, 462, "{'count': 1, 'chapter': 1, 'event': 'commit_to_graph: created relationships', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: created chapter node - (chapter=1 word_count=2000 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/user/saga/core/langgraph/nodes/commit_node.py, 507, "{'chapter': 1, 'word_count': 2000, 'event': 'commit_to_graph: created chapter node', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: successfully committed to knowledge graph - (chapter=1 characters=2 world_items=1 relationships=1 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/user/saga/core/langgraph/nodes/commit_node.py, 144, "{'chapter': 1, 'characters': 2, 'world_items': 1, 'relationships': 1, 'event': 'commit_to_graph: successfully committed to knowledge graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.commit_node] - info - commit_to_graph - (chapter=1 characters=2 world_items=1 relationships=1 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/user/saga/core/langgraph/nodes/commit_node.py, 72, "{'chapter': 1, 'characters': 2, 'world_items': 1, 'relationships': 1, 'event': 'commit_to_graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.commit_node] - error - commit_to_graph: error during commit - (error=Database error chapter=1 exc_info=True _record=<LogRecord: core.langgraph.nodes.commit_node, 40, /home/user/saga/core/langgraph/nodes/commit_node.py, 159, "{'error': 'Database error', 'chapter': 1, 'exc_info': True, 'event': 'commit_to_graph: error during commit', 'level': 'error', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.commit_node] - info - commit_to_graph - (chapter=1 characters=2 world_items=1 relationships=1 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/user/saga/core/langgraph/nodes/commit_node.py, 72, "{'chapter': 1, 'characters': 2, 'world_items': 1, 'relationships': 1, 'event': 'commit_to_graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.commit_node] - error - commit_to_graph: failed to create relationships - (error=object MagicMock can't be used in 'await' expression chapter=1 exc_info=True _record=<LogRecord: core.langgraph.nodes.commit_node, 40, /home/user/saga/core/langgraph/nodes/commit_node.py, 469, "{'error': "object MagicMock can't be used in 'await' expression", 'chapter': 1, 'exc_info': True, 'event': 'commit_to_graph: failed to create relationships', 'level': 'error', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: created chapter node - (chapter=1 word_count=2000 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/user/saga/core/langgraph/nodes/commit_node.py, 507, "{'chapter': 1, 'word_count': 2000, 'event': 'commit_to_graph: created chapter node', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: successfully committed to knowledge graph - (chapter=1 characters=2 world_items=1 relationships=1 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/user/saga/core/langgraph/nodes/commit_node.py, 144, "{'chapter': 1, 'characters': 2, 'world_items': 1, 'relationships': 1, 'event': 'commit_to_graph: successfully committed to knowledge graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.commit_node] - info - commit_to_graph - (chapter=1 characters=2 world_items=1 relationships=1 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/user/saga/core/langgraph/nodes/commit_node.py, 72, "{'chapter': 1, 'characters': 2, 'world_items': 1, 'relationships': 1, 'event': 'commit_to_graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.commit_node] - error - commit_to_graph: failed to create relationships - (error=object MagicMock can't be used in 'await' expression chapter=1 exc_info=True _record=<LogRecord: core.langgraph.nodes.commit_node, 40, /home/user/saga/core/langgraph/nodes/commit_node.py, 469, "{'error': "object MagicMock can't be used in 'await' expression", 'chapter': 1, 'exc_info': True, 'event': 'commit_to_graph: failed to create relationships', 'level': 'error', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: created chapter node - (chapter=1 word_count=2000 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/user/saga/core/langgraph/nodes/commit_node.py, 507, "{'chapter': 1, 'word_count': 2000, 'event': 'commit_to_graph: created chapter node', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: successfully committed to knowledge graph - (chapter=1 characters=2 world_items=1 relationships=1 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/user/saga/core/langgraph/nodes/commit_node.py, 144, "{'chapter': 1, 'characters': 2, 'world_items': 1, 'relationships': 1, 'event': 'commit_to_graph: successfully committed to knowledge graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.extraction_node] - warning - _parse_extraction_json: empty extraction text - (chapter=1 _record=<LogRecord: core.langgraph.nodes.extraction_node, 30, /home/user/saga/core/langgraph/nodes/extraction_node.py, 429, "{'chapter': 1, 'event': '_parse_extraction_json: empty extraction text', 'level': 'warning', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.extraction_node] - warning - _parse_extraction_json: JSON parsing failed - (error=Expecting value: line 1 column 15 (char 14) chapter=1 _record=<LogRecord: core.langgraph.nodes.extraction_node, 30, /home/user/saga/core/langgraph/nodes/extraction_node.py, 450, "{'error': 'Expecting value: line 1 column 15 (char 14)', 'chapter': 1, 'event': '_parse_extraction_json: JSON parsing failed', 'level': 'warning', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=1 word_count=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/user/saga/core/langgraph/nodes/extraction_node.py, 63, "{'chapter': 1, 'word_count': 0, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.extraction_node] - warning - extract_entities: no draft text to extract from - (_record=<LogRecord: core.langgraph.nodes.extraction_node, 30, /home/user/saga/core/langgraph/nodes/extraction_node.py, 71, "{'event': 'extract_entities: no draft text to extract from', 'level': 'warning', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=1 word_count=2000 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/user/saga/core/langgraph/nodes/extraction_node.py, 63, "{'chapter': 1, 'word_count': 2000, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.extraction_node] - info - extract_entities: extraction complete - (characters=2 world_items=2 relationships=3 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/user/saga/core/langgraph/nodes/extraction_node.py, 111, "{'characters': 2, 'world_items': 2, 'relationships': 3, 'event': 'extract_entities: extraction complete', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=1 word_count=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/user/saga/core/langgraph/nodes/extraction_node.py, 63, "{'chapter': 1, 'word_count': 0, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.extraction_node] - error - _llm_extract_updates: LLM call failed - (error=LLM service error exc_info=True _record=<LogRecord: core.langgraph.nodes.extraction_node, 40, /home/user/saga/core/langgraph/nodes/extraction_node.py, 215, "{'error': 'LLM service error', 'exc_info': True, 'event': '_llm_extract_updates: LLM call failed', 'level': 'error', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.extraction_node] - warning - extract_entities: LLM extraction returned no text - (chapter=1 _record=<LogRecord: core.langgraph.nodes.extraction_node, 30, /home/user/saga/core/langgraph/nodes/extraction_node.py, 92, "{'chapter': 1, 'event': 'extract_entities: LLM extraction returned no text', 'level': 'warning', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=1 word_count=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/user/saga/core/langgraph/nodes/extraction_node.py, 63, "{'chapter': 1, 'word_count': 0, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.extraction_node] - warning - extract_entities: LLM extraction returned no text - (chapter=1 _record=<LogRecord: core.langgraph.nodes.extraction_node, 30, /home/user/saga/core/langgraph/nodes/extraction_node.py, 92, "{'chapter': 1, 'event': 'extract_entities: LLM extraction returned no text', 'level': 'warning', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=5 word_count=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/user/saga/core/langgraph/nodes/extraction_node.py, 63, "{'chapter': 5, 'word_count': 0, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.extraction_node] - info - extract_entities: extraction complete - (characters=2 world_items=2 relationships=3 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/user/saga/core/langgraph/nodes/extraction_node.py, 111, "{'characters': 2, 'world_items': 2, 'relationships': 3, 'event': 'extract_entities: extraction complete', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=1 word_count=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/user/saga/core/langgraph/nodes/extraction_node.py, 63, "{'chapter': 1, 'word_count': 0, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.extraction_node] - warning - _parse_extraction_json: JSON parsing failed - (error=Unterminated string starting at: line 1 column 24 (char 23) chapter=1 _record=<LogRecord: core.langgraph.nodes.extraction_node, 30, /home/user/saga/core/langgraph/nodes/extraction_node.py, 450, "{'error': 'Unterminated string starting at: line 1 column 24 (char 23)', 'chapter': 1, 'event': '_parse_extraction_json: JSON parsing failed', 'level': 'warning', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.extraction_node] - info - extract_entities: extraction complete - (characters=0 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/user/saga/core/langgraph/nodes/extraction_node.py, 111, "{'characters': 0, 'world_items': 0, 'relationships': 0, 'event': 'extract_entities: extraction complete', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=3 word_count=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/user/saga/core/langgraph/nodes/extraction_node.py, 63, "{'chapter': 3, 'word_count': 0, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.extraction_node] - info - extract_entities: extraction complete - (characters=2 world_items=2 relationships=3 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/user/saga/core/langgraph/nodes/extraction_node.py, 111, "{'characters': 2, 'world_items': 2, 'relationships': 3, 'event': 'extract_entities: extraction complete', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: starting finalization - (chapter=1 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 54, "{'chapter': 1, 'event': 'finalize_chapter: starting finalization', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to filesystem - (chapter=1 path=/tmp/pytest-of-root/pytest-13/test_finalize_chapter_success0/test-project/chapters/chapter_001.txt _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 191, "{'chapter': 1, 'path': '/tmp/pytest-of-root/pytest-13/test_finalize_chapter_success0/test-project/chapters/chapter_001.txt', 'event': 'finalize_chapter: chapter saved to filesystem', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: embedding generated - (chapter=1 embedding_shape=(1024,) _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 92, "{'chapter': 1, 'embedding_shape': (1024,), 'event': 'finalize_chapter: embedding generated', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to Neo4j - (chapter=1 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 122, "{'chapter': 1, 'event': 'finalize_chapter: chapter saved to Neo4j', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: finalization complete - (chapter=1 word_count=25 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 158, "{'chapter': 1, 'word_count': 25, 'event': 'finalize_chapter: finalization complete', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: starting finalization - (chapter=1 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 54, "{'chapter': 1, 'event': 'finalize_chapter: starting finalization', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - error - finalize_chapter: no draft text to finalize - (_record=<LogRecord: core.langgraph.nodes.finalize_node, 40, /home/user/saga/core/langgraph/nodes/finalize_node.py, 61, "{'event': 'finalize_chapter: no draft text to finalize', 'level': 'error', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: starting finalization - (chapter=1 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 54, "{'chapter': 1, 'event': 'finalize_chapter: starting finalization', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to filesystem - (chapter=1 path=/tmp/pytest-of-root/pytest-13/test_finalize_chapter_filesyst0/test-project/chapters/chapter_001.txt _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 191, "{'chapter': 1, 'path': '/tmp/pytest-of-root/pytest-13/test_finalize_chapter_filesyst0/test-project/chapters/chapter_001.txt', 'event': 'finalize_chapter: chapter saved to filesystem', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: embedding generated - (chapter=1 embedding_shape=(1024,) _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 92, "{'chapter': 1, 'embedding_shape': (1024,), 'event': 'finalize_chapter: embedding generated', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to Neo4j - (chapter=1 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 122, "{'chapter': 1, 'event': 'finalize_chapter: chapter saved to Neo4j', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: finalization complete - (chapter=1 word_count=25 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 158, "{'chapter': 1, 'word_count': 25, 'event': 'finalize_chapter: finalization complete', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: starting finalization - (chapter=1 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 54, "{'chapter': 1, 'event': 'finalize_chapter: starting finalization', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to filesystem - (chapter=1 path=/tmp/pytest-of-root/pytest-13/test_finalize_chapter_embeddin0/test-project/chapters/chapter_001.txt _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 191, "{'chapter': 1, 'path': '/tmp/pytest-of-root/pytest-13/test_finalize_chapter_embeddin0/test-project/chapters/chapter_001.txt', 'event': 'finalize_chapter: chapter saved to filesystem', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: embedding generated - (chapter=1 embedding_shape=(1024,) _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 92, "{'chapter': 1, 'embedding_shape': (1024,), 'event': 'finalize_chapter: embedding generated', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to Neo4j - (chapter=1 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 122, "{'chapter': 1, 'event': 'finalize_chapter: chapter saved to Neo4j', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: finalization complete - (chapter=1 word_count=25 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 158, "{'chapter': 1, 'word_count': 25, 'event': 'finalize_chapter: finalization complete', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: starting finalization - (chapter=1 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 54, "{'chapter': 1, 'event': 'finalize_chapter: starting finalization', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to filesystem - (chapter=1 path=/tmp/pytest-of-root/pytest-13/test_finalize_chapter_embeddin1/test-project/chapters/chapter_001.txt _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 191, "{'chapter': 1, 'path': '/tmp/pytest-of-root/pytest-13/test_finalize_chapter_embeddin1/test-project/chapters/chapter_001.txt', 'event': 'finalize_chapter: chapter saved to filesystem', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - error - finalize_chapter: embedding generation failed - (chapter=1 error=Embedding service unavailable exc_info=True _record=<LogRecord: core.langgraph.nodes.finalize_node, 40, /home/user/saga/core/langgraph/nodes/finalize_node.py, 98, "{'chapter': 1, 'error': 'Embedding service unavailable', 'exc_info': True, 'event': 'finalize_chapter: embedding generation failed', 'level': 'error', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to Neo4j - (chapter=1 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 122, "{'chapter': 1, 'event': 'finalize_chapter: chapter saved to Neo4j', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: finalization complete - (chapter=1 word_count=25 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 158, "{'chapter': 1, 'word_count': 25, 'event': 'finalize_chapter: finalization complete', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: starting finalization - (chapter=1 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 54, "{'chapter': 1, 'event': 'finalize_chapter: starting finalization', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to filesystem - (chapter=1 path=/tmp/pytest-of-root/pytest-13/test_finalize_chapter_neo4j_fa0/test-project/chapters/chapter_001.txt _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 191, "{'chapter': 1, 'path': '/tmp/pytest-of-root/pytest-13/test_finalize_chapter_neo4j_fa0/test-project/chapters/chapter_001.txt', 'event': 'finalize_chapter: chapter saved to filesystem', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: embedding generated - (chapter=1 embedding_shape=(1024,) _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 92, "{'chapter': 1, 'embedding_shape': (1024,), 'event': 'finalize_chapter: embedding generated', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - error - finalize_chapter: Neo4j save failed - (chapter=1 error=Neo4j unavailable exc_info=True _record=<LogRecord: core.langgraph.nodes.finalize_node, 40, /home/user/saga/core/langgraph/nodes/finalize_node.py, 128, "{'chapter': 1, 'error': 'Neo4j unavailable', 'exc_info': True, 'event': 'finalize_chapter: Neo4j save failed', 'level': 'error', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: starting finalization - (chapter=1 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 54, "{'chapter': 1, 'event': 'finalize_chapter: starting finalization', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to filesystem - (chapter=1 path=/invalid/nonexistent/path/chapters/chapter_001.txt _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 191, "{'chapter': 1, 'path': '/invalid/nonexistent/path/chapters/chapter_001.txt', 'event': 'finalize_chapter: chapter saved to filesystem', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: embedding generated - (chapter=1 embedding_shape=(1024,) _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 92, "{'chapter': 1, 'embedding_shape': (1024,), 'event': 'finalize_chapter: embedding generated', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to Neo4j - (chapter=1 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 122, "{'chapter': 1, 'event': 'finalize_chapter: chapter saved to Neo4j', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: finalization complete - (chapter=1 word_count=25 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 158, "{'chapter': 1, 'word_count': 25, 'event': 'finalize_chapter: finalization complete', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: starting finalization - (chapter=1 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 54, "{'chapter': 1, 'event': 'finalize_chapter: starting finalization', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to filesystem - (chapter=1 path=/tmp/pytest-of-root/pytest-13/test_finalize_chapter_clears_e0/test-project/chapters/chapter_001.txt _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 191, "{'chapter': 1, 'path': '/tmp/pytest-of-root/pytest-13/test_finalize_chapter_clears_e0/test-project/chapters/chapter_001.txt', 'event': 'finalize_chapter: chapter saved to filesystem', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: embedding generated - (chapter=1 embedding_shape=(1024,) _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 92, "{'chapter': 1, 'embedding_shape': (1024,), 'event': 'finalize_chapter: embedding generated', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to Neo4j - (chapter=1 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 122, "{'chapter': 1, 'event': 'finalize_chapter: chapter saved to Neo4j', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: finalization complete - (chapter=1 word_count=25 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 158, "{'chapter': 1, 'word_count': 25, 'event': 'finalize_chapter: finalization complete', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: starting finalization - (chapter=1 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 54, "{'chapter': 1, 'event': 'finalize_chapter: starting finalization', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to filesystem - (chapter=1 path=/tmp/pytest-of-root/pytest-13/test_finalize_chapter_clears_r0/test-project/chapters/chapter_001.txt _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 191, "{'chapter': 1, 'path': '/tmp/pytest-of-root/pytest-13/test_finalize_chapter_clears_r0/test-project/chapters/chapter_001.txt', 'event': 'finalize_chapter: chapter saved to filesystem', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: embedding generated - (chapter=1 embedding_shape=(1024,) _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 92, "{'chapter': 1, 'embedding_shape': (1024,), 'event': 'finalize_chapter: embedding generated', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to Neo4j - (chapter=1 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 122, "{'chapter': 1, 'event': 'finalize_chapter: chapter saved to Neo4j', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: finalization complete - (chapter=1 word_count=25 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 158, "{'chapter': 1, 'word_count': 25, 'event': 'finalize_chapter: finalization complete', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: starting finalization - (chapter=1 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 54, "{'chapter': 1, 'event': 'finalize_chapter: starting finalization', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to filesystem - (chapter=1 path=/tmp/pytest-of-root/pytest-13/test_finalize_chapter_clears_c0/test-project/chapters/chapter_001.txt _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 191, "{'chapter': 1, 'path': '/tmp/pytest-of-root/pytest-13/test_finalize_chapter_clears_c0/test-project/chapters/chapter_001.txt', 'event': 'finalize_chapter: chapter saved to filesystem', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: embedding generated - (chapter=1 embedding_shape=(1024,) _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 92, "{'chapter': 1, 'embedding_shape': (1024,), 'event': 'finalize_chapter: embedding generated', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to Neo4j - (chapter=1 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 122, "{'chapter': 1, 'event': 'finalize_chapter: chapter saved to Neo4j', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: finalization complete - (chapter=1 word_count=25 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 158, "{'chapter': 1, 'word_count': 25, 'event': 'finalize_chapter: finalization complete', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: starting finalization - (chapter=1 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 54, "{'chapter': 1, 'event': 'finalize_chapter: starting finalization', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to filesystem - (chapter=1 path=/tmp/pytest-of-root/pytest-13/test_finalize_chapter_resets_i0/test-project/chapters/chapter_001.txt _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 191, "{'chapter': 1, 'path': '/tmp/pytest-of-root/pytest-13/test_finalize_chapter_resets_i0/test-project/chapters/chapter_001.txt', 'event': 'finalize_chapter: chapter saved to filesystem', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: embedding generated - (chapter=1 embedding_shape=(1024,) _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 92, "{'chapter': 1, 'embedding_shape': (1024,), 'event': 'finalize_chapter: embedding generated', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to Neo4j - (chapter=1 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 122, "{'chapter': 1, 'event': 'finalize_chapter: chapter saved to Neo4j', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: finalization complete - (chapter=1 word_count=25 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 158, "{'chapter': 1, 'word_count': 25, 'event': 'finalize_chapter: finalization complete', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: starting finalization - (chapter=1 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 54, "{'chapter': 1, 'event': 'finalize_chapter: starting finalization', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to filesystem - (chapter=1 path=/tmp/pytest-of-root/pytest-13/test_finalize_chapter_resets_n0/test-project/chapters/chapter_001.txt _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 191, "{'chapter': 1, 'path': '/tmp/pytest-of-root/pytest-13/test_finalize_chapter_resets_n0/test-project/chapters/chapter_001.txt', 'event': 'finalize_chapter: chapter saved to filesystem', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: embedding generated - (chapter=1 embedding_shape=(1024,) _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 92, "{'chapter': 1, 'embedding_shape': (1024,), 'event': 'finalize_chapter: embedding generated', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to Neo4j - (chapter=1 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 122, "{'chapter': 1, 'event': 'finalize_chapter: chapter saved to Neo4j', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: finalization complete - (chapter=1 word_count=25 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 158, "{'chapter': 1, 'word_count': 25, 'event': 'finalize_chapter: finalization complete', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: starting finalization - (chapter=1 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 54, "{'chapter': 1, 'event': 'finalize_chapter: starting finalization', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to filesystem - (chapter=1 path=/tmp/pytest-of-root/pytest-13/test_finalize_chapter_preserve0/test-project/chapters/chapter_001.txt _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 191, "{'chapter': 1, 'path': '/tmp/pytest-of-root/pytest-13/test_finalize_chapter_preserve0/test-project/chapters/chapter_001.txt', 'event': 'finalize_chapter: chapter saved to filesystem', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: embedding generated - (chapter=1 embedding_shape=(1024,) _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 92, "{'chapter': 1, 'embedding_shape': (1024,), 'event': 'finalize_chapter: embedding generated', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to Neo4j - (chapter=1 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 122, "{'chapter': 1, 'event': 'finalize_chapter: chapter saved to Neo4j', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: finalization complete - (chapter=1 word_count=25 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 158, "{'chapter': 1, 'word_count': 25, 'event': 'finalize_chapter: finalization complete', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: starting finalization - (chapter=1 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 54, "{'chapter': 1, 'event': 'finalize_chapter: starting finalization', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to filesystem - (chapter=1 path=/tmp/pytest-of-root/pytest-13/test_finalize_chapter_includes0/test-project/chapters/chapter_001.txt _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 191, "{'chapter': 1, 'path': '/tmp/pytest-of-root/pytest-13/test_finalize_chapter_includes0/test-project/chapters/chapter_001.txt', 'event': 'finalize_chapter: chapter saved to filesystem', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: embedding generated - (chapter=1 embedding_shape=(1024,) _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 92, "{'chapter': 1, 'embedding_shape': (1024,), 'event': 'finalize_chapter: embedding generated', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to Neo4j - (chapter=1 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 122, "{'chapter': 1, 'event': 'finalize_chapter: chapter saved to Neo4j', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: finalization complete - (chapter=1 word_count=25 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 158, "{'chapter': 1, 'word_count': 25, 'event': 'finalize_chapter: finalization complete', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: starting finalization - (chapter=1 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 54, "{'chapter': 1, 'event': 'finalize_chapter: starting finalization', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to filesystem - (chapter=1 path=/tmp/pytest-of-root/pytest-13/test_finalize_chapter_no_summa0/test-project/chapters/chapter_001.txt _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 191, "{'chapter': 1, 'path': '/tmp/pytest-of-root/pytest-13/test_finalize_chapter_no_summa0/test-project/chapters/chapter_001.txt', 'event': 'finalize_chapter: chapter saved to filesystem', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: embedding generated - (chapter=1 embedding_shape=(1024,) _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 92, "{'chapter': 1, 'embedding_shape': (1024,), 'event': 'finalize_chapter: embedding generated', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to Neo4j - (chapter=1 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 122, "{'chapter': 1, 'event': 'finalize_chapter: chapter saved to Neo4j', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: finalization complete - (chapter=1 word_count=25 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 158, "{'chapter': 1, 'word_count': 25, 'event': 'finalize_chapter: finalization complete', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: starting finalization - (chapter=1 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 54, "{'chapter': 1, 'event': 'finalize_chapter: starting finalization', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to filesystem - (chapter=1 path=/tmp/pytest-of-root/pytest-13/test_finalize_chapter_creates_0/test-project/chapters/chapter_001.txt _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 191, "{'chapter': 1, 'path': '/tmp/pytest-of-root/pytest-13/test_finalize_chapter_creates_0/test-project/chapters/chapter_001.txt', 'event': 'finalize_chapter: chapter saved to filesystem', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: embedding generated - (chapter=1 embedding_shape=(1024,) _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 92, "{'chapter': 1, 'embedding_shape': (1024,), 'event': 'finalize_chapter: embedding generated', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to Neo4j - (chapter=1 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 122, "{'chapter': 1, 'event': 'finalize_chapter: chapter saved to Neo4j', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: finalization complete - (chapter=1 word_count=25 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 158, "{'chapter': 1, 'word_count': 25, 'event': 'finalize_chapter: finalization complete', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: starting finalization - (chapter=1 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 54, "{'chapter': 1, 'event': 'finalize_chapter: starting finalization', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to filesystem - (chapter=1 path=/tmp/pytest-of-root/pytest-13/test_finalize_chapter_correct_0/test-project/chapters/chapter_001.txt _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 191, "{'chapter': 1, 'path': '/tmp/pytest-of-root/pytest-13/test_finalize_chapter_correct_0/test-project/chapters/chapter_001.txt', 'event': 'finalize_chapter: chapter saved to filesystem', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: embedding generated - (chapter=1 embedding_shape=(1024,) _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 92, "{'chapter': 1, 'embedding_shape': (1024,), 'event': 'finalize_chapter: embedding generated', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to Neo4j - (chapter=1 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 122, "{'chapter': 1, 'event': 'finalize_chapter: chapter saved to Neo4j', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: finalization complete - (chapter=1 word_count=25 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 158, "{'chapter': 1, 'word_count': 25, 'event': 'finalize_chapter: finalization complete', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: starting finalization - (chapter=10 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 54, "{'chapter': 10, 'event': 'finalize_chapter: starting finalization', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to filesystem - (chapter=10 path=/tmp/pytest-of-root/pytest-13/test_finalize_chapter_correct_0/test-project/chapters/chapter_010.txt _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 191, "{'chapter': 10, 'path': '/tmp/pytest-of-root/pytest-13/test_finalize_chapter_correct_0/test-project/chapters/chapter_010.txt', 'event': 'finalize_chapter: chapter saved to filesystem', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: embedding generated - (chapter=10 embedding_shape=(1024,) _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 92, "{'chapter': 10, 'embedding_shape': (1024,), 'event': 'finalize_chapter: embedding generated', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to Neo4j - (chapter=10 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 122, "{'chapter': 10, 'event': 'finalize_chapter: chapter saved to Neo4j', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: finalization complete - (chapter=10 word_count=25 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 158, "{'chapter': 10, 'word_count': 25, 'event': 'finalize_chapter: finalization complete', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: starting finalization - (chapter=99 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 54, "{'chapter': 99, 'event': 'finalize_chapter: starting finalization', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to filesystem - (chapter=99 path=/tmp/pytest-of-root/pytest-13/test_finalize_chapter_correct_0/test-project/chapters/chapter_099.txt _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 191, "{'chapter': 99, 'path': '/tmp/pytest-of-root/pytest-13/test_finalize_chapter_correct_0/test-project/chapters/chapter_099.txt', 'event': 'finalize_chapter: chapter saved to filesystem', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: embedding generated - (chapter=99 embedding_shape=(1024,) _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 92, "{'chapter': 99, 'embedding_shape': (1024,), 'event': 'finalize_chapter: embedding generated', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to Neo4j - (chapter=99 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 122, "{'chapter': 99, 'event': 'finalize_chapter: chapter saved to Neo4j', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: finalization complete - (chapter=99 word_count=25 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 158, "{'chapter': 99, 'word_count': 25, 'event': 'finalize_chapter: finalization complete', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: starting finalization - (chapter=1 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 54, "{'chapter': 1, 'event': 'finalize_chapter: starting finalization', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to filesystem - (chapter=1 path=/tmp/pytest-of-root/pytest-13/test_finalize_chapter_preserve1/test-project/chapters/chapter_001.txt _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 191, "{'chapter': 1, 'path': '/tmp/pytest-of-root/pytest-13/test_finalize_chapter_preserve1/test-project/chapters/chapter_001.txt', 'event': 'finalize_chapter: chapter saved to filesystem', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: embedding generated - (chapter=1 embedding_shape=(1024,) _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 92, "{'chapter': 1, 'embedding_shape': (1024,), 'event': 'finalize_chapter: embedding generated', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to Neo4j - (chapter=1 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 122, "{'chapter': 1, 'event': 'finalize_chapter: chapter saved to Neo4j', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: finalization complete - (chapter=1 word_count=25 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 158, "{'chapter': 1, 'word_count': 25, 'event': 'finalize_chapter: finalization complete', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: starting finalization - (chapter=1 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 54, "{'chapter': 1, 'event': 'finalize_chapter: starting finalization', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to filesystem - (chapter=1 path=/tmp/pytest-of-root/pytest-13/test_full_finalization_workflo0/test-project/chapters/chapter_001.txt _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 191, "{'chapter': 1, 'path': '/tmp/pytest-of-root/pytest-13/test_full_finalization_workflo0/test-project/chapters/chapter_001.txt', 'event': 'finalize_chapter: chapter saved to filesystem', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: embedding generated - (chapter=1 embedding_shape=(1024,) _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 92, "{'chapter': 1, 'embedding_shape': (1024,), 'event': 'finalize_chapter: embedding generated', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to Neo4j - (chapter=1 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 122, "{'chapter': 1, 'event': 'finalize_chapter: chapter saved to Neo4j', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: finalization complete - (chapter=1 word_count=25 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 158, "{'chapter': 1, 'word_count': 25, 'event': 'finalize_chapter: finalization complete', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: starting finalization - (chapter=1 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 54, "{'chapter': 1, 'event': 'finalize_chapter: starting finalization', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to filesystem - (chapter=1 path=/tmp/pytest-of-root/pytest-13/test_finalization_ready_for_ne0/test-project/chapters/chapter_001.txt _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 191, "{'chapter': 1, 'path': '/tmp/pytest-of-root/pytest-13/test_finalization_ready_for_ne0/test-project/chapters/chapter_001.txt', 'event': 'finalize_chapter: chapter saved to filesystem', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: embedding generated - (chapter=1 embedding_shape=(1024,) _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 92, "{'chapter': 1, 'embedding_shape': (1024,), 'event': 'finalize_chapter: embedding generated', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: chapter saved to Neo4j - (chapter=1 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 122, "{'chapter': 1, 'event': 'finalize_chapter: chapter saved to Neo4j', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.finalize_node] - info - finalize_chapter: finalization complete - (chapter=1 word_count=25 _record=<LogRecord: core.langgraph.nodes.finalize_node, 20, /home/user/saga/core/langgraph/nodes/finalize_node.py, 158, "{'chapter': 1, 'word_count': 25, 'event': 'finalize_chapter: finalization complete', 'level': 'info', 'logger': 'core.langgraph.nodes.finalize_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.generation_node] - info - generate_chapter: starting generation - (chapter=1 model=test-model _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/user/saga/core/langgraph/nodes/generation_node.py, 53, "{'chapter': 1, 'model': 'test-model', 'event': 'generate_chapter: starting generation', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.generation_node] - info - generate_chapter: calling LLM - (chapter=1 model=test-model max_tokens=16384 prompt_tokens=500 _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/user/saga/core/langgraph/nodes/generation_node.py, 158, "{'chapter': 1, 'model': 'test-model', 'max_tokens': 16384, 'prompt_tokens': 500, 'event': 'generate_chapter: calling LLM', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.generation_node] - info - generate_chapter: generation complete - (chapter=1 word_count=40 tokens_used=700 _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/user/saga/core/langgraph/nodes/generation_node.py, 194, "{'chapter': 1, 'word_count': 40, 'tokens_used': 700, 'event': 'generate_chapter: generation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.generation_node] - info - generate_chapter: starting generation - (chapter=1 model=test-model _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/user/saga/core/langgraph/nodes/generation_node.py, 53, "{'chapter': 1, 'model': 'test-model', 'event': 'generate_chapter: starting generation', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.generation_node] - error - generate_chapter: no plot outline available - (_record=<LogRecord: core.langgraph.nodes.generation_node, 40, /home/user/saga/core/langgraph/nodes/generation_node.py, 61, "{'event': 'generate_chapter: no plot outline available', 'level': 'error', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.generation_node] - info - generate_chapter: starting generation - (chapter=1 model=test-model _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/user/saga/core/langgraph/nodes/generation_node.py, 53, "{'chapter': 1, 'model': 'test-model', 'event': 'generate_chapter: starting generation', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.generation_node] - info - generate_chapter: calling LLM - (chapter=1 model=test-model max_tokens=16384 prompt_tokens=500 _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/user/saga/core/langgraph/nodes/generation_node.py, 158, "{'chapter': 1, 'model': 'test-model', 'max_tokens': 16384, 'prompt_tokens': 500, 'event': 'generate_chapter: calling LLM', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.generation_node] - info - generate_chapter: generation complete - (chapter=1 word_count=40 tokens_used=700 _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/user/saga/core/langgraph/nodes/generation_node.py, 194, "{'chapter': 1, 'word_count': 40, 'tokens_used': 700, 'event': 'generate_chapter: generation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.generation_node] - info - generate_chapter: starting generation - (chapter=1 model=test-model _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/user/saga/core/langgraph/nodes/generation_node.py, 53, "{'chapter': 1, 'model': 'test-model', 'event': 'generate_chapter: starting generation', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.generation_node] - info - generate_chapter: calling LLM - (chapter=1 model=test-model max_tokens=16384 prompt_tokens=500 _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/user/saga/core/langgraph/nodes/generation_node.py, 158, "{'chapter': 1, 'model': 'test-model', 'max_tokens': 16384, 'prompt_tokens': 500, 'event': 'generate_chapter: calling LLM', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.generation_node] - error - generate_chapter: LLM returned empty text - (chapter=1 _record=<LogRecord: core.langgraph.nodes.generation_node, 40, /home/user/saga/core/langgraph/nodes/generation_node.py, 181, "{'chapter': 1, 'event': 'generate_chapter: LLM returned empty text', 'level': 'error', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.generation_node] - info - generate_chapter: starting generation - (chapter=1 model=test-model _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/user/saga/core/langgraph/nodes/generation_node.py, 53, "{'chapter': 1, 'model': 'test-model', 'event': 'generate_chapter: starting generation', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.generation_node] - info - generate_chapter: calling LLM - (chapter=1 model=test-model max_tokens=16384 prompt_tokens=500 _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/user/saga/core/langgraph/nodes/generation_node.py, 158, "{'chapter': 1, 'model': 'test-model', 'max_tokens': 16384, 'prompt_tokens': 500, 'event': 'generate_chapter: calling LLM', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.generation_node] - error - generate_chapter: exception during generation - (chapter=1 error=LLM service unavailable exc_info=True _record=<LogRecord: core.langgraph.nodes.generation_node, 40, /home/user/saga/core/langgraph/nodes/generation_node.py, 213, "{'chapter': 1, 'error': 'LLM service unavailable', 'exc_info': True, 'event': 'generate_chapter: exception during generation', 'level': 'error', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.generation_node] - info - generate_chapter: starting generation - (chapter=1 model=test-model _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/user/saga/core/langgraph/nodes/generation_node.py, 53, "{'chapter': 1, 'model': 'test-model', 'event': 'generate_chapter: starting generation', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.generation_node] - error - generate_chapter: token budget exceeded - (error=Insufficient token space for generation. Prompt tokens: 150000, available: -109240 _record=<LogRecord: core.langgraph.nodes.generation_node, 40, /home/user/saga/core/langgraph/nodes/generation_node.py, 150, "{'error': 'Insufficient token space for generation. Prompt tokens: 150000, available: -109240', 'event': 'generate_chapter: token budget exceeded', 'level': 'error', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.generation_node] - info - generate_chapter: starting generation - (chapter=3 model=test-model _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/user/saga/core/langgraph/nodes/generation_node.py, 53, "{'chapter': 3, 'model': 'test-model', 'event': 'generate_chapter: starting generation', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.generation_node] - info - generate_chapter: calling LLM - (chapter=3 model=test-model max_tokens=16384 prompt_tokens=500 _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/user/saga/core/langgraph/nodes/generation_node.py, 158, "{'chapter': 3, 'model': 'test-model', 'max_tokens': 16384, 'prompt_tokens': 500, 'event': 'generate_chapter: calling LLM', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.generation_node] - info - generate_chapter: generation complete - (chapter=3 word_count=40 tokens_used=700 _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/user/saga/core/langgraph/nodes/generation_node.py, 194, "{'chapter': 3, 'word_count': 40, 'tokens_used': 700, 'event': 'generate_chapter: generation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.generation_node] - info - generate_chapter: starting generation - (chapter=1 model=test-model _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/user/saga/core/langgraph/nodes/generation_node.py, 53, "{'chapter': 1, 'model': 'test-model', 'event': 'generate_chapter: starting generation', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.generation_node] - info - generate_chapter: calling LLM - (chapter=1 model=test-model max_tokens=16384 prompt_tokens=500 _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/user/saga/core/langgraph/nodes/generation_node.py, 158, "{'chapter': 1, 'model': 'test-model', 'max_tokens': 16384, 'prompt_tokens': 500, 'event': 'generate_chapter: calling LLM', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:43 - [core.langgraph.nodes.generation_node] - info - generate_chapter: generation complete - (chapter=1 word_count=40 tokens_used=700 _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/user/saga/core/langgraph/nodes/generation_node.py, 194, "{'chapter': 1, 'word_count': 40, 'tokens_used': 700, 'event': 'generate_chapter: generation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:41:43'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.generation_node] - info - generate_chapter: starting generation - (chapter=1 model=test-model _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/user/saga/core/langgraph/nodes/generation_node.py, 53, "{'chapter': 1, 'model': 'test-model', 'event': 'generate_chapter: starting generation', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.generation_node] - info - generate_chapter: calling LLM - (chapter=1 model=test-model max_tokens=16384 prompt_tokens=500 _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/user/saga/core/langgraph/nodes/generation_node.py, 158, "{'chapter': 1, 'model': 'test-model', 'max_tokens': 16384, 'prompt_tokens': 500, 'event': 'generate_chapter: calling LLM', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.generation_node] - info - generate_chapter: generation complete - (chapter=1 word_count=10 tokens_used=0 _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/user/saga/core/langgraph/nodes/generation_node.py, 194, "{'chapter': 1, 'word_count': 10, 'tokens_used': 0, 'event': 'generate_chapter: generation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.generation_node] - info - generate_chapter: starting generation - (chapter=1 model=test-model _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/user/saga/core/langgraph/nodes/generation_node.py, 53, "{'chapter': 1, 'model': 'test-model', 'event': 'generate_chapter: starting generation', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.generation_node] - info - generate_chapter: calling LLM - (chapter=1 model=test-model max_tokens=16384 prompt_tokens=500 _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/user/saga/core/langgraph/nodes/generation_node.py, 158, "{'chapter': 1, 'model': 'test-model', 'max_tokens': 16384, 'prompt_tokens': 500, 'event': 'generate_chapter: calling LLM', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.generation_node] - info - generate_chapter: generation complete - (chapter=1 word_count=40 tokens_used=700 _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/user/saga/core/langgraph/nodes/generation_node.py, 194, "{'chapter': 1, 'word_count': 40, 'tokens_used': 700, 'event': 'generate_chapter: generation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.generation_node] - info - generate_chapter: starting generation - (chapter=1 model=test-model _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/user/saga/core/langgraph/nodes/generation_node.py, 53, "{'chapter': 1, 'model': 'test-model', 'event': 'generate_chapter: starting generation', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.generation_node] - info - generate_chapter: calling LLM - (chapter=1 model=test-model max_tokens=16384 prompt_tokens=500 _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/user/saga/core/langgraph/nodes/generation_node.py, 158, "{'chapter': 1, 'model': 'test-model', 'max_tokens': 16384, 'prompt_tokens': 500, 'event': 'generate_chapter: calling LLM', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.generation_node] - info - generate_chapter: generation complete - (chapter=1 word_count=40 tokens_used=700 _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/user/saga/core/langgraph/nodes/generation_node.py, 194, "{'chapter': 1, 'word_count': 40, 'tokens_used': 700, 'event': 'generate_chapter: generation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.generation_node] - info - generate_chapter: starting generation - (chapter=1 model=test-model _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/user/saga/core/langgraph/nodes/generation_node.py, 53, "{'chapter': 1, 'model': 'test-model', 'event': 'generate_chapter: starting generation', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.generation_node] - info - generate_chapter: calling LLM - (chapter=1 model=test-model max_tokens=16384 prompt_tokens=500 _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/user/saga/core/langgraph/nodes/generation_node.py, 158, "{'chapter': 1, 'model': 'test-model', 'max_tokens': 16384, 'prompt_tokens': 500, 'event': 'generate_chapter: calling LLM', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.generation_node] - info - generate_chapter: generation complete - (chapter=1 word_count=40 tokens_used=700 _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/user/saga/core/langgraph/nodes/generation_node.py, 194, "{'chapter': 1, 'word_count': 40, 'tokens_used': 700, 'event': 'generate_chapter: generation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.generation_node] - info - generate_chapter: starting generation - (chapter=1 model=test-model _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/user/saga/core/langgraph/nodes/generation_node.py, 53, "{'chapter': 1, 'model': 'test-model', 'event': 'generate_chapter: starting generation', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.generation_node] - info - generate_chapter: calling LLM - (chapter=1 model=test-model max_tokens=16384 prompt_tokens=500 _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/user/saga/core/langgraph/nodes/generation_node.py, 158, "{'chapter': 1, 'model': 'test-model', 'max_tokens': 16384, 'prompt_tokens': 500, 'event': 'generate_chapter: calling LLM', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.generation_node] - info - generate_chapter: generation complete - (chapter=1 word_count=40 tokens_used=700 _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/user/saga/core/langgraph/nodes/generation_node.py, 194, "{'chapter': 1, 'word_count': 40, 'tokens_used': 700, 'event': 'generate_chapter: generation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.generation_node] - info - generate_chapter: starting generation - (chapter=1 model=qwen3-a3b _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/user/saga/core/langgraph/nodes/generation_node.py, 53, "{'chapter': 1, 'model': 'qwen3-a3b', 'event': 'generate_chapter: starting generation', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.generation_node] - info - generate_chapter: calling LLM - (chapter=1 model=qwen3-a3b max_tokens=16384 prompt_tokens=500 _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/user/saga/core/langgraph/nodes/generation_node.py, 158, "{'chapter': 1, 'model': 'qwen3-a3b', 'max_tokens': 16384, 'prompt_tokens': 500, 'event': 'generate_chapter: calling LLM', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.generation_node] - info - generate_chapter: generation complete - (chapter=1 word_count=40 tokens_used=700 _record=<LogRecord: core.langgraph.nodes.generation_node, 20, /home/user/saga/core/langgraph/nodes/generation_node.py, 194, "{'chapter': 1, 'word_count': 40, 'tokens_used': 700, 'event': 'generate_chapter: generation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.generation_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.graph_context] - info - build_context_from_graph - (chapter=5 lookback=5 char_count=auto _record=<LogRecord: core.langgraph.graph_context, 20, /home/user/saga/core/langgraph/graph_context.py, 71, "{'chapter': 5, 'lookback': 5, 'char_count': 'auto', 'event': 'build_context_from_graph', 'level': 'info', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.graph_context] - info - build_context_from_graph: context built - (characters=0 world_items=0 relationships=0 summaries=0 _record=<LogRecord: core.langgraph.graph_context, 20, /home/user/saga/core/langgraph/graph_context.py, 131, "{'characters': 0, 'world_items': 0, 'relationships': 0, 'summaries': 0, 'event': 'build_context_from_graph: context built', 'level': 'info', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.graph_context] - info - build_context_from_graph - (chapter=5 lookback=5 char_count=1 _record=<LogRecord: core.langgraph.graph_context, 20, /home/user/saga/core/langgraph/graph_context.py, 71, "{'chapter': 5, 'lookback': 5, 'char_count': 1, 'event': 'build_context_from_graph', 'level': 'info', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.graph_context] - info - build_context_from_graph: context built - (characters=1 world_items=0 relationships=0 summaries=0 _record=<LogRecord: core.langgraph.graph_context, 20, /home/user/saga/core/langgraph/graph_context.py, 131, "{'characters': 1, 'world_items': 0, 'relationships': 0, 'summaries': 0, 'event': 'build_context_from_graph: context built', 'level': 'info', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.graph_context] - info - build_context_from_graph - (chapter=5 lookback=5 char_count=auto _record=<LogRecord: core.langgraph.graph_context, 20, /home/user/saga/core/langgraph/graph_context.py, 71, "{'chapter': 5, 'lookback': 5, 'char_count': 'auto', 'event': 'build_context_from_graph', 'level': 'info', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.graph_context] - info - build_context_from_graph: context built - (characters=0 world_items=0 relationships=0 summaries=0 _record=<LogRecord: core.langgraph.graph_context, 20, /home/user/saga/core/langgraph/graph_context.py, 131, "{'characters': 0, 'world_items': 0, 'relationships': 0, 'summaries': 0, 'event': 'build_context_from_graph: context built', 'level': 'info', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.graph_context] - info - build_context_from_graph - (chapter=5 lookback=5 char_count=auto _record=<LogRecord: core.langgraph.graph_context, 20, /home/user/saga/core/langgraph/graph_context.py, 71, "{'chapter': 5, 'lookback': 5, 'char_count': 'auto', 'event': 'build_context_from_graph', 'level': 'info', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.graph_context] - error - build_context_from_graph: error building context - (error=Query error chapter=5 exc_info=True _record=<LogRecord: core.langgraph.graph_context, 40, /home/user/saga/core/langgraph/graph_context.py, 142, "{'error': 'Query error', 'chapter': 5, 'exc_info': True, 'event': 'build_context_from_graph: error building context', 'level': 'error', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.graph_context] - warning - get_key_events: error retrieving events (returning empty list) - (error=Query error chapter=5 start_chapter=1 exc_info=True _record=<LogRecord: core.langgraph.graph_context, 30, /home/user/saga/core/langgraph/graph_context.py, 445, "{'error': 'Query error', 'chapter': 5, 'start_chapter': 1, 'exc_info': True, 'event': 'get_key_events: error retrieving events (returning empty list)', 'level': 'warning', 'logger': 'core.langgraph.graph_context', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise_or_continue: routing decision - (needs_revision=False iteration=0 max_iterations=3 force_continue=False _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 220, "{'needs_revision': False, 'iteration': 0, 'max_iterations': 3, 'force_continue': False, 'event': 'should_revise_or_continue: routing decision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise_or_continue: no revision needed, routing to summarize - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 252, "{'event': 'should_revise_or_continue: no revision needed, routing to summarize', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise_or_continue: routing decision - (needs_revision=True iteration=0 max_iterations=3 force_continue=False _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 220, "{'needs_revision': True, 'iteration': 0, 'max_iterations': 3, 'force_continue': False, 'event': 'should_revise_or_continue: routing decision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise_or_continue: revision needed, routing to revise node - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 246, "{'event': 'should_revise_or_continue: revision needed, routing to revise node', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise_or_continue: routing decision - (needs_revision=True iteration=3 max_iterations=3 force_continue=False _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 220, "{'needs_revision': True, 'iteration': 3, 'max_iterations': 3, 'force_continue': False, 'event': 'should_revise_or_continue: routing decision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - warning - should_revise_or_continue: max iterations reached, routing to summarize - (iteration_count=3 max_iterations=3 _record=<LogRecord: core.langgraph.workflow, 30, /home/user/saga/core/langgraph/workflow.py, 237, "{'iteration_count': 3, 'max_iterations': 3, 'event': 'should_revise_or_continue: max iterations reached, routing to summarize', 'level': 'warning', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise_or_continue: routing decision - (needs_revision=True iteration=0 max_iterations=3 force_continue=True _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 220, "{'needs_revision': True, 'iteration': 0, 'max_iterations': 3, 'force_continue': True, 'event': 'should_revise_or_continue: routing decision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise_or_continue: force_continue enabled, routing to summarize - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 230, "{'event': 'should_revise_or_continue: force_continue enabled, routing to summarize', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise_or_continue: routing decision - (needs_revision=True iteration=1 max_iterations=3 force_continue=False _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 220, "{'needs_revision': True, 'iteration': 1, 'max_iterations': 3, 'force_continue': False, 'event': 'should_revise_or_continue: routing decision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise_or_continue: revision needed, routing to revise node - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 246, "{'event': 'should_revise_or_continue: revision needed, routing to revise node', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase2_graph: building complete workflow graph - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 281, "{'event': 'create_phase2_graph: building complete workflow graph', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase2_graph: graph built successfully - (nodes=['generate', 'extract', 'commit', 'validate', 'revise', 'summarize', 'finalize'] entry_point=generate _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 321, "{'nodes': ['generate', 'extract', 'commit', 'validate', 'revise', 'summarize', 'finalize'], 'entry_point': 'generate', 'event': 'create_phase2_graph: graph built successfully', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase2_graph: compiling without checkpointing - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 340, "{'event': 'create_phase2_graph: compiling without checkpointing', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise_or_continue: routing decision - (needs_revision=False iteration=0 max_iterations=3 force_continue=False _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 220, "{'needs_revision': False, 'iteration': 0, 'max_iterations': 3, 'force_continue': False, 'event': 'should_revise_or_continue: routing decision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise_or_continue: no revision needed, routing to summarize - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 252, "{'event': 'should_revise_or_continue: no revision needed, routing to summarize', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase2_graph: building complete workflow graph - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 281, "{'event': 'create_phase2_graph: building complete workflow graph', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase2_graph: graph built successfully - (nodes=['generate', 'extract', 'commit', 'validate', 'revise', 'summarize', 'finalize'] entry_point=generate _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 321, "{'nodes': ['generate', 'extract', 'commit', 'validate', 'revise', 'summarize', 'finalize'], 'entry_point': 'generate', 'event': 'create_phase2_graph: graph built successfully', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase2_graph: compiling without checkpointing - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 340, "{'event': 'create_phase2_graph: compiling without checkpointing', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise_or_continue: routing decision - (needs_revision=True iteration=0 max_iterations=3 force_continue=False _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 220, "{'needs_revision': True, 'iteration': 0, 'max_iterations': 3, 'force_continue': False, 'event': 'should_revise_or_continue: routing decision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise_or_continue: revision needed, routing to revise node - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 246, "{'event': 'should_revise_or_continue: revision needed, routing to revise node', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise_or_continue: routing decision - (needs_revision=False iteration=1 max_iterations=3 force_continue=False _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 220, "{'needs_revision': False, 'iteration': 1, 'max_iterations': 3, 'force_continue': False, 'event': 'should_revise_or_continue: routing decision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise_or_continue: no revision needed, routing to summarize - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 252, "{'event': 'should_revise_or_continue: no revision needed, routing to summarize', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase2_graph: building complete workflow graph - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 281, "{'event': 'create_phase2_graph: building complete workflow graph', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase2_graph: graph built successfully - (nodes=['generate', 'extract', 'commit', 'validate', 'revise', 'summarize', 'finalize'] entry_point=generate _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 321, "{'nodes': ['generate', 'extract', 'commit', 'validate', 'revise', 'summarize', 'finalize'], 'entry_point': 'generate', 'event': 'create_phase2_graph: graph built successfully', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase2_graph: compiling without checkpointing - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 340, "{'event': 'create_phase2_graph: compiling without checkpointing', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise_or_continue: routing decision - (needs_revision=True iteration=0 max_iterations=2 force_continue=False _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 220, "{'needs_revision': True, 'iteration': 0, 'max_iterations': 2, 'force_continue': False, 'event': 'should_revise_or_continue: routing decision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise_or_continue: revision needed, routing to revise node - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 246, "{'event': 'should_revise_or_continue: revision needed, routing to revise node', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise_or_continue: routing decision - (needs_revision=True iteration=1 max_iterations=2 force_continue=False _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 220, "{'needs_revision': True, 'iteration': 1, 'max_iterations': 2, 'force_continue': False, 'event': 'should_revise_or_continue: routing decision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise_or_continue: revision needed, routing to revise node - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 246, "{'event': 'should_revise_or_continue: revision needed, routing to revise node', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise_or_continue: routing decision - (needs_revision=True iteration=2 max_iterations=2 force_continue=False _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 220, "{'needs_revision': True, 'iteration': 2, 'max_iterations': 2, 'force_continue': False, 'event': 'should_revise_or_continue: routing decision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - warning - should_revise_or_continue: max iterations reached, routing to summarize - (iteration_count=2 max_iterations=2 _record=<LogRecord: core.langgraph.workflow, 30, /home/user/saga/core/langgraph/workflow.py, 237, "{'iteration_count': 2, 'max_iterations': 2, 'event': 'should_revise_or_continue: max iterations reached, routing to summarize', 'level': 'warning', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase2_graph: building complete workflow graph - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 281, "{'event': 'create_phase2_graph: building complete workflow graph', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase2_graph: graph built successfully - (nodes=['generate', 'extract', 'commit', 'validate', 'revise', 'summarize', 'finalize'] entry_point=generate _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 321, "{'nodes': ['generate', 'extract', 'commit', 'validate', 'revise', 'summarize', 'finalize'], 'entry_point': 'generate', 'event': 'create_phase2_graph: graph built successfully', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase2_graph: compiling without checkpointing - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 340, "{'event': 'create_phase2_graph: compiling without checkpointing', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise_or_continue: routing decision - (needs_revision=True iteration=0 max_iterations=3 force_continue=True _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 220, "{'needs_revision': True, 'iteration': 0, 'max_iterations': 3, 'force_continue': True, 'event': 'should_revise_or_continue: routing decision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise_or_continue: force_continue enabled, routing to summarize - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 230, "{'event': 'should_revise_or_continue: force_continue enabled, routing to summarize', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase2_graph: building complete workflow graph - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 281, "{'event': 'create_phase2_graph: building complete workflow graph', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase2_graph: graph built successfully - (nodes=['generate', 'extract', 'commit', 'validate', 'revise', 'summarize', 'finalize'] entry_point=generate _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 321, "{'nodes': ['generate', 'extract', 'commit', 'validate', 'revise', 'summarize', 'finalize'], 'entry_point': 'generate', 'event': 'create_phase2_graph: graph built successfully', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase2_graph: compiling without checkpointing - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 340, "{'event': 'create_phase2_graph: compiling without checkpointing', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise_or_continue: routing decision - (needs_revision=False iteration=0 max_iterations=3 force_continue=False _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 220, "{'needs_revision': False, 'iteration': 0, 'max_iterations': 3, 'force_continue': False, 'event': 'should_revise_or_continue: routing decision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise_or_continue: no revision needed, routing to summarize - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 252, "{'event': 'should_revise_or_continue: no revision needed, routing to summarize', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase2_graph: building complete workflow graph - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 281, "{'event': 'create_phase2_graph: building complete workflow graph', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase2_graph: graph built successfully - (nodes=['generate', 'extract', 'commit', 'validate', 'revise', 'summarize', 'finalize'] entry_point=generate _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 321, "{'nodes': ['generate', 'extract', 'commit', 'validate', 'revise', 'summarize', 'finalize'], 'entry_point': 'generate', 'event': 'create_phase2_graph: graph built successfully', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase2_graph: compiling without checkpointing - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 340, "{'event': 'create_phase2_graph: compiling without checkpointing', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise_or_continue: routing decision - (needs_revision=False iteration=0 max_iterations=3 force_continue=False _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 220, "{'needs_revision': False, 'iteration': 0, 'max_iterations': 3, 'force_continue': False, 'event': 'should_revise_or_continue: routing decision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise_or_continue: no revision needed, routing to summarize - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 252, "{'event': 'should_revise_or_continue: no revision needed, routing to summarize', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase2_graph: building complete workflow graph - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 281, "{'event': 'create_phase2_graph: building complete workflow graph', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase2_graph: graph built successfully - (nodes=['generate', 'extract', 'commit', 'validate', 'revise', 'summarize', 'finalize'] entry_point=generate _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 321, "{'nodes': ['generate', 'extract', 'commit', 'validate', 'revise', 'summarize', 'finalize'], 'entry_point': 'generate', 'event': 'create_phase2_graph: graph built successfully', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase2_graph: compiling without checkpointing - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 340, "{'event': 'create_phase2_graph: compiling without checkpointing', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise_or_continue: routing decision - (needs_revision=True iteration=0 max_iterations=3 force_continue=False _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 220, "{'needs_revision': True, 'iteration': 0, 'max_iterations': 3, 'force_continue': False, 'event': 'should_revise_or_continue: routing decision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise_or_continue: revision needed, routing to revise node - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 246, "{'event': 'should_revise_or_continue: revision needed, routing to revise node', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise_or_continue: routing decision - (needs_revision=True iteration=1 max_iterations=3 force_continue=False _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 220, "{'needs_revision': True, 'iteration': 1, 'max_iterations': 3, 'force_continue': False, 'event': 'should_revise_or_continue: routing decision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise_or_continue: revision needed, routing to revise node - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 246, "{'event': 'should_revise_or_continue: revision needed, routing to revise node', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise_or_continue: routing decision - (needs_revision=False iteration=2 max_iterations=3 force_continue=False _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 220, "{'needs_revision': False, 'iteration': 2, 'max_iterations': 3, 'force_continue': False, 'event': 'should_revise_or_continue: routing decision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise_or_continue: no revision needed, routing to summarize - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 252, "{'event': 'should_revise_or_continue: no revision needed, routing to summarize', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase2_graph: building complete workflow graph - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 281, "{'event': 'create_phase2_graph: building complete workflow graph', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase2_graph: graph built successfully - (nodes=['generate', 'extract', 'commit', 'validate', 'revise', 'summarize', 'finalize'] entry_point=generate _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 321, "{'nodes': ['generate', 'extract', 'commit', 'validate', 'revise', 'summarize', 'finalize'], 'entry_point': 'generate', 'event': 'create_phase2_graph: graph built successfully', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase2_graph: compiling without checkpointing - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 340, "{'event': 'create_phase2_graph: compiling without checkpointing', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise_or_continue: routing decision - (needs_revision=False iteration=0 max_iterations=3 force_continue=False _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 220, "{'needs_revision': False, 'iteration': 0, 'max_iterations': 3, 'force_continue': False, 'event': 'should_revise_or_continue: routing decision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise_or_continue: no revision needed, routing to summarize - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 252, "{'event': 'should_revise_or_continue: no revision needed, routing to summarize', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase2_graph: building complete workflow graph - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 281, "{'event': 'create_phase2_graph: building complete workflow graph', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase2_graph: graph built successfully - (nodes=['generate', 'extract', 'commit', 'validate', 'revise', 'summarize', 'finalize'] entry_point=generate _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 321, "{'nodes': ['generate', 'extract', 'commit', 'validate', 'revise', 'summarize', 'finalize'], 'entry_point': 'generate', 'event': 'create_phase2_graph: graph built successfully', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase2_graph: compiling without checkpointing - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 340, "{'event': 'create_phase2_graph: compiling without checkpointing', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: starting revision - (chapter=1 iteration=0 contradictions=2 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 54, "{'chapter': 1, 'iteration': 0, 'contradictions': 2, 'event': 'revise_chapter: starting revision', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: calling LLM for revision - (chapter=1 model=test-revision-model iteration=1 max_tokens=16384 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 138, "{'chapter': 1, 'model': 'test-revision-model', 'iteration': 1, 'max_tokens': 16384, 'event': 'revise_chapter: calling LLM for revision', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: revision complete - (chapter=1 iteration=1 word_count=69 tokens_used=950 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 176, "{'chapter': 1, 'iteration': 1, 'word_count': 69, 'tokens_used': 950, 'event': 'revise_chapter: revision complete', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: starting revision - (chapter=1 iteration=3 contradictions=2 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 54, "{'chapter': 1, 'iteration': 3, 'contradictions': 2, 'event': 'revise_chapter: starting revision', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - warning - revise_chapter: max iterations reached - (iteration_count=3 max_iterations=3 _record=<LogRecord: core.langgraph.nodes.revision_node, 30, /home/user/saga/core/langgraph/nodes/revision_node.py, 66, "{'iteration_count': 3, 'max_iterations': 3, 'event': 'revise_chapter: max iterations reached', 'level': 'warning', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: starting revision - (chapter=1 iteration=0 contradictions=2 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 54, "{'chapter': 1, 'iteration': 0, 'contradictions': 2, 'event': 'revise_chapter: starting revision', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - error - revise_chapter: no draft text to revise - (_record=<LogRecord: core.langgraph.nodes.revision_node, 40, /home/user/saga/core/langgraph/nodes/revision_node.py, 80, "{'event': 'revise_chapter: no draft text to revise', 'level': 'error', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: starting revision - (chapter=1 iteration=0 contradictions=2 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 54, "{'chapter': 1, 'iteration': 0, 'contradictions': 2, 'event': 'revise_chapter: starting revision', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: calling LLM for revision - (chapter=1 model=test-revision-model iteration=1 max_tokens=16384 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 138, "{'chapter': 1, 'model': 'test-revision-model', 'iteration': 1, 'max_tokens': 16384, 'event': 'revise_chapter: calling LLM for revision', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - error - revise_chapter: LLM returned empty text - (chapter=1 _record=<LogRecord: core.langgraph.nodes.revision_node, 40, /home/user/saga/core/langgraph/nodes/revision_node.py, 163, "{'chapter': 1, 'event': 'revise_chapter: LLM returned empty text', 'level': 'error', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: starting revision - (chapter=1 iteration=0 contradictions=2 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 54, "{'chapter': 1, 'iteration': 0, 'contradictions': 2, 'event': 'revise_chapter: starting revision', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: calling LLM for revision - (chapter=1 model=test-revision-model iteration=1 max_tokens=16384 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 138, "{'chapter': 1, 'model': 'test-revision-model', 'iteration': 1, 'max_tokens': 16384, 'event': 'revise_chapter: calling LLM for revision', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - error - revise_chapter: exception during revision - (chapter=1 error=LLM service unavailable exc_info=True _record=<LogRecord: core.langgraph.nodes.revision_node, 40, /home/user/saga/core/langgraph/nodes/revision_node.py, 197, "{'chapter': 1, 'error': 'LLM service unavailable', 'exc_info': True, 'event': 'revise_chapter: exception during revision', 'level': 'error', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: starting revision - (chapter=1 iteration=0 contradictions=2 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 54, "{'chapter': 1, 'iteration': 0, 'contradictions': 2, 'event': 'revise_chapter: starting revision', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - error - revise_chapter: token budget exceeded - (error=Insufficient token space for revision. Prompt tokens: 150000, available: -109240 _record=<LogRecord: core.langgraph.nodes.revision_node, 40, /home/user/saga/core/langgraph/nodes/revision_node.py, 130, "{'error': 'Insufficient token space for revision. Prompt tokens: 150000, available: -109240', 'event': 'revise_chapter: token budget exceeded', 'level': 'error', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: starting revision - (chapter=1 iteration=0 contradictions=2 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 54, "{'chapter': 1, 'iteration': 0, 'contradictions': 2, 'event': 'revise_chapter: starting revision', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: calling LLM for revision - (chapter=1 model=test-revision-model iteration=1 max_tokens=16384 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 138, "{'chapter': 1, 'model': 'test-revision-model', 'iteration': 1, 'max_tokens': 16384, 'event': 'revise_chapter: calling LLM for revision', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: revision complete - (chapter=1 iteration=1 word_count=69 tokens_used=950 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 176, "{'chapter': 1, 'iteration': 1, 'word_count': 69, 'tokens_used': 950, 'event': 'revise_chapter: revision complete', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: starting revision - (chapter=1 iteration=0 contradictions=2 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 54, "{'chapter': 1, 'iteration': 0, 'contradictions': 2, 'event': 'revise_chapter: starting revision', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: calling LLM for revision - (chapter=1 model=test-revision-model iteration=1 max_tokens=16384 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 138, "{'chapter': 1, 'model': 'test-revision-model', 'iteration': 1, 'max_tokens': 16384, 'event': 'revise_chapter: calling LLM for revision', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: revision complete - (chapter=1 iteration=1 word_count=69 tokens_used=950 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 176, "{'chapter': 1, 'iteration': 1, 'word_count': 69, 'tokens_used': 950, 'event': 'revise_chapter: revision complete', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: starting revision - (chapter=1 iteration=1 contradictions=2 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 54, "{'chapter': 1, 'iteration': 1, 'contradictions': 2, 'event': 'revise_chapter: starting revision', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: calling LLM for revision - (chapter=1 model=test-revision-model iteration=2 max_tokens=16384 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 138, "{'chapter': 1, 'model': 'test-revision-model', 'iteration': 2, 'max_tokens': 16384, 'event': 'revise_chapter: calling LLM for revision', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: revision complete - (chapter=1 iteration=2 word_count=69 tokens_used=950 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 176, "{'chapter': 1, 'iteration': 2, 'word_count': 69, 'tokens_used': 950, 'event': 'revise_chapter: revision complete', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: starting revision - (chapter=1 iteration=0 contradictions=2 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 54, "{'chapter': 1, 'iteration': 0, 'contradictions': 2, 'event': 'revise_chapter: starting revision', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: calling LLM for revision - (chapter=1 model=test-revision-model iteration=1 max_tokens=16384 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 138, "{'chapter': 1, 'model': 'test-revision-model', 'iteration': 1, 'max_tokens': 16384, 'event': 'revise_chapter: calling LLM for revision', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: revision complete - (chapter=1 iteration=1 word_count=69 tokens_used=950 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 176, "{'chapter': 1, 'iteration': 1, 'word_count': 69, 'tokens_used': 950, 'event': 'revise_chapter: revision complete', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: starting revision - (chapter=1 iteration=0 contradictions=2 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 54, "{'chapter': 1, 'iteration': 0, 'contradictions': 2, 'event': 'revise_chapter: starting revision', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: calling LLM for revision - (chapter=1 model=test-revision-model iteration=1 max_tokens=16384 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 138, "{'chapter': 1, 'model': 'test-revision-model', 'iteration': 1, 'max_tokens': 16384, 'event': 'revise_chapter: calling LLM for revision', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: revision complete - (chapter=1 iteration=1 word_count=10 tokens_used=0 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 176, "{'chapter': 1, 'iteration': 1, 'word_count': 10, 'tokens_used': 0, 'event': 'revise_chapter: revision complete', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: starting revision - (chapter=1 iteration=0 contradictions=2 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 54, "{'chapter': 1, 'iteration': 0, 'contradictions': 2, 'event': 'revise_chapter: starting revision', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - warning - revise_chapter: failed to fetch KG facts - (error=KG query failed _record=<LogRecord: core.langgraph.nodes.revision_node, 30, /home/user/saga/core/langgraph/nodes/revision_node.py, 268, "{'error': 'KG query failed', 'event': 'revise_chapter: failed to fetch KG facts', 'level': 'warning', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: calling LLM for revision - (chapter=1 model=test-revision-model iteration=1 max_tokens=16384 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 138, "{'chapter': 1, 'model': 'test-revision-model', 'iteration': 1, 'max_tokens': 16384, 'event': 'revise_chapter: calling LLM for revision', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: revision complete - (chapter=1 iteration=1 word_count=69 tokens_used=950 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 176, "{'chapter': 1, 'iteration': 1, 'word_count': 69, 'tokens_used': 950, 'event': 'revise_chapter: revision complete', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: starting revision - (chapter=1 iteration=0 contradictions=2 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 54, "{'chapter': 1, 'iteration': 0, 'contradictions': 2, 'event': 'revise_chapter: starting revision', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: calling LLM for revision - (chapter=1 model=test-revision-model iteration=1 max_tokens=16384 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 138, "{'chapter': 1, 'model': 'test-revision-model', 'iteration': 1, 'max_tokens': 16384, 'event': 'revise_chapter: calling LLM for revision', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: revision complete - (chapter=1 iteration=1 word_count=69 tokens_used=950 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 176, "{'chapter': 1, 'iteration': 1, 'word_count': 69, 'tokens_used': 950, 'event': 'revise_chapter: revision complete', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: starting revision - (chapter=1 iteration=0 contradictions=2 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 54, "{'chapter': 1, 'iteration': 0, 'contradictions': 2, 'event': 'revise_chapter: starting revision', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: calling LLM for revision - (chapter=1 model=test-revision-model iteration=1 max_tokens=16384 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 138, "{'chapter': 1, 'model': 'test-revision-model', 'iteration': 1, 'max_tokens': 16384, 'event': 'revise_chapter: calling LLM for revision', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: revision complete - (chapter=1 iteration=1 word_count=69 tokens_used=950 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 176, "{'chapter': 1, 'iteration': 1, 'word_count': 69, 'tokens_used': 950, 'event': 'revise_chapter: revision complete', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: starting revision - (chapter=1 iteration=1 contradictions=1 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 54, "{'chapter': 1, 'iteration': 1, 'contradictions': 1, 'event': 'revise_chapter: starting revision', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: calling LLM for revision - (chapter=1 model=test-revision-model iteration=2 max_tokens=16384 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 138, "{'chapter': 1, 'model': 'test-revision-model', 'iteration': 2, 'max_tokens': 16384, 'event': 'revise_chapter: calling LLM for revision', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: revision complete - (chapter=1 iteration=2 word_count=69 tokens_used=950 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 176, "{'chapter': 1, 'iteration': 2, 'word_count': 69, 'tokens_used': 950, 'event': 'revise_chapter: revision complete', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: starting revision - (chapter=1 iteration=2 contradictions=1 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 54, "{'chapter': 1, 'iteration': 2, 'contradictions': 1, 'event': 'revise_chapter: starting revision', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: calling LLM for revision - (chapter=1 model=test-revision-model iteration=3 max_tokens=16384 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 138, "{'chapter': 1, 'model': 'test-revision-model', 'iteration': 3, 'max_tokens': 16384, 'event': 'revise_chapter: calling LLM for revision', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: revision complete - (chapter=1 iteration=3 word_count=69 tokens_used=950 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 176, "{'chapter': 1, 'iteration': 3, 'word_count': 69, 'tokens_used': 950, 'event': 'revise_chapter: revision complete', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: starting revision - (chapter=1 iteration=3 contradictions=1 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 54, "{'chapter': 1, 'iteration': 3, 'contradictions': 1, 'event': 'revise_chapter: starting revision', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - warning - revise_chapter: max iterations reached - (iteration_count=3 max_iterations=3 _record=<LogRecord: core.langgraph.nodes.revision_node, 30, /home/user/saga/core/langgraph/nodes/revision_node.py, 66, "{'iteration_count': 3, 'max_iterations': 3, 'event': 'revise_chapter: max iterations reached', 'level': 'warning', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: starting revision - (chapter=1 iteration=0 contradictions=0 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 54, "{'chapter': 1, 'iteration': 0, 'contradictions': 0, 'event': 'revise_chapter: starting revision', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: calling LLM for revision - (chapter=1 model=test-revision-model iteration=1 max_tokens=16384 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 138, "{'chapter': 1, 'model': 'test-revision-model', 'iteration': 1, 'max_tokens': 16384, 'event': 'revise_chapter: calling LLM for revision', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.revision_node] - info - revise_chapter: revision complete - (chapter=1 iteration=1 word_count=69 tokens_used=950 _record=<LogRecord: core.langgraph.nodes.revision_node, 20, /home/user/saga/core/langgraph/nodes/revision_node.py, 176, "{'chapter': 1, 'iteration': 1, 'word_count': 69, 'tokens_used': 950, 'event': 'revise_chapter: revision complete', 'level': 'info', 'logger': 'core.langgraph.nodes.revision_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: starting summarization - (chapter=1 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 51, "{'chapter': 1, 'event': 'summarize_chapter: starting summarization', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: calling LLM for summary - (chapter=1 model=test-extraction-model _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 74, "{'chapter': 1, 'model': 'test-extraction-model', 'event': 'summarize_chapter: calling LLM for summary', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: summary generated - (chapter=1 summary_length=122 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 115, "{'chapter': 1, 'summary_length': 122, 'event': 'summarize_chapter: summary generated', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: summary saved to Neo4j - (chapter=1 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 232, "{'chapter': 1, 'event': 'summarize_chapter: summary saved to Neo4j', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: complete - (chapter=1 total_summaries_in_state=1 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 132, "{'chapter': 1, 'total_summaries_in_state': 1, 'event': 'summarize_chapter: complete', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: starting summarization - (chapter=1 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 51, "{'chapter': 1, 'event': 'summarize_chapter: starting summarization', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - warning - summarize_chapter: no draft text to summarize - (_record=<LogRecord: core.langgraph.nodes.summary_node, 30, /home/user/saga/core/langgraph/nodes/summary_node.py, 58, "{'event': 'summarize_chapter: no draft text to summarize', 'level': 'warning', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: starting summarization - (chapter=1 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 51, "{'chapter': 1, 'event': 'summarize_chapter: starting summarization', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: calling LLM for summary - (chapter=1 model=test-extraction-model _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 74, "{'chapter': 1, 'model': 'test-extraction-model', 'event': 'summarize_chapter: calling LLM for summary', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - error - summarize_chapter: LLM returned empty summary - (chapter=1 _record=<LogRecord: core.langgraph.nodes.summary_node, 40, /home/user/saga/core/langgraph/nodes/summary_node.py, 93, "{'chapter': 1, 'event': 'summarize_chapter: LLM returned empty summary', 'level': 'error', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: starting summarization - (chapter=1 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 51, "{'chapter': 1, 'event': 'summarize_chapter: starting summarization', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: calling LLM for summary - (chapter=1 model=test-extraction-model _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 74, "{'chapter': 1, 'model': 'test-extraction-model', 'event': 'summarize_chapter: calling LLM for summary', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - error - summarize_chapter: exception during summarization - (chapter=1 error=LLM service unavailable exc_info=True _record=<LogRecord: core.langgraph.nodes.summary_node, 40, /home/user/saga/core/langgraph/nodes/summary_node.py, 145, "{'chapter': 1, 'error': 'LLM service unavailable', 'exc_info': True, 'event': 'summarize_chapter: exception during summarization', 'level': 'error', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: starting summarization - (chapter=1 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 51, "{'chapter': 1, 'event': 'summarize_chapter: starting summarization', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: calling LLM for summary - (chapter=1 model=test-extraction-model _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 74, "{'chapter': 1, 'model': 'test-extraction-model', 'event': 'summarize_chapter: calling LLM for summary', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: summary generated - (chapter=1 summary_length=122 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 115, "{'chapter': 1, 'summary_length': 122, 'event': 'summarize_chapter: summary generated', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - error - summarize_chapter: failed to save summary to Neo4j - (chapter=1 error=Neo4j unavailable exc_info=True _record=<LogRecord: core.langgraph.nodes.summary_node, 40, /home/user/saga/core/langgraph/nodes/summary_node.py, 237, "{'chapter': 1, 'error': 'Neo4j unavailable', 'exc_info': True, 'event': 'summarize_chapter: failed to save summary to Neo4j', 'level': 'error', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: complete - (chapter=1 total_summaries_in_state=1 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 132, "{'chapter': 1, 'total_summaries_in_state': 1, 'event': 'summarize_chapter: complete', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: starting summarization - (chapter=5 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 51, "{'chapter': 5, 'event': 'summarize_chapter: starting summarization', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: calling LLM for summary - (chapter=5 model=test-extraction-model _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 74, "{'chapter': 5, 'model': 'test-extraction-model', 'event': 'summarize_chapter: calling LLM for summary', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: summary generated - (chapter=5 summary_length=122 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 115, "{'chapter': 5, 'summary_length': 122, 'event': 'summarize_chapter: summary generated', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: summary saved to Neo4j - (chapter=5 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 232, "{'chapter': 5, 'event': 'summarize_chapter: summary saved to Neo4j', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: complete - (chapter=5 total_summaries_in_state=5 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 132, "{'chapter': 5, 'total_summaries_in_state': 5, 'event': 'summarize_chapter: complete', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: starting summarization - (chapter=6 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 51, "{'chapter': 6, 'event': 'summarize_chapter: starting summarization', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: calling LLM for summary - (chapter=6 model=test-extraction-model _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 74, "{'chapter': 6, 'model': 'test-extraction-model', 'event': 'summarize_chapter: calling LLM for summary', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: summary generated - (chapter=6 summary_length=122 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 115, "{'chapter': 6, 'summary_length': 122, 'event': 'summarize_chapter: summary generated', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: summary saved to Neo4j - (chapter=6 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 232, "{'chapter': 6, 'event': 'summarize_chapter: summary saved to Neo4j', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: complete - (chapter=6 total_summaries_in_state=5 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 132, "{'chapter': 6, 'total_summaries_in_state': 5, 'event': 'summarize_chapter: complete', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: starting summarization - (chapter=1 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 51, "{'chapter': 1, 'event': 'summarize_chapter: starting summarization', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: calling LLM for summary - (chapter=1 model=test-extraction-model _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 74, "{'chapter': 1, 'model': 'test-extraction-model', 'event': 'summarize_chapter: calling LLM for summary', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: summary generated - (chapter=1 summary_length=122 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 115, "{'chapter': 1, 'summary_length': 122, 'event': 'summarize_chapter: summary generated', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: summary saved to Neo4j - (chapter=1 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 232, "{'chapter': 1, 'event': 'summarize_chapter: summary saved to Neo4j', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: complete - (chapter=1 total_summaries_in_state=1 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 132, "{'chapter': 1, 'total_summaries_in_state': 1, 'event': 'summarize_chapter: complete', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: starting summarization - (chapter=1 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 51, "{'chapter': 1, 'event': 'summarize_chapter: starting summarization', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: calling LLM for summary - (chapter=1 model=test-extraction-model _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 74, "{'chapter': 1, 'model': 'test-extraction-model', 'event': 'summarize_chapter: calling LLM for summary', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: summary generated - (chapter=1 summary_length=122 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 115, "{'chapter': 1, 'summary_length': 122, 'event': 'summarize_chapter: summary generated', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: summary saved to Neo4j - (chapter=1 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 232, "{'chapter': 1, 'event': 'summarize_chapter: summary saved to Neo4j', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: complete - (chapter=1 total_summaries_in_state=1 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 132, "{'chapter': 1, 'total_summaries_in_state': 1, 'event': 'summarize_chapter: complete', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: starting summarization - (chapter=1 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 51, "{'chapter': 1, 'event': 'summarize_chapter: starting summarization', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: calling LLM for summary - (chapter=1 model=test-extraction-model _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 74, "{'chapter': 1, 'model': 'test-extraction-model', 'event': 'summarize_chapter: calling LLM for summary', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: summary generated - (chapter=1 summary_length=122 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 115, "{'chapter': 1, 'summary_length': 122, 'event': 'summarize_chapter: summary generated', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: summary saved to Neo4j - (chapter=1 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 232, "{'chapter': 1, 'event': 'summarize_chapter: summary saved to Neo4j', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: complete - (chapter=1 total_summaries_in_state=1 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 132, "{'chapter': 1, 'total_summaries_in_state': 1, 'event': 'summarize_chapter: complete', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: starting summarization - (chapter=1 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 51, "{'chapter': 1, 'event': 'summarize_chapter: starting summarization', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: calling LLM for summary - (chapter=1 model=test-extraction-model _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 74, "{'chapter': 1, 'model': 'test-extraction-model', 'event': 'summarize_chapter: calling LLM for summary', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: summary generated - (chapter=1 summary_length=59 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 115, "{'chapter': 1, 'summary_length': 59, 'event': 'summarize_chapter: summary generated', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: summary saved to Neo4j - (chapter=1 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 232, "{'chapter': 1, 'event': 'summarize_chapter: summary saved to Neo4j', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: complete - (chapter=1 total_summaries_in_state=1 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 132, "{'chapter': 1, 'total_summaries_in_state': 1, 'event': 'summarize_chapter: complete', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: starting summarization - (chapter=1 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 51, "{'chapter': 1, 'event': 'summarize_chapter: starting summarization', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: calling LLM for summary - (chapter=1 model=test-extraction-model _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 74, "{'chapter': 1, 'model': 'test-extraction-model', 'event': 'summarize_chapter: calling LLM for summary', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: summary generated - (chapter=1 summary_length=122 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 115, "{'chapter': 1, 'summary_length': 122, 'event': 'summarize_chapter: summary generated', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: summary saved to Neo4j - (chapter=1 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 232, "{'chapter': 1, 'event': 'summarize_chapter: summary saved to Neo4j', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: complete - (chapter=1 total_summaries_in_state=1 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 132, "{'chapter': 1, 'total_summaries_in_state': 1, 'event': 'summarize_chapter: complete', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: starting summarization - (chapter=1 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 51, "{'chapter': 1, 'event': 'summarize_chapter: starting summarization', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: calling LLM for summary - (chapter=1 model=test-extraction-model _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 74, "{'chapter': 1, 'model': 'test-extraction-model', 'event': 'summarize_chapter: calling LLM for summary', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: summary generated - (chapter=1 summary_length=122 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 115, "{'chapter': 1, 'summary_length': 122, 'event': 'summarize_chapter: summary generated', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: summary saved to Neo4j - (chapter=1 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 232, "{'chapter': 1, 'event': 'summarize_chapter: summary saved to Neo4j', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: complete - (chapter=1 total_summaries_in_state=1 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 132, "{'chapter': 1, 'total_summaries_in_state': 1, 'event': 'summarize_chapter: complete', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: starting summarization - (chapter=1 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 51, "{'chapter': 1, 'event': 'summarize_chapter: starting summarization', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: calling LLM for summary - (chapter=1 model=test-extraction-model _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 74, "{'chapter': 1, 'model': 'test-extraction-model', 'event': 'summarize_chapter: calling LLM for summary', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: summary generated - (chapter=1 summary_length=122 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 115, "{'chapter': 1, 'summary_length': 122, 'event': 'summarize_chapter: summary generated', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: summary saved to Neo4j - (chapter=1 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 232, "{'chapter': 1, 'event': 'summarize_chapter: summary saved to Neo4j', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: complete - (chapter=1 total_summaries_in_state=1 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 132, "{'chapter': 1, 'total_summaries_in_state': 1, 'event': 'summarize_chapter: complete', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: starting summarization - (chapter=2 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 51, "{'chapter': 2, 'event': 'summarize_chapter: starting summarization', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: calling LLM for summary - (chapter=2 model=test-extraction-model _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 74, "{'chapter': 2, 'model': 'test-extraction-model', 'event': 'summarize_chapter: calling LLM for summary', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: summary generated - (chapter=2 summary_length=122 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 115, "{'chapter': 2, 'summary_length': 122, 'event': 'summarize_chapter: summary generated', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: summary saved to Neo4j - (chapter=2 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 232, "{'chapter': 2, 'event': 'summarize_chapter: summary saved to Neo4j', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: complete - (chapter=2 total_summaries_in_state=2 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 132, "{'chapter': 2, 'total_summaries_in_state': 2, 'event': 'summarize_chapter: complete', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: starting summarization - (chapter=3 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 51, "{'chapter': 3, 'event': 'summarize_chapter: starting summarization', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: calling LLM for summary - (chapter=3 model=test-extraction-model _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 74, "{'chapter': 3, 'model': 'test-extraction-model', 'event': 'summarize_chapter: calling LLM for summary', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: summary generated - (chapter=3 summary_length=122 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 115, "{'chapter': 3, 'summary_length': 122, 'event': 'summarize_chapter: summary generated', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: summary saved to Neo4j - (chapter=3 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 232, "{'chapter': 3, 'event': 'summarize_chapter: summary saved to Neo4j', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: complete - (chapter=3 total_summaries_in_state=3 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 132, "{'chapter': 3, 'total_summaries_in_state': 3, 'event': 'summarize_chapter: complete', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: starting summarization - (chapter=1 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 51, "{'chapter': 1, 'event': 'summarize_chapter: starting summarization', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: calling LLM for summary - (chapter=1 model=test-extraction-model _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 74, "{'chapter': 1, 'model': 'test-extraction-model', 'event': 'summarize_chapter: calling LLM for summary', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: summary generated - (chapter=1 summary_length=122 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 115, "{'chapter': 1, 'summary_length': 122, 'event': 'summarize_chapter: summary generated', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: summary saved to Neo4j - (chapter=1 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 232, "{'chapter': 1, 'event': 'summarize_chapter: summary saved to Neo4j', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.summary_node] - info - summarize_chapter: complete - (chapter=1 total_summaries_in_state=1 _record=<LogRecord: core.langgraph.nodes.summary_node, 20, /home/user/saga/core/langgraph/nodes/summary_node.py, 132, "{'chapter': 1, 'total_summaries_in_state': 1, 'event': 'summarize_chapter: complete', 'level': 'info', 'logger': 'core.langgraph.nodes.summary_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.validation_node] - info - validate_consistency - (chapter=1 relationships=1 characters=2 _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/user/saga/core/langgraph/nodes/validation_node.py, 52, "{'chapter': 1, 'relationships': 1, 'characters': 2, 'event': 'validate_consistency', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.validation_node] - info - validate_consistency: validation complete - (total_issues=0 critical=0 major=0 minor=0 needs_revision=False _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/user/saga/core/langgraph/nodes/validation_node.py, 103, "{'total_issues': 0, 'critical': 0, 'major': 0, 'minor': 0, 'needs_revision': False, 'event': 'validate_consistency: validation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.validation_node] - info - validate_consistency - (chapter=1 relationships=1 characters=2 _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/user/saga/core/langgraph/nodes/validation_node.py, 52, "{'chapter': 1, 'relationships': 1, 'characters': 2, 'event': 'validate_consistency', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.validation_node] - info - validate_consistency: validation complete - (total_issues=1 critical=0 major=0 minor=1 needs_revision=False _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/user/saga/core/langgraph/nodes/validation_node.py, 103, "{'total_issues': 1, 'critical': 0, 'major': 0, 'minor': 1, 'needs_revision': False, 'event': 'validate_consistency: validation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.validation_node] - info - validate_consistency - (chapter=1 relationships=0 characters=0 _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/user/saga/core/langgraph/nodes/validation_node.py, 52, "{'chapter': 1, 'relationships': 0, 'characters': 0, 'event': 'validate_consistency', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.validation_node] - info - validate_consistency: validation complete - (total_issues=1 critical=0 major=1 minor=0 needs_revision=False _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/user/saga/core/langgraph/nodes/validation_node.py, 103, "{'total_issues': 1, 'critical': 0, 'major': 1, 'minor': 0, 'needs_revision': False, 'event': 'validate_consistency: validation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.validation_node] - info - validate_consistency - (chapter=1 relationships=3 characters=2 _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/user/saga/core/langgraph/nodes/validation_node.py, 52, "{'chapter': 1, 'relationships': 3, 'characters': 2, 'event': 'validate_consistency', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.validation_node] - info - validate_consistency: validation complete - (total_issues=3 critical=0 major=3 minor=0 needs_revision=True _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/user/saga/core/langgraph/nodes/validation_node.py, 103, "{'total_issues': 3, 'critical': 0, 'major': 3, 'minor': 0, 'needs_revision': True, 'event': 'validate_consistency: validation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.validation_node] - info - validate_consistency - (chapter=1 relationships=1 characters=2 _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/user/saga/core/langgraph/nodes/validation_node.py, 52, "{'chapter': 1, 'relationships': 1, 'characters': 2, 'event': 'validate_consistency', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.validation_node] - info - validate_consistency: validation complete - (total_issues=1 critical=0 major=1 minor=0 needs_revision=False _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/user/saga/core/langgraph/nodes/validation_node.py, 103, "{'total_issues': 1, 'critical': 0, 'major': 1, 'minor': 0, 'needs_revision': False, 'event': 'validate_consistency: validation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.validation_node] - error - _validate_relationships: error during validation - (error=Validation error exc_info=True _record=<LogRecord: core.langgraph.nodes.validation_node, 40, /home/user/saga/core/langgraph/nodes/validation_node.py, 204, "{'error': 'Validation error', 'exc_info': True, 'event': '_validate_relationships: error during validation', 'level': 'error', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase1_graph: building workflow graph - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 127, "{'event': 'create_phase1_graph: building workflow graph', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase1_graph: graph built successfully - (nodes=['extract', 'commit', 'validate', 'revise'] entry_point=extract _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 180, "{'nodes': ['extract', 'commit', 'validate', 'revise'], 'entry_point': 'extract', 'event': 'create_phase1_graph: graph built successfully', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase1_graph: compiling without checkpointing - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 191, "{'event': 'create_phase1_graph: compiling without checkpointing', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=1 word_count=30 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/user/saga/core/langgraph/nodes/extraction_node.py, 63, "{'chapter': 1, 'word_count': 30, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.extraction_node] - info - extract_entities: extraction complete - (characters=2 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/user/saga/core/langgraph/nodes/extraction_node.py, 111, "{'characters': 2, 'world_items': 0, 'relationships': 0, 'event': 'extract_entities: extraction complete', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.commit_node] - info - commit_to_graph - (chapter=1 characters=2 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/user/saga/core/langgraph/nodes/commit_node.py, 72, "{'chapter': 1, 'characters': 2, 'world_items': 0, 'relationships': 0, 'event': 'commit_to_graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.commit_node] - warning - commit_to_graph: entity persistence returned failure flag - (chapter=1 _record=<LogRecord: core.langgraph.nodes.commit_node, 30, /home/user/saga/core/langgraph/nodes/commit_node.py, 121, "{'chapter': 1, 'event': 'commit_to_graph: entity persistence returned failure flag', 'level': 'warning', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: created chapter node - (chapter=1 word_count=30 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/user/saga/core/langgraph/nodes/commit_node.py, 507, "{'chapter': 1, 'word_count': 30, 'event': 'commit_to_graph: created chapter node', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: successfully committed to knowledge graph - (chapter=1 characters=2 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/user/saga/core/langgraph/nodes/commit_node.py, 144, "{'chapter': 1, 'characters': 2, 'world_items': 0, 'relationships': 0, 'event': 'commit_to_graph: successfully committed to knowledge graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.validation_node] - info - validate_consistency - (chapter=1 relationships=0 characters=2 _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/user/saga/core/langgraph/nodes/validation_node.py, 52, "{'chapter': 1, 'relationships': 0, 'characters': 2, 'event': 'validate_consistency', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.validation_node] - error - _check_character_traits: error during trait checking - (error=object MagicMock can't be used in 'await' expression exc_info=True _record=<LogRecord: core.langgraph.nodes.validation_node, 40, /home/user/saga/core/langgraph/nodes/validation_node.py, 326, "{'error': "object MagicMock can't be used in 'await' expression", 'exc_info': True, 'event': '_check_character_traits: error during trait checking', 'level': 'error', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.validation_node] - info - validate_consistency: validation complete - (total_issues=1 critical=0 major=1 minor=0 needs_revision=False _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/user/saga/core/langgraph/nodes/validation_node.py, 103, "{'total_issues': 1, 'critical': 0, 'major': 1, 'minor': 0, 'needs_revision': False, 'event': 'validate_consistency: validation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise: routing decision - (needs_revision=False iteration=0 max_iterations=3 force_continue=False _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 81, "{'needs_revision': False, 'iteration': 0, 'max_iterations': 3, 'force_continue': False, 'event': 'should_revise: routing decision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise: no revision needed, ending workflow - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 109, "{'event': 'should_revise: no revision needed, ending workflow', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase1_graph: building workflow graph - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 127, "{'event': 'create_phase1_graph: building workflow graph', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase1_graph: graph built successfully - (nodes=['extract', 'commit', 'validate', 'revise'] entry_point=extract _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 180, "{'nodes': ['extract', 'commit', 'validate', 'revise'], 'entry_point': 'extract', 'event': 'create_phase1_graph: graph built successfully', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase1_graph: compiling without checkpointing - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 191, "{'event': 'create_phase1_graph: compiling without checkpointing', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=1 word_count=2 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/user/saga/core/langgraph/nodes/extraction_node.py, 63, "{'chapter': 1, 'word_count': 2, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.extraction_node] - info - extract_entities: extraction complete - (characters=0 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/user/saga/core/langgraph/nodes/extraction_node.py, 111, "{'characters': 0, 'world_items': 0, 'relationships': 0, 'event': 'extract_entities: extraction complete', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.commit_node] - info - commit_to_graph - (chapter=1 characters=0 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/user/saga/core/langgraph/nodes/commit_node.py, 72, "{'chapter': 1, 'characters': 0, 'world_items': 0, 'relationships': 0, 'event': 'commit_to_graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.commit_node] - error - commit_to_graph: failed to create chapter node - (error=object MagicMock can't be used in 'await' expression chapter=1 exc_info=True _record=<LogRecord: core.langgraph.nodes.commit_node, 40, /home/user/saga/core/langgraph/nodes/commit_node.py, 514, "{'error': "object MagicMock can't be used in 'await' expression", 'chapter': 1, 'exc_info': True, 'event': 'commit_to_graph: failed to create chapter node', 'level': 'error', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: successfully committed to knowledge graph - (chapter=1 characters=0 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/user/saga/core/langgraph/nodes/commit_node.py, 144, "{'chapter': 1, 'characters': 0, 'world_items': 0, 'relationships': 0, 'event': 'commit_to_graph: successfully committed to knowledge graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.validation_node] - info - validate_consistency - (chapter=1 relationships=0 characters=0 _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/user/saga/core/langgraph/nodes/validation_node.py, 52, "{'chapter': 1, 'relationships': 0, 'characters': 0, 'event': 'validate_consistency', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.validation_node] - info - validate_consistency: validation complete - (total_issues=1 critical=0 major=1 minor=0 needs_revision=False _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/user/saga/core/langgraph/nodes/validation_node.py, 103, "{'total_issues': 1, 'critical': 0, 'major': 1, 'minor': 0, 'needs_revision': False, 'event': 'validate_consistency: validation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise: routing decision - (needs_revision=False iteration=0 max_iterations=2 force_continue=False _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 81, "{'needs_revision': False, 'iteration': 0, 'max_iterations': 2, 'force_continue': False, 'event': 'should_revise: routing decision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise: no revision needed, ending workflow - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 109, "{'event': 'should_revise: no revision needed, ending workflow', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase1_graph: building workflow graph - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 127, "{'event': 'create_phase1_graph: building workflow graph', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase1_graph: graph built successfully - (nodes=['extract', 'commit', 'validate', 'revise'] entry_point=extract _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 180, "{'nodes': ['extract', 'commit', 'validate', 'revise'], 'entry_point': 'extract', 'event': 'create_phase1_graph: graph built successfully', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase1_graph: compiling without checkpointing - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 191, "{'event': 'create_phase1_graph: compiling without checkpointing', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=1 word_count=2 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/user/saga/core/langgraph/nodes/extraction_node.py, 63, "{'chapter': 1, 'word_count': 2, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.extraction_node] - info - extract_entities: extraction complete - (characters=0 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/user/saga/core/langgraph/nodes/extraction_node.py, 111, "{'characters': 0, 'world_items': 0, 'relationships': 0, 'event': 'extract_entities: extraction complete', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.commit_node] - info - commit_to_graph - (chapter=1 characters=0 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/user/saga/core/langgraph/nodes/commit_node.py, 72, "{'chapter': 1, 'characters': 0, 'world_items': 0, 'relationships': 0, 'event': 'commit_to_graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.commit_node] - error - commit_to_graph: failed to create chapter node - (error=object MagicMock can't be used in 'await' expression chapter=1 exc_info=True _record=<LogRecord: core.langgraph.nodes.commit_node, 40, /home/user/saga/core/langgraph/nodes/commit_node.py, 514, "{'error': "object MagicMock can't be used in 'await' expression", 'chapter': 1, 'exc_info': True, 'event': 'commit_to_graph: failed to create chapter node', 'level': 'error', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: successfully committed to knowledge graph - (chapter=1 characters=0 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/user/saga/core/langgraph/nodes/commit_node.py, 144, "{'chapter': 1, 'characters': 0, 'world_items': 0, 'relationships': 0, 'event': 'commit_to_graph: successfully committed to knowledge graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.validation_node] - info - validate_consistency - (chapter=1 relationships=0 characters=0 _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/user/saga/core/langgraph/nodes/validation_node.py, 52, "{'chapter': 1, 'relationships': 0, 'characters': 0, 'event': 'validate_consistency', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.validation_node] - info - validate_consistency: validation complete - (total_issues=1 critical=0 major=1 minor=0 needs_revision=False _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/user/saga/core/langgraph/nodes/validation_node.py, 103, "{'total_issues': 1, 'critical': 0, 'major': 1, 'minor': 0, 'needs_revision': False, 'event': 'validate_consistency: validation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise: routing decision - (needs_revision=False iteration=0 max_iterations=1 force_continue=False _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 81, "{'needs_revision': False, 'iteration': 0, 'max_iterations': 1, 'force_continue': False, 'event': 'should_revise: routing decision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise: no revision needed, ending workflow - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 109, "{'event': 'should_revise: no revision needed, ending workflow', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase1_graph: building workflow graph - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 127, "{'event': 'create_phase1_graph: building workflow graph', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase1_graph: graph built successfully - (nodes=['extract', 'commit', 'validate', 'revise'] entry_point=extract _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 180, "{'nodes': ['extract', 'commit', 'validate', 'revise'], 'entry_point': 'extract', 'event': 'create_phase1_graph: graph built successfully', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase1_graph: compiling without checkpointing - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 191, "{'event': 'create_phase1_graph: compiling without checkpointing', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.extraction_node] - info - extract_entities - (chapter=1 word_count=2 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/user/saga/core/langgraph/nodes/extraction_node.py, 63, "{'chapter': 1, 'word_count': 2, 'event': 'extract_entities', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.extraction_node] - info - extract_entities: extraction complete - (characters=0 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.extraction_node, 20, /home/user/saga/core/langgraph/nodes/extraction_node.py, 111, "{'characters': 0, 'world_items': 0, 'relationships': 0, 'event': 'extract_entities: extraction complete', 'level': 'info', 'logger': 'core.langgraph.nodes.extraction_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.commit_node] - info - commit_to_graph - (chapter=1 characters=0 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/user/saga/core/langgraph/nodes/commit_node.py, 72, "{'chapter': 1, 'characters': 0, 'world_items': 0, 'relationships': 0, 'event': 'commit_to_graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.commit_node] - error - commit_to_graph: failed to create chapter node - (error=object MagicMock can't be used in 'await' expression chapter=1 exc_info=True _record=<LogRecord: core.langgraph.nodes.commit_node, 40, /home/user/saga/core/langgraph/nodes/commit_node.py, 514, "{'error': "object MagicMock can't be used in 'await' expression", 'chapter': 1, 'exc_info': True, 'event': 'commit_to_graph: failed to create chapter node', 'level': 'error', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.commit_node] - info - commit_to_graph: successfully committed to knowledge graph - (chapter=1 characters=0 world_items=0 relationships=0 _record=<LogRecord: core.langgraph.nodes.commit_node, 20, /home/user/saga/core/langgraph/nodes/commit_node.py, 144, "{'chapter': 1, 'characters': 0, 'world_items': 0, 'relationships': 0, 'event': 'commit_to_graph: successfully committed to knowledge graph', 'level': 'info', 'logger': 'core.langgraph.nodes.commit_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.validation_node] - info - validate_consistency - (chapter=1 relationships=0 characters=0 _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/user/saga/core/langgraph/nodes/validation_node.py, 52, "{'chapter': 1, 'relationships': 0, 'characters': 0, 'event': 'validate_consistency', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.nodes.validation_node] - info - validate_consistency: validation complete - (total_issues=1 critical=0 major=1 minor=0 needs_revision=False _record=<LogRecord: core.langgraph.nodes.validation_node, 20, /home/user/saga/core/langgraph/nodes/validation_node.py, 103, "{'total_issues': 1, 'critical': 0, 'major': 1, 'minor': 0, 'needs_revision': False, 'event': 'validate_consistency: validation complete', 'level': 'info', 'logger': 'core.langgraph.nodes.validation_node', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise: routing decision - (needs_revision=False iteration=0 max_iterations=3 force_continue=True _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 81, "{'needs_revision': False, 'iteration': 0, 'max_iterations': 3, 'force_continue': True, 'event': 'should_revise: routing decision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise: force_continue enabled, skipping revision - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 91, "{'event': 'should_revise: force_continue enabled, skipping revision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise: routing decision - (needs_revision=True iteration=0 max_iterations=3 force_continue=False _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 81, "{'needs_revision': True, 'iteration': 0, 'max_iterations': 3, 'force_continue': False, 'event': 'should_revise: routing decision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise: revision needed, routing to revise node - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 105, "{'event': 'should_revise: revision needed, routing to revise node', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise: routing decision - (needs_revision=True iteration=3 max_iterations=3 force_continue=False _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 81, "{'needs_revision': True, 'iteration': 3, 'max_iterations': 3, 'force_continue': False, 'event': 'should_revise: routing decision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - warning - should_revise: max iterations reached, ending workflow - (iteration_count=3 max_iterations=3 _record=<LogRecord: core.langgraph.workflow, 30, /home/user/saga/core/langgraph/workflow.py, 96, "{'iteration_count': 3, 'max_iterations': 3, 'event': 'should_revise: max iterations reached, ending workflow', 'level': 'warning', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise: routing decision - (needs_revision=True iteration=0 max_iterations=3 force_continue=True _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 81, "{'needs_revision': True, 'iteration': 0, 'max_iterations': 3, 'force_continue': True, 'event': 'should_revise: routing decision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise: force_continue enabled, skipping revision - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 91, "{'event': 'should_revise: force_continue enabled, skipping revision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise: routing decision - (needs_revision=False iteration=0 max_iterations=3 force_continue=False _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 81, "{'needs_revision': False, 'iteration': 0, 'max_iterations': 3, 'force_continue': False, 'event': 'should_revise: routing decision', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - should_revise: no revision needed, ending workflow - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 109, "{'event': 'should_revise: no revision needed, ending workflow', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_checkpointer: creating async SQLite checkpointer - (db_path=/tmp/pytest-of-root/pytest-13/test_create_checkpointer0/test.db _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 366, "{'db_path': '/tmp/pytest-of-root/pytest-13/test_create_checkpointer0/test.db', 'event': 'create_checkpointer: creating async SQLite checkpointer', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_checkpointer: creating async SQLite checkpointer - (db_path=/tmp/pytest-of-root/pytest-13/test_graph_with_checkpointing0/checkpoint.db _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 366, "{'db_path': '/tmp/pytest-of-root/pytest-13/test_graph_with_checkpointing0/checkpoint.db', 'event': 'create_checkpointer: creating async SQLite checkpointer', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase1_graph: building workflow graph - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 127, "{'event': 'create_phase1_graph: building workflow graph', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase1_graph: graph built successfully - (nodes=['extract', 'commit', 'validate', 'revise'] entry_point=extract _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 180, "{'nodes': ['extract', 'commit', 'validate', 'revise'], 'entry_point': 'extract', 'event': 'create_phase1_graph: graph built successfully', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase1_graph: compiling with checkpointing enabled - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 188, "{'event': 'create_phase1_graph: compiling with checkpointing enabled', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase1_graph: building workflow graph - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 127, "{'event': 'create_phase1_graph: building workflow graph', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase1_graph: graph built successfully - (nodes=['extract', 'commit', 'validate', 'revise'] entry_point=extract _record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 180, "{'nodes': ['extract', 'commit', 'validate', 'revise'], 'entry_point': 'extract', 'event': 'create_phase1_graph: graph built successfully', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
11/07/2025, 06:41:44 - [core.langgraph.workflow] - info - create_phase1_graph: compiling without checkpointing - (_record=<LogRecord: core.langgraph.workflow, 20, /home/user/saga/core/langgraph/workflow.py, 191, "{'event': 'create_phase1_graph: compiling without checkpointing', 'level': 'info', 'logger': 'core.langgraph.workflow', 'timestamp': '11/07/2025, 06:41:44'}"> _from_structlog=True)
